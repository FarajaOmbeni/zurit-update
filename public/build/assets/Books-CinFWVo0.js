import{N as $,_ as j}from"./Footer-CkgEo1lv.js";import{r as w,C as B,b as p,o as c,f as x,a as e,t as r,c as E,u as o,g as S,d as a,D as M,M as P,w as N,h as O,F as V,m as U}from"./app-B0wWRugT.js";import{_ as m,B as A}from"./Button-ttNUo4Iq.js";import{u as z,_ as D}from"./useAlert-BM5V3WF0.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const F={key:0,class:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50"},T={class:"bg-white p-6 rounded-lg shadow-lg max-w-lg relative"},K={class:"grid grid-cols-2 gap-2"},G=["src","alt"],W={class:"flex flex-col justify-between"},I={class:"text-xl font-bold"},L={class:"text-md mb-2"},R={class:"flex flex-col gap-2"},Y={class:"text-lg font-semibold text-yellow-600"},q={key:1,class:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50"},H={class:"absolute top-4 w-full flex justify-center z-[100]"},J={class:"bg-white p-6 rounded-lg shadow-lg w-[28rem] relative z-[60]"},Q={__name:"BookModal",props:{show:Boolean,book:Object,user:{type:Object,default:null}},setup(t){var k,y,v;const{openAlert:u,clearAlert:b,alertState:i}=z(),g=w(!1),d=t,s=B({name:((k=d.user)==null?void 0:k.name)??"",email:((y=d.user)==null?void 0:y.email)??"",confirm_email:((v=d.user)==null?void 0:v.email)??"",price:"",phone:"",title:"",address:""});function _(){s.title=d.book.title,s.price=d.book.price,g.value=!0}function C(){s.post(route("buy.book"),{onSuccess:()=>{s.reset(),u("success",`Book Purchased Succesfully!
We will get back to you soon!`,5e3)},onError:h=>{const l=Object.values(h).flat().join(" ");u("danger",l,1e4)}})}return(h,l)=>(c(),p(V,null,[t.show?(c(),p("div",F,[e("div",T,[e("button",{onClick:l[0]||(l[0]=n=>h.$emit("close")),class:"absolute top-2 right-2 text-gray-600 hover:text-gray-900"}," ✕ "),e("div",K,[e("div",null,[e("img",{src:t.book.image,alt:t.book.title,class:"w-[15rem] h-[22rem] rounded-md"},null,8,G)]),e("div",W,[e("div",null,[e("h1",I,r(t.book.title),1),e("p",L,r(t.book.description),1)]),e("div",R,[e("p",Y,"Price: KES "+r(t.book.price),1),e("button",{onClick:_,class:"mt-4 bg-purple-600 text-white px-4 py-2 rounded-md text-sm hover:bg-purple-700 transition"}," Purchase ")])])])])])):x("",!0),g.value?(c(),p("div",q,[e("div",H,[o(i)?(c(),E(D,{key:0,type:o(i).type,message:o(i).message,duration:o(i).duration,"auto-close":o(i).autoClose,onClose:o(b)},null,8,["type","message","duration","auto-close","onClose"])):x("",!0)]),e("div",J,[e("button",{onClick:l[1]||(l[1]=n=>g.value=!1),class:"absolute top-2 right-2 text-gray-600 hover:text-gray-900"}," ✕ "),l[7]||(l[7]=e("h2",{class:"text-lg font-bold text-purple-900 mb-4"},"Enter Details",-1)),e("form",{onSubmit:S(C,["prevent"])},[a(m,{label:"Name",placeholder:"Enter your name",modelValue:o(s).name,"onUpdate:modelValue":l[2]||(l[2]=n=>o(s).name=n)},null,8,["modelValue"]),a(m,{label:"Email",placeholder:"Enter your email",modelValue:o(s).email,"onUpdate:modelValue":l[3]||(l[3]=n=>o(s).email=n)},null,8,["modelValue"]),a(m,{label:"Confirm Email",placeholder:"Confirm your email",modelValue:o(s).confirm_email,"onUpdate:modelValue":l[4]||(l[4]=n=>o(s).confirm_email=n)},null,8,["modelValue"]),a(m,{label:"Address",placeholder:"Enter your address",modelValue:o(s).address,"onUpdate:modelValue":l[5]||(l[5]=n=>o(s).address=n)},null,8,["modelValue"]),a(m,{label:"Phone number",placeholder:"Safaricom phone number for payment",modelValue:o(s).phone,"onUpdate:modelValue":l[6]||(l[6]=n=>o(s).phone=n)},null,8,["modelValue"]),M(e("p",{class:"font-bold text-sm text-green-500"},"We have sent an MPESA STK Push to "+r(o(s).phone)+". Input your pin to continue",513),[[P,o(s).processing]]),a(A,{type:"submit",processing:o(s).processing},{default:N(()=>[O(r(o(s).processing?"Loading...":"Submit"),1)]),_:1},8,["processing"])],32)])])):x("",!0)],64))}},X={class:"bg-white md:w-[20rem] p-4 rounded-lg shadow-md text-center max-w-sm border"},Z=["src","alt"],ee={class:"mt-4 text-xl font-bold text-gray-900"},te={class:"text-gray-600 text-sm mt-2 line-clamp-2"},oe={class:"text-gray-900 font-semibold mt-2"},f={__name:"BookCard",props:{book:Object,user:{type:Object,default:null}},setup(t){const u=w(!1),b=()=>{u.value=!0},i=()=>{u.value=!1};return(g,d)=>(c(),p("div",X,[e("img",{src:t.book.image,alt:t.book.title,class:"md:h-[25rem] object-cover rounded-md"},null,8,Z),e("h2",ee,r(t.book.title),1),e("p",te,r(t.book.description),1),e("p",oe,"Price: Kshs "+r(t.book.price),1),e("button",{onClick:b,class:"mt-4 bg-purple-600 text-white px-4 py-2 rounded-md text-sm hover:bg-purple-700 transition"}," Get a Copy "),a(Q,{show:u.value,book:t.book,onClose:i,user:t.user},null,8,["show","book","user"])]))}},se={class:"mt-12 p-16"},le={class:"flex flex-col flex-wrap md:flex-row items-center md:items-start justify-center gap-12"},de={__name:"Books",props:{user:{type:Object,default:null}},setup(t){return console.log("User: ",t.user),(b,i)=>(c(),p(V,null,[a(o(U),{title:"Books"}),a($),e("div",se,[i[0]||(i[0]=e("h2",{class:"text-3xl mb-4 lg:text-4xl font-bold text-yellow-600"},"Books",-1)),e("div",le,[a(f,{book:{title:"Thrive",description:"Your ultimate guide to financial freedom. Clear, concise steps to wealth creation.",price:10,image:"/images/books/thrive.webp"},user:t.user},null,8,["user"]),a(f,{book:{title:"Financial Goal Setting",description:"Unlock the path to realizing your financial deams with this insightful guide. Dive into the crucial art of goal setting, guided by the wheel of life, to pinpoint your aspirations",price:350,image:"/images/books/goal_setting.webp"},user:t.user},null,8,["user"]),a(f,{book:{title:"Transcend",description:"Navigating the Realities - Beyond the allure of Entrepreneurship",price:1800,image:"/images/books/transcend.jpg"},user:t.user},null,8,["user"]),a(f,{book:{title:"From Earning to Empowerment",description:"A guide to financial wellness",price:350,image:"/images/books/earning.png"},user:t.user},null,8,["user"])])]),a(j)],64))}};export{de as default};
