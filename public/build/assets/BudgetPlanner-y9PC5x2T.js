import{r as h,C as H,p as v,n as we,l as he,b as a,o as i,d as q,u as n,m as ke,w as ne,a as e,f as p,q as u,c as Se,t as r,H as x,z as Q,F as g,s as y,g as W,E as D,v as _,U as T}from"./app-C_t9U1B8.js";import{A as Ce}from"./AuthenticatedLayout-B0XS3xTx.js";import{_ as Ee}from"./Sidebar-BPfOjVP0.js";import{_ as le}from"./BudgetBarChart-D27J2yoJ.js";import{u as Ie,_ as De}from"./useAlert-CVjqzZjq.js";import{f as Ae}from"./useDateFormat-pjOuPPEs.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css                                                */import"./useFormatCurrency-DPZVhC5N.js";const re=[{value:"rent",label:"Rent"},{value:"utilities",label:"Utilities"},{value:"groceries",label:"Groceries"},{value:"eatout",label:"Eating out"},{value:"transportation",label:"Transportation"},{value:"fuel",label:"Fuel"},{value:"insurance",label:"Insurance"},{value:"investment",label:"Investment Contribution"},{value:"debt",label:"Debt Payment"},{value:"goal",label:"Goal Contribution"},{value:"other",label:"Other"}],ie=[{value:"salary",label:"Salary"},{value:"freelance",label:"Freelance"},{value:"business_income",label:"Business Income"},{value:"rental_income",label:"Rental Income"},{value:"investments",label:"Investments"},{value:"side_hustle",label:"Side Hustle"},{value:"bonus",label:"Bonus"},{value:"other",label:"Other"}],Me={class:"w-full text-gray-900"},je={class:"py-6"},Te={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},Ue={class:"flex justify-between"},Ve={class:"text-2xl font-semibold text-gray-900"},Oe={class:"px-6"},$e={key:1,class:"mt-6 grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4"},qe={class:"bg-white overflow-hidden shadow rounded-lg"},Be={class:"px-4 py-5 sm:p-6"},Le={class:"mt-1 text-3xl font-semibold text-green-600"},Ne={class:"bg-white overflow-hidden shadow rounded-lg"},Fe={class:"px-4 py-5 sm:p-6"},Ke={class:"mt-1 text-3xl font-semibold text-red-500"},Ye={class:"bg-white overflow-hidden shadow rounded-lg"},Re={class:"px-4 py-5 sm:p-6"},ze={class:"bg-white overflow-hidden shadow rounded-lg"},Pe={class:"px-4 py-5 sm:p-6 flex flex-col space-y-2"},Ge={key:2,class:"mt-6 text-center"},Je={class:"mt-4 flex justify-center space-x-2"},He={class:"my-4 w-full flex justify-center"},Qe=["href"],We={key:3,class:"mt-8 grid grid-cols-1 gap-8 lg:grid-cols-2"},Xe={class:"mt-12"},Ze={class:"text-xl font-bold text-gray-900 text-center"},et={class:"mt-4 bg-white shadow rounded-lg"},tt={class:"divide-y divide-gray-200"},st={class:"flex items-center justify-between"},ot={class:"text-sm font-medium text-gray-900"},nt={class:"flex flex-col gap-2 md:flex-row md:gap-0 text-sm items-center space-x-2"},lt={class:"text-green-600 font-medium"},rt=["onClick"],it=["onClick"],at={class:"px-4 py-3 bg-gray-50"},dt={class:"flex items-center justify-between"},ut={class:"text-sm font-bold text-green-600"},mt={class:"mt-12"},ct={class:"text-xl font-bold text-gray-900 text-center"},bt={class:"mt-4 bg-white shadow rounded-lg"},pt={class:"divide-y divide-gray-200"},gt={class:"flex items-center justify-between"},ft={class:"text-sm font-medium text-gray-900"},vt={class:"flex flex-col gap-2 md:flex-row md:gap-0 text-sm items-center space-x-2"},xt={class:"text-red-600 font-medium"},yt={class:"px-4 py-3 bg-gray-50"},_t={class:"flex items-center justify-between"},wt={class:"text-sm font-bold text-red-600"},ht={class:"mt-12"},kt={class:"mt-4 bg-white shadow rounded-lg"},St={class:"divide-y divide-gray-200"},Ct={key:0,class:"px-4 py-6 text-center text-gray-500"},Et={class:"flex items-center justify-between"},It={class:"text-sm font-medium text-gray-900"},Dt={class:"text-sm text-gray-500"},At={class:"flex flex-col gap-2 md:flex-row md:gap-0 text-sm items-center space-x-2"},Mt=["onClick"],jt=["onClick"],Tt={class:"px-4 py-3 bg-gray-50 border-t border-gray-200"},Ut={class:"flex justify-between items-center"},Vt={class:"text-sm font-medium text-gray-700"},Ot={class:"text-right"},$t={class:"text-sm font-medium text-green-600"},qt={class:"text-sm font-medium text-red-600"},Bt={key:0,class:"fixed inset-0 overflow-y-auto z-10 flex items-center justify-center"},Lt={class:"relative bg-white rounded-lg max-w-sm w-full mx-2 p-4 shadow-lg"},Nt={class:"mb-3"},Ft=["value"],Kt={class:"mb-3"},Yt=["required"],Rt={class:"mb-3"},zt={class:"flex space-x-4"},Pt={class:"flex items-center text-sm"},Gt={class:"flex items-center text-sm"},Jt={class:"mb-3"},Ht={class:"mb-3"},Qt={class:"mb-4"},Wt={class:"flex justify-end space-x-2"},Xt={type:"submit",class:"px-3 py-1.5 border border-transparent rounded-md shadow-sm text-sm text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500"},Zt={key:1,class:"fixed inset-0 overflow-y-auto z-10 flex items-center justify-center"},es={class:"relative bg-white rounded-lg max-w-sm w-full mx-2 p-4 shadow-lg"},ts={class:"mb-3"},ss=["value"],os={class:"mb-3"},ns=["required"],ls={class:"mb-3"},rs={class:"flex space-x-4"},is={class:"flex items-center text-sm"},as={class:"flex items-center text-sm"},ds={class:"mb-4"},us=["value"],ms=["value"],cs=["value"],bs={class:"mb-3"},ps={class:"mb-3"},gs={class:"mb-4"},fs={class:"flex justify-end space-x-2"},vs={type:"submit",class:"px-3 py-1.5 border border-transparent rounded-md shadow-sm text-sm text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500"},xs={key:2,class:"fixed mr-16 sm:mr-0 inset-0 flex items-center justify-center bg-black bg-opacity-50"},ys={class:"bg-white rounded-lg shadow-lg p-4 sm:p-6 w-full max-w-xs sm:max-w-sm md:max-w-md"},_s={class:"mb-4"},ws=["value"],hs=["value"],ks=["value"],Ss=["value"],Cs={class:"mb-3"},Es={class:"flex space-x-4"},Is={class:"flex items-center text-sm"},Ds={class:"flex items-center text-sm"},As={class:"mb-4"},Ms={class:"mb-4"},js={class:"mb-4"},Ts={class:"flex justify-end space-x-2"},Us={type:"submit",class:"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded"},Vs={key:3,class:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50"},Os={class:"bg-white rounded-lg shadow-lg p-4 sm:p-6 w-full max-w-xs sm:max-w-sm md:max-w-md"},$s={class:"flex justify-end space-x-2"},qs={key:4,class:"fixed inset-0 overflow-y-auto z-10 flex items-center justify-center"},Bs={class:"relative bg-purple-900 text-white rounded-lg max-w-md w-full mx-4 p-4 shadow-xl border-2 border-yellow-500"},Ls={class:"space-y-2"},Ns={class:"flex justify-between items-center"},Fs={class:"text-xs font-medium text-white"},Ks={class:"text-xs font-semibold text-yellow-500"},Ys={class:"bg-purple-900 border border-yellow-500 rounded-lg p-2 mt-2"},Rs={class:"flex justify-between items-center"},zs={class:"text-sm font-semibold text-yellow-500"},Ps={class:"mt-3 flex justify-end space-x-2"},so={__name:"BudgetPlanner",props:{data:Object,today:String},setup(X){const{alertState:U,openAlert:f,clearAlert:ae}=Ie(),k=X,V=h([]),B=h(!1),L=h(!1),m=h(null),w=H({category:"",description:"",amount:"",transaction_date:"",is_recurring:!1}),S=h(null),Y=h([]),N=v(()=>S.value?V.value.filter(o=>{const t=new Date(o.transaction_date);return se(t)===S.value}):V.value),R=v(()=>N.value.filter(o=>o.type==="income")),F=v(()=>N.value.filter(o=>o.type!=="income")),O=v(()=>R.value.reduce((o,t)=>o+parseFloat(t.amount),0)),A=v(()=>F.value.reduce((o,t)=>o+parseFloat(t.amount),0)),$=v(()=>O.value-A.value),C=v(()=>V.value.length>0),de=v(()=>{const t=R.value.reduce((s,d)=>{const b=d.category;return s[b]||(s[b]={totalAmount:0}),s[b].totalAmount+=parseFloat(d.amount),s},{});return Object.entries(t).map(([s,{totalAmount:d}])=>({label:s,amount:Math.round(d)})).sort((s,d)=>d.amount-s.amount).slice(0,3)}),ue=v(()=>{const t=F.value.reduce((d,b)=>{const I=b.category;return d[I]||(d[I]=[]),d[I].push(b),d},{});return Object.entries(t).map(([d,b])=>({category:d,totalAmount:b.reduce((I,J)=>I+parseFloat(J.amount),0),expenses:b})).sort((d,b)=>b.totalAmount-d.totalAmount).slice(0,3).map(d=>({label:d.category,amount:Math.round(d.totalAmount),expenses:d.expenses}))}),Z=v(()=>F.value?F.value.reduce((o,t)=>{const s=t.category;return o[s]||(o[s]=0),o[s]+=parseFloat(t.amount),o},{}):{}),M=async()=>{try{V.value=k.data.transactions||[],ye()}catch(o){console.error("Error fetching or initializing data:",o),f("danger","Failed to load data.",5e3)}},ee=o=>{m.value={...o,transaction_date:o.transaction_date?new Date(o.transaction_date).toISOString().split("T")[0]:""},B.value=!0},te=o=>{m.value=o,L.value=!0},me=()=>{const o=m.value;w.category=o.category,w.description=o.description,w.amount=o.amount,w.is_recurring=o.is_recurring,w.transaction_date=o.transaction_date;const t=o.type==="income"?"income.edit":"expense.edit";w.put(route(t,o.id),{onSuccess:()=>{B.value=!1,f("success","Transaction Updated Successfully",5e3),M()},onError:s=>{f("danger",Object.values(s).flat().join(" "),5e3),console.error("Error editing transaction:",s)}})},ce=()=>{const o=m.value,t=o.type==="income"?"income.destroy":"expense.destroy";w.delete(route(t,o.id),{onSuccess:()=>{f("warning","Transaction Deleted Successfully",5e3),L.value=!1,M()},onError:s=>{f("danger","Error Deleting Transaction",5e3),console.error("Error deleting transaction:",s)}})},j=h(!1),E=h(!1),K=h(!1),z=v(()=>l.category==="debt"||l.category==="investment"||l.category==="goal"),c=H({category:"",otherCategory:"",amount:"",description:"",income_date:"",is_recurring:!0}),l=H({category:"",otherCategory:"",amount:"",description:"",expense_date:"",is_recurring:!0});we(()=>[l.category,l.debtId,l.goalId,l.investmentId],()=>{if(l.category==="debt"){const o=k.data.debts.find(t=>t.id==l.debtId);l.description=o?o.description:""}else if(l.category==="goal"){const o=k.data.goals.find(t=>t.id==l.goalId);l.description=o?o.description:""}else if(l.category==="investment"){const o=k.data.investments.find(t=>t.id==l.investmentId);l.description=o?o.details_of_investment:""}else l.description=""},{immediate:!0});const be=()=>{c.post(route("income.store"),{onSuccess:()=>{j.value=!1,c.reset(),f("success","Income added successfully",5e3),M()},onError:o=>{const t=Object.values(o).flat().join(" ");f("danger",t,5e3)}})},pe=()=>{l.category==="debt"?fe():l.category==="investment"?ve():l.category==="goal"?xe():ge()},ge=()=>{l.post(route("expense.store"),{onSuccess:()=>{E.value=!1,l.reset(),f("success","Expense added successfully",5e3),M()},onError:o=>{const t=Object.values(o).flat().join(" ");f("danger",t,5e3)}})},P=()=>{E.value=!1,l.reset(),f("success","Contribution Made Successfully.",5e3),M()},G=o=>{const t=Object.values(o).flat().join(" ");f("danger",t,5e3)},fe=()=>{l.put(route("debt.contribute",l.debtId),{onSuccess:P,onError:G})},ve=()=>{l.put(route("invest.contribute",l.investmentId),{onSuccess:P,onError:G})},xe=()=>{l.put(route("goal.contribute",l.goalId),{onSuccess:P,onError:G})};function ye(){const o={};V.value.forEach(t=>{const s=new Date(t.transaction_date),d=se(s);o[d]=!0}),Y.value=Object.keys(o).sort((t,s)=>{const[d,b]=t.split(" "),[I,J]=s.split(" ");return J-b||oe(I)-oe(d)}),Y.value.length>0?_e(Y.value[0]):(S.value=new Date().toLocaleString("en-US",{month:"long",year:"numeric"}),O.value=0,A.value=0,$.value=0)}function se(o){return`${["January","February","March","April","May","June","July","August","September","October","November","December"][o.getMonth()]} ${o.getFullYear()}`}function oe(o){return["January","February","March","April","May","June","July","August","September","October","November","December"].indexOf(o.split(" ")[0])}function _e(o){S.value=o}return he(()=>{M()}),(o,t)=>(i(),a(g,null,[q(n(ke),{title:"Budget Planner"}),q(Ce,null,{default:ne(()=>[e("div",Me,[q(Ee,null,{default:ne(()=>[e("div",je,[e("div",Te,[u(e("div",Ue,[e("div",null,[e("h1",Ve,r(X.today)+"'s Budget",1)]),e("div",Oe,[e("button",{onClick:t[0]||(t[0]=s=>K.value=!0),class:"w-full py-2 px-4 bg-purple-600 hover:bg-purple-700 text-white font-medium rounded-md transition duration-150"}," View Budget ")])],512),[[x,C.value]]),n(U)?(i(),Se(De,{key:0,type:n(U).type,message:n(U).message,duration:n(U).duration,"auto-close":n(U).autoClose,onClose:n(ae)},null,8,["type","message","duration","auto-close","onClose"])):p("",!0),C.value?(i(),a("div",$e,[e("div",qe,[e("div",Be,[t[37]||(t[37]=e("dt",{class:"text-sm font-medium text-gray-500 truncate"},"Total Income",-1)),e("dd",Le,"KES "+r(O.value.toLocaleString()),1)])]),e("div",Ne,[e("div",Fe,[t[38]||(t[38]=e("dt",{class:"text-sm font-medium text-gray-500 truncate"},"Total Expenses",-1)),e("dd",Ke,"KES "+r(A.value.toLocaleString()),1)])]),e("div",Ye,[e("div",Re,[t[39]||(t[39]=e("dt",{class:"text-sm font-medium text-gray-500 truncate"},"Balance",-1)),e("dd",{class:Q(["mt-1 text-3xl font-semibold",$.value>=0?"text-green-600":"text-red-600"])}," KES "+r($.value.toLocaleString()),3)])]),e("div",ze,[e("div",Pe,[e("button",{onClick:t[1]||(t[1]=s=>j.value=!0),class:"w-full py-2 px-4 bg-green-600 hover:bg-green-700 text-white font-medium rounded-md transition duration-150"}," Add Income "),e("button",{onClick:t[2]||(t[2]=s=>E.value=!0),class:"w-full py-2 px-4 bg-red-600 hover:bg-red-700 text-white font-medium rounded-md transition duration-150"}," Add Expense ")])])])):p("",!0),C.value?p("",!0):(i(),a("div",Ge,[t[40]||(t[40]=e("p",{class:"text-lg text-gray-600"},"You have no data available for this month.",-1)),e("div",Je,[e("button",{onClick:t[3]||(t[3]=s=>j.value=!0),class:"py-2 px-4 bg-green-600 hover:bg-green-700 text-white font-medium rounded-md transition duration-150"}," Add Income "),e("button",{onClick:t[4]||(t[4]=s=>E.value=!0),class:"py-2 px-4 bg-red-600 hover:bg-red-700 text-white font-medium rounded-md transition duration-150"}," Add Expense ")])])),e("div",He,[e("a",{target:"_blank",href:o.route("budget.budgets"),class:"bg-purple-500 px-4 py-2 rounded-md text-white hover:bg-purple-600"},"View Previous Budgets",8,Qe)]),C.value?(i(),a("div",We,[q(le,{title:"Top Income Sources",items:de.value,type:"income",class:"bg-white shadow rounded-lg"},null,8,["items"]),q(le,{title:"Top Expenses",items:ue.value,type:"expense",class:"bg-white shadow rounded-lg"},null,8,["items"])])):p("",!0),u(e("div",Xe,[e("h2",Ze,"Your Income - "+r(S.value),1),e("div",et,[e("ul",tt,[(i(!0),a(g,null,y(R.value,s=>(i(),a("li",{key:s.id,class:"px-4 py-3"},[e("div",st,[e("div",null,[e("p",ot,r(s.category)+" - "+r(s.description),1)]),e("div",nt,[e("div",lt," + KES "+r(Math.round(parseFloat(s.amount)).toLocaleString()),1),e("button",{onClick:d=>ee(s),class:"bg-blue-500 hover:bg-blue-600 text-white px-3 py-1 rounded"}," Edit ",8,rt),e("button",{onClick:d=>te(s),class:"bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded"}," Delete ",8,it)])])]))),128)),e("li",at,[e("div",dt,[t[41]||(t[41]=e("div",null,[e("p",{class:"text-sm font-bold text-gray-900"}," TOTAL INCOME ")],-1)),e("div",ut," KES "+r(O.value.toLocaleString()),1)])])])])],512),[[x,C.value]]),u(e("div",mt,[e("h2",ct,"Your Budget - "+r(S.value),1),e("div",bt,[e("ul",pt,[(i(!0),a(g,null,y(Z.value,(s,d)=>(i(),a("li",{key:d,class:"px-4 py-3"},[e("div",gt,[e("div",null,[e("p",ft,r(d),1)]),e("div",vt,[e("div",xt," - KES "+r(Math.round(parseFloat(s)).toLocaleString()),1)])])]))),128)),e("li",yt,[e("div",_t,[t[42]||(t[42]=e("div",null,[e("p",{class:"text-sm font-bold text-gray-900"}," TOTAL MONTHLY BUDGET ")],-1)),e("div",wt," KES "+r(A.value.toLocaleString()),1)])])])])],512),[[x,C.value]]),u(e("div",ht,[t[43]||(t[43]=e("h2",{class:"text-xl font-bold text-center text-gray-900"},"All Transactions",-1)),e("div",kt,[e("ul",St,[N.value.length===0?(i(),a("li",Ct," No transactions right now. Add the first transaction. ")):p("",!0),(i(!0),a(g,null,y(N.value,s=>(i(),a("li",{key:s.id,class:"px-4 py-3"},[e("div",Et,[e("div",null,[e("p",It,r(s.description),1),e("p",Dt,r(n(Ae)(s.transaction_date)),1)]),e("div",At,[e("div",{class:Q([s.type==="income"?"text-green-600":"text-red-600","font-medium"])},r(s.type==="income"?"+":"-")+" KES "+r(Math.round(s.amount).toLocaleString()),3),e("button",{onClick:d=>ee(s),class:"bg-blue-500 hover:bg-blue-600 text-white px-3 py-1 rounded"}," Edit ",8,Mt),e("button",{onClick:d=>te(s),class:"bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded"}," Delete ",8,jt)])])]))),128))]),e("div",Tt,[e("div",Ut,[e("span",Vt,r(S.value)+" Summary:",1),e("div",Ot,[e("p",$t,"Income: KES "+r(O.value.toLocaleString()),1),e("p",qt,"Expenses: KES "+r(A.value.toLocaleString()),1),e("p",{class:Q(["text-sm font-bold",$.value>=0?"text-green-600":"text-red-600"])}," Balance: KES "+r($.value.toLocaleString()),3)])])])])],512),[[x,C.value]])])]),j.value?(i(),a("div",Bt,[e("div",{class:"fixed inset-0 bg-black bg-opacity-50",onClick:t[5]||(t[5]=s=>j.value=!1)}),e("div",Lt,[t[53]||(t[53]=e("h3",{class:"text-base font-semibold text-gray-900 mb-3"},"Add Income",-1)),e("form",{onSubmit:W(be,["prevent"])},[e("div",Nt,[t[45]||(t[45]=e("label",{for:"incomeCategory",class:"block text-sm font-medium text-gray-700 mb-1"},"Income Type",-1)),u(e("select",{id:"incomeCategory","onUpdate:modelValue":t[6]||(t[6]=s=>n(c).category=s),class:"w-full px-2 py-1.5 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:""},[t[44]||(t[44]=e("option",{value:""},"Select Income Category",-1)),(i(!0),a(g,null,y(n(ie),s=>(i(),a("option",{key:s.value,value:s.label},r(s.label),9,Ft))),128))],512),[[D,n(c).category]])]),u(e("div",Kt,[t[46]||(t[46]=e("label",{for:"incomeCategory",class:"block text-sm font-medium text-gray-700 mb-1"},"Specify Income",-1)),u(e("input",{type:"text",id:"incomeCategory","onUpdate:modelValue":t[7]||(t[7]=s=>n(c).otherCategory=s),class:"w-full px-2 py-1.5 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:n(c).category==="Other"},null,8,Yt),[[_,n(c).otherCategory]])],512),[[x,n(c).category==="Other"]]),e("div",Rt,[t[49]||(t[49]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Is Recurrent?",-1)),e("div",zt,[e("label",Pt,[u(e("input",{type:"radio",id:"yes",name:"is_recurring",value:!0,"onUpdate:modelValue":t[8]||(t[8]=s=>n(c).is_recurring=s)},null,512),[[T,n(c).is_recurring]]),t[47]||(t[47]=e("span",{class:"ml-1"},"Yes",-1))]),e("label",Gt,[u(e("input",{type:"radio",id:"no",name:"is_recurring",value:!1,"onUpdate:modelValue":t[9]||(t[9]=s=>n(c).is_recurring=s)},null,512),[[T,n(c).is_recurring]]),t[48]||(t[48]=e("span",{class:"ml-1"},"No",-1))])])]),e("div",Jt,[t[50]||(t[50]=e("label",{for:"incomeDescription",class:"block text-sm font-medium text-gray-700 mb-1"},"Description",-1)),u(e("textarea",{id:"incomeDescription","onUpdate:modelValue":t[10]||(t[10]=s=>n(c).description=s),class:"w-full px-2 py-1.5 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:""},null,512),[[_,n(c).description]])]),e("div",Ht,[t[51]||(t[51]=e("label",{for:"incomeAmount",class:"block text-sm font-medium text-gray-700 mb-1"},"Amount (KES)",-1)),u(e("input",{type:"number",id:"incomeAmount","onUpdate:modelValue":t[11]||(t[11]=s=>n(c).amount=s),class:"w-full px-2 py-1.5 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",min:"0",step:"0.01",required:""},null,512),[[_,n(c).amount]])]),e("div",Qt,[t[52]||(t[52]=e("label",{for:"incomeDate",class:"block text-sm font-medium text-gray-700 mb-1"},"Date",-1)),u(e("input",{type:"date",id:"incomeDate","onUpdate:modelValue":t[12]||(t[12]=s=>n(c).income_date=s),class:"w-full px-2 py-1.5 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:""},null,512),[[_,n(c).income_date]])]),e("div",Wt,[e("button",{type:"button",onClick:t[13]||(t[13]=s=>j.value=!1),class:"px-3 py-1.5 border border-gray-300 rounded-md shadow-sm text-sm text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"}," Cancel "),e("button",Xt,r(n(c).processing?"Saving...":"Save Income"),1)])],32)])])):p("",!0),E.value?(i(),a("div",Zt,[e("div",{class:"fixed inset-0 bg-black bg-opacity-50",onClick:t[14]||(t[14]=s=>E.value=!1)}),e("div",es,[t[67]||(t[67]=e("h3",{class:"text-base font-semibold text-gray-900 mb-3"},"Add Expense",-1)),e("form",{onSubmit:W(pe,["prevent"])},[e("div",ts,[t[55]||(t[55]=e("label",{for:"expenseCategory",class:"block text-sm font-medium text-gray-700 mb-1"},"Expense Type",-1)),u(e("select",{id:"expenseCategory","onUpdate:modelValue":t[15]||(t[15]=s=>n(l).category=s),class:"w-full px-2 py-1.5 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:""},[t[54]||(t[54]=e("option",{value:""},"Select Expense Type",-1)),(i(!0),a(g,null,y(n(re),s=>(i(),a("option",{value:s.value,key:s.value},r(s.label),9,ss))),128))],512),[[D,n(l).category]])]),u(e("div",os,[t[56]||(t[56]=e("label",{for:"otherExpenseCategory",class:"block text-sm font-medium text-gray-700 mb-1"},"Specify Expense",-1)),u(e("input",{type:"text",id:"otherExpenseCategory","onUpdate:modelValue":t[16]||(t[16]=s=>n(l).otherCategory=s),class:"w-full px-2 py-1.5 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:n(l).category==="Other"},null,8,ns),[[_,n(l).otherCategory]])],512),[[x,n(l).category==="Other"]]),u(e("div",ls,[t[59]||(t[59]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Is Recurrent?",-1)),e("div",rs,[e("label",is,[u(e("input",{type:"radio",id:"expenseRecurringYes",name:"is_recurring_expense",value:!0,"onUpdate:modelValue":t[17]||(t[17]=s=>n(l).is_recurring=s)},null,512),[[T,n(l).is_recurring]]),t[57]||(t[57]=e("span",{class:"ml-1"},"Yes",-1))]),e("label",as,[u(e("input",{type:"radio",id:"expenseRecurringNo",name:"is_recurring_expense",value:!1,"onUpdate:modelValue":t[18]||(t[18]=s=>n(l).is_recurring=s)},null,512),[[T,n(l).is_recurring]]),t[58]||(t[58]=e("span",{class:"ml-1"},"No",-1))])])],512),[[x,!z.value]]),u(e("div",ds,[t[63]||(t[63]=e("label",{for:"contributionType",class:"block text-sm font-medium text-gray-700 mb-1"},"Specify the contribution",-1)),n(l).category==="debt"?u((i(),a("select",{key:0,id:"contributionDebt","onUpdate:modelValue":t[19]||(t[19]=s=>n(l).debtId=s),class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:""},[t[60]||(t[60]=e("option",{value:""},"Select Contribution",-1)),(i(!0),a(g,null,y(k.data.debts,s=>(i(),a("option",{key:s.id,value:s.id},r(s.name),9,us))),128))],512)),[[D,n(l).debtId]]):p("",!0),n(l).category==="goal"?u((i(),a("select",{key:1,id:"contributionGoal","onUpdate:modelValue":t[20]||(t[20]=s=>n(l).goalId=s),class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:""},[t[61]||(t[61]=e("option",{value:""},"Select Contribution",-1)),(i(!0),a(g,null,y(k.data.goals,s=>(i(),a("option",{key:s.id,value:s.id},r(s.name),9,ms))),128))],512)),[[D,n(l).goalId]]):p("",!0),n(l).category==="investment"?u((i(),a("select",{key:2,id:"contributionInvestment","onUpdate:modelValue":t[21]||(t[21]=s=>n(l).investmentId=s),class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:""},[t[62]||(t[62]=e("option",{value:""},"Select Contribution",-1)),(i(!0),a(g,null,y(k.data.investments,s=>(i(),a("option",{key:s.id,value:s.id},r(s.details_of_investment),9,cs))),128))],512)),[[D,n(l).investmentId]]):p("",!0)],512),[[x,z.value]]),e("div",bs,[t[64]||(t[64]=e("label",{for:"expenseAmount",class:"block text-sm font-medium text-gray-700 mb-1"},"Amount (KES)",-1)),u(e("input",{type:"number",id:"expenseAmount","onUpdate:modelValue":t[22]||(t[22]=s=>n(l).amount=s),class:"w-full px-2 py-1.5 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",min:"0",step:"0.01",required:""},null,512),[[_,n(l).amount]])]),e("div",ps,[t[65]||(t[65]=e("label",{for:"expenseDescription",class:"block text-sm font-medium text-gray-700 mb-1"},"Description",-1)),u(e("textarea",{id:"expenseDescription","onUpdate:modelValue":t[23]||(t[23]=s=>n(l).description=s),rows:"2",class:"w-full px-2 py-1.5 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:""},null,512),[[_,n(l).description]])]),u(e("div",gs,[t[66]||(t[66]=e("label",{for:"expenseDate",class:"block text-sm font-medium text-gray-700 mb-1"},"Date",-1)),u(e("input",{type:"date",id:"expenseDate","onUpdate:modelValue":t[24]||(t[24]=s=>n(l).expense_date=s),class:"w-full px-2 py-1.5 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"},null,512),[[_,n(l).expense_date]])],512),[[x,!z.value]]),e("div",fs,[e("button",{type:"button",onClick:t[25]||(t[25]=s=>E.value=!1),class:"px-3 py-1.5 border border-gray-300 rounded-md shadow-sm text-sm text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"}," Cancel "),e("button",vs,r(n(l).processing?"Saving...":"Save Expense"),1)])],32)])])):p("",!0),B.value?(i(),a("div",xs,[e("div",ys,[t[75]||(t[75]=e("h3",{class:"text-lg font-bold mb-4"},"Edit Transaction",-1)),e("form",{onSubmit:W(me,["prevent"])},[e("div",_s,[t[68]||(t[68]=e("label",{for:"transactionCategoryEdit",class:"block text-sm font-medium text-gray-700 mb-1"},"Category",-1)),u(e("select",{"onUpdate:modelValue":t[26]||(t[26]=s=>m.value.category=s),class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:""},[e("option",{value:m.value.category},r(m.value.category),9,ws),(i(!0),a(g,null,y(n(re),s=>(i(),a("option",{key:s.value,value:s.label},r(s.label),9,hs))),128))],512),[[x,m.value.type==="expense"],[D,m.value.category]]),u(e("select",{"onUpdate:modelValue":t[27]||(t[27]=s=>m.value.category=s),class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:""},[e("option",{value:m.value.category},r(m.value.category),9,ks),(i(!0),a(g,null,y(n(ie),s=>(i(),a("option",{key:s.value,value:s.label},r(s.label),9,Ss))),128))],512),[[x,m.value.type==="income"],[D,m.value.category]])]),e("div",Cs,[t[71]||(t[71]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Is Recurrent?",-1)),e("div",Es,[e("label",Is,[u(e("input",{type:"radio",id:"editRecurringYes",name:"edit_is_recurring",value:!0,"onUpdate:modelValue":t[28]||(t[28]=s=>m.value.is_recurring=s)},null,512),[[T,m.value.is_recurring]]),t[69]||(t[69]=e("span",{class:"ml-1"},"Yes",-1))]),e("label",Ds,[u(e("input",{type:"radio",id:"editRecurringNo",name:"edit_is_recurring",value:!1,"onUpdate:modelValue":t[29]||(t[29]=s=>m.value.is_recurring=s)},null,512),[[T,m.value.is_recurring]]),t[70]||(t[70]=e("span",{class:"ml-1"},"No",-1))])])]),e("div",As,[t[72]||(t[72]=e("label",{for:"editAmount",class:"block text-sm font-medium text-gray-700 mb-1"},"Amount (KES)",-1)),u(e("input",{type:"number",id:"editAmount",name:"amount","onUpdate:modelValue":t[30]||(t[30]=s=>m.value.amount=s),class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",min:"0",step:"0.01",required:""},null,512),[[_,m.value.amount]])]),e("div",Ms,[t[73]||(t[73]=e("label",{for:"editDescription",class:"block text-sm font-medium text-gray-700 mb-1"},"Description",-1)),u(e("input",{type:"text",id:"editDescription",name:"description","onUpdate:modelValue":t[31]||(t[31]=s=>m.value.description=s),class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:""},null,512),[[_,m.value.description]])]),e("div",js,[t[74]||(t[74]=e("label",{for:"editDate",class:"block text-sm font-medium text-gray-700 mb-1"},"Date",-1)),u(e("input",{type:"date",id:"editDate",name:"transaction_date","onUpdate:modelValue":t[32]||(t[32]=s=>m.value.transaction_date=s),class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:""},null,512),[[_,m.value.transaction_date]])]),e("div",Ts,[e("button",Us,r(n(w).processing?"Saving...":"Submit"),1),e("button",{type:"button",onClick:t[33]||(t[33]=s=>B.value=!1),class:"bg-gray-300 hover:bg-gray-400 text-gray-700 px-4 py-2 rounded"},"Cancel")])],32)])])):p("",!0),L.value?(i(),a("div",Vs,[e("div",Os,[t[76]||(t[76]=e("h3",{class:"text-lg font-bold mb-4"},"Confirm Delete",-1)),t[77]||(t[77]=e("p",{class:"mb-4"},"Are you sure you want to delete this transaction?",-1)),e("div",$s,[e("button",{type:"button",onClick:ce,class:"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded"},r(n(w).processing?"Deleting...":"Delete"),1),e("button",{type:"button",onClick:t[34]||(t[34]=s=>L.value=!1),class:"bg-gray-300 hover:bg-gray-400 text-gray-700 px-4 py-2 rounded"},"Cancel")])])])):p("",!0),K.value?(i(),a("div",qs,[e("div",{class:"fixed inset-0 bg-black bg-opacity-50",onClick:t[35]||(t[35]=s=>K.value=!1)}),e("div",Bs,[t[79]||(t[79]=e("h3",{class:"text-base font-semibold text-yellow-500 mb-3"},"Monthly Budget Overview",-1)),e("div",Ls,[(i(!0),a(g,null,y(Z.value,(s,d)=>(i(),a("div",{key:d,class:"bg-purple-900 border border-purple-700 rounded-lg p-2 hover:bg-purple-800 transition-colors"},[e("div",Ns,[e("h4",Fs,r(d),1),e("span",Ks," KES "+r(s.toLocaleString()),1)])]))),128))]),e("div",Ys,[e("div",Rs,[t[78]||(t[78]=e("h4",{class:"text-sm font-medium text-white"},"TOTAL: ",-1)),e("span",zs," KES "+r(A.value.toLocaleString()),1)])]),e("div",Ps,[e("button",{onClick:t[36]||(t[36]=s=>K.value=!1),class:"px-3 py-1 border border-yellow-500 rounded-md shadow-sm text-xs font-medium text-purple-900 bg-yellow-500 hover:bg-yellow-400 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-900"}," Close ")])])])):p("",!0)]),_:1})])]),_:1})],64))}};export{so as default};
