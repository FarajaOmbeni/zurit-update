import{r as _,C as W,p as f,n as he,l as ke,b as i,o as r,d as L,u as n,m as Se,w as re,a as e,f as p,q as u,c as Ce,t as a,E as x,z as A,F as g,s as y,g as X,G as j,v as w,V as B}from"./app-CwYOLbo5.js";import{A as Ee}from"./AuthenticatedLayout-VRTIqh-E.js";import{_ as Ie}from"./Sidebar-BSVwRKyN.js";import{_ as ie}from"./BudgetBarChart-BPIZwacL.js";import{u as De,_ as Me}from"./useAlert-cHEmKskh.js";import{f as Ae}from"./useDateFormat-pjOuPPEs.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css                                                */import"./useFormatCurrency-DPZVhC5N.js";const ae=[{value:"rent",label:"Rent"},{value:"utilities",label:"Utilities"},{value:"groceries",label:"Groceries"},{value:"eatout",label:"Eating out"},{value:"transportation",label:"Transportation"},{value:"fuel",label:"Fuel"},{value:"insurance",label:"Insurance"},{value:"investment",label:"Investment Contribution"},{value:"debt",label:"Debt Payment"},{value:"goal",label:"Goal Contribution"},{value:"other",label:"Other"}],de=[{value:"salary",label:"Salary"},{value:"freelance",label:"Freelance"},{value:"business_income",label:"Business Income"},{value:"rental_income",label:"Rental Income"},{value:"investments",label:"Investments"},{value:"side_hustle",label:"Side Hustle"},{value:"bonus",label:"Bonus"},{value:"other",label:"Other"}],je={class:"w-full text-gray-900"},Ve={class:"py-6"},Te={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},Oe={class:"flex justify-between"},Ue={class:"flex items-center justify-between mb-4 gap-2"},Be={class:"text-2xl font-semibold text-gray-900"},$e={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},qe={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},Le={class:"px-6"},Ne={key:1,class:"mt-6 grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4"},Fe={class:"mt-1 text-3xl font-semibold text-green-600"},Ke={class:"mt-1 text-3xl font-semibold text-red-500"},Ye={class:"bg-white overflow-hidden shadow rounded-lg"},ze={class:"px-4 py-5 sm:p-6 flex flex-col space-y-2"},Re={key:2,class:"mt-6 text-center"},Ge={class:"mt-4 flex justify-center space-x-2"},Pe={class:"my-4 w-full flex justify-center"},Je=["href"],He={key:3,class:"mt-8 grid grid-cols-1 gap-8 lg:grid-cols-2"},Qe={class:"mt-12"},We={class:"text-xl font-bold text-gray-900 text-center"},Xe={class:"mt-4 bg-white shadow rounded-lg"},Ze={class:"divide-y divide-gray-200"},et={class:"flex items-center justify-between"},tt={class:"text-sm font-medium text-gray-900"},ot={class:"flex flex-col gap-2 md:flex-row md:gap-0 text-sm items-center space-x-2"},st={class:"text-green-600 font-medium"},nt=["onClick"],lt=["onClick"],rt={class:"px-4 py-3 bg-gray-50"},it={class:"flex items-center justify-between"},at={class:"text-sm font-bold text-green-600"},dt={class:"mt-12"},ut={class:"text-xl font-bold text-gray-900 text-center"},ct={class:"mt-4 bg-white shadow rounded-lg"},mt={class:"divide-y divide-gray-200"},bt={class:"flex items-center justify-between"},pt={class:"text-sm font-medium text-gray-900"},gt={class:"flex flex-col gap-2 md:flex-row md:gap-0 text-sm items-center space-x-2"},vt={class:"text-red-600 font-medium"},ft={class:"px-4 py-3 bg-gray-50"},xt={class:"flex items-center justify-between"},yt={class:"text-sm font-bold text-red-600"},wt={class:"mt-12"},_t={class:"mt-4 bg-white shadow rounded-lg"},ht={class:"divide-y divide-gray-200"},kt={key:0,class:"px-4 py-6 text-center text-gray-500"},St={class:"flex items-center justify-between"},Ct={class:"text-sm font-medium text-gray-900"},Et={class:"text-sm text-gray-500"},It={class:"flex flex-col gap-2 md:flex-row md:gap-0 text-sm items-center space-x-2"},Dt=["onClick"],Mt=["onClick"],At={class:"px-4 py-3 bg-gray-50 border-t border-gray-200"},jt={class:"flex justify-between items-center"},Vt={class:"text-sm font-medium text-gray-700"},Tt={class:"text-right"},Ot={class:"text-sm font-medium text-green-600"},Ut={class:"text-sm font-medium text-red-600"},Bt={key:0,class:"fixed inset-0 overflow-y-auto z-10 flex items-center justify-center"},$t={class:"relative bg-white rounded-lg max-w-sm w-full mx-2 p-4 shadow-lg"},qt={class:"mb-3"},Lt=["value"],Nt={class:"mb-3"},Ft=["required"],Kt={class:"mb-3"},Yt={class:"flex space-x-4"},zt={class:"flex items-center text-sm"},Rt={class:"flex items-center text-sm"},Gt={class:"mb-3"},Pt={class:"mb-3"},Jt={class:"mb-4"},Ht={class:"flex justify-end space-x-2"},Qt=["disabled"],Wt={key:1,class:"fixed inset-0 overflow-y-auto z-10 flex items-center justify-center"},Xt={class:"relative bg-white rounded-lg max-w-sm w-full mx-2 p-4 shadow-lg"},Zt={class:"mb-3"},eo=["value"],to={class:"mb-3"},oo=["required"],so={class:"mb-3"},no={class:"flex space-x-4"},lo={class:"flex items-center text-sm"},ro={class:"flex items-center text-sm"},io={class:"mb-4"},ao=["value"],uo=["value"],co=["value"],mo={class:"mb-3"},bo={class:"mb-3"},po={class:"mb-4"},go={class:"flex justify-end space-x-2"},vo={type:"submit",class:"px-3 py-1.5 border border-transparent rounded-md shadow-sm text-sm text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500"},fo={key:2,class:"fixed mr-16 sm:mr-0 inset-0 flex items-center justify-center bg-black bg-opacity-50"},xo={class:"bg-white rounded-lg shadow-lg p-4 sm:p-6 w-full max-w-xs sm:max-w-sm md:max-w-md"},yo={class:"mb-4"},wo=["value"],_o=["value"],ho=["value"],ko=["value"],So={class:"mb-3"},Co={class:"flex space-x-4"},Eo={class:"flex items-center text-sm"},Io={class:"flex items-center text-sm"},Do={class:"mb-4"},Mo={class:"mb-4"},Ao={class:"mb-4"},jo={class:"flex justify-end space-x-2"},Vo={type:"submit",class:"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded"},To={key:3,class:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50"},Oo={class:"bg-white rounded-lg shadow-lg p-4 sm:p-6 w-full max-w-xs sm:max-w-sm md:max-w-md"},Uo={class:"flex justify-end space-x-2"},Bo={key:4,class:"fixed inset-0 overflow-y-auto z-10 flex items-center justify-center"},$o={class:"relative bg-purple-900 text-white rounded-lg max-w-md w-full mx-4 p-4 shadow-xl border-2 border-yellow-500"},qo={class:"space-y-2"},Lo={class:"flex justify-between items-center"},No={class:"text-xs font-medium text-white"},Fo={class:"text-xs font-semibold text-yellow-500"},Ko={class:"bg-purple-900 border border-yellow-500 rounded-lg p-2 mt-2"},Yo={class:"flex justify-between items-center"},zo={class:"text-sm font-semibold text-yellow-500"},Ro={class:"mt-3 flex justify-end space-x-2"},ts={__name:"BudgetPlanner",props:{data:Object,today:String},setup(Z){const{alertState:$,openAlert:v,clearAlert:ue}=De(),S=Z,q=_([]),N=_(!1),F=_(!1),c=_(null),h=W({category:"",description:"",amount:"",transaction_date:"",is_recurring:!1}),C=_(null),R=_([]),K=f(()=>C.value?q.value.filter(s=>{const t=new Date(s.transaction_date);return ne(t)===C.value}):q.value),G=f(()=>K.value.filter(s=>s.type==="income")),Y=f(()=>K.value.filter(s=>s.type!=="income")),V=f(()=>G.value.reduce((s,t)=>s+parseFloat(t.amount),0)),E=f(()=>Y.value.reduce((s,t)=>s+parseFloat(t.amount),0)),T=f(()=>V.value-E.value),I=f(()=>q.value.length>0),ce=f(()=>{const t=G.value.reduce((o,d)=>{const b=d.category;return o[b]||(o[b]={totalAmount:0}),o[b].totalAmount+=parseFloat(d.amount),o},{});return Object.entries(t).map(([o,{totalAmount:d}])=>({label:o,amount:Math.round(d)})).sort((o,d)=>d.amount-o.amount).slice(0,3)}),me=f(()=>{const t=Y.value.reduce((d,b)=>{const M=b.category;return d[M]||(d[M]=[]),d[M].push(b),d},{});return Object.entries(t).map(([d,b])=>({category:d,totalAmount:b.reduce((M,Q)=>M+parseFloat(Q.amount),0),expenses:b})).sort((d,b)=>b.totalAmount-d.totalAmount).slice(0,3).map(d=>({label:d.category,amount:Math.round(d.totalAmount),expenses:d.expenses}))}),ee=f(()=>Y.value?Y.value.reduce((s,t)=>{const o=t.category;return s[o]||(s[o]=0),s[o]+=parseFloat(t.amount),s},{}):{}),O=async()=>{try{q.value=S.data.transactions||[],we()}catch(s){console.error("Error fetching or initializing data:",s),v("danger","Failed to load data.",5e3)}},te=s=>{c.value={...s,transaction_date:s.transaction_date?new Date(s.transaction_date).toISOString().split("T")[0]:""},N.value=!0},oe=s=>{c.value=s,F.value=!0},be=()=>{const s=c.value;h.category=s.category,h.description=s.description,h.amount=s.amount,h.is_recurring=s.is_recurring,h.transaction_date=s.transaction_date;const t=s.type==="income"?"income.edit":"expense.edit";h.put(route(t,s.id),{onSuccess:()=>{N.value=!1,v("success","Transaction Updated Successfully",5e3),O()},onError:o=>{v("danger",Object.values(o).flat().join(" "),5e3),console.error("Error editing transaction:",o)}})},se=()=>{const s=c.value,t=s.type==="income"?"income.destroy":"expense.destroy";h.delete(route(t,s.id),{onSuccess:()=>{v("warning","Transaction Deleted Successfully",5e3),F.value=!1,O()},onError:o=>{v("danger","Error Deleting Transaction",5e3),console.error("Error deleting transaction:",o)}})},U=_(!1),D=_(!1),z=_(!1),P=f(()=>l.category==="debt"||l.category==="investment"||l.category==="goal"),m=W({category:"",otherCategory:"",amount:"",description:"",income_date:"",is_recurring:!0}),l=W({category:"",otherCategory:"",amount:"",description:"",expense_date:"",is_recurring:!0});he(()=>[l.category,l.debtId,l.goalId,l.investmentId],()=>{if(l.category==="debt"){const s=S.data.debts.find(t=>t.id==l.debtId);l.description=s?s.description:""}else if(l.category==="goal"){const s=S.data.goals.find(t=>t.id==l.goalId);l.description=s?s.description:""}else if(l.category==="investment"){const s=S.data.investments.find(t=>t.id==l.investmentId);l.description=s?s.details_of_investment:""}else l.description=""},{immediate:!0});const pe=()=>{m.post(route("income.store"),{onSuccess:()=>{U.value=!1,m.reset(),v("success","Income added successfully",5e3),O()},onError:s=>{const t=Object.values(s).flat().join(" ");v("danger",t,5e3)}})},ge=()=>{l.category==="debt"?fe():l.category==="investment"?xe():l.category==="goal"?ye():ve()},ve=()=>{l.post(route("expense.store"),{onSuccess:()=>{D.value=!1,l.reset(),v("success","Expense added successfully",5e3),O()},onError:s=>{const t=Object.values(s).flat().join(" ");v("danger",t,5e3)}})},J=()=>{D.value=!1,l.reset(),v("success","Contribution Made Successfully.",5e3),O()},H=s=>{const t=Object.values(s).flat().join(" ");v("danger",t,5e3)},fe=()=>{l.put(route("debt.contribute",l.debtId),{onSuccess:J,onError:H})},xe=()=>{l.put(route("invest.contribute",l.investmentId),{onSuccess:J,onError:H})},ye=()=>{l.put(route("goal.contribute",l.goalId),{onSuccess:J,onError:H})};function we(){const s={};q.value.forEach(t=>{const o=new Date(t.transaction_date),d=ne(o);s[d]=!0}),R.value=Object.keys(s).sort((t,o)=>{const[d,b]=t.split(" "),[M,Q]=o.split(" ");return Q-b||le(M)-le(d)}),R.value.length>0?_e(R.value[0]):(C.value=new Date().toLocaleString("en-US",{month:"long",year:"numeric"}),V.value=0,E.value=0,T.value=0)}function ne(s){return`${["January","February","March","April","May","June","July","August","September","October","November","December"][s.getMonth()]} ${s.getFullYear()}`}function le(s){return["January","February","March","April","May","June","July","August","September","October","November","December"].indexOf(s.split(" ")[0])}function _e(s){C.value=s}ke(()=>{O()}),T.value=V.value-E.value;const k=_(!1);return(s,t)=>(r(),i(g,null,[L(n(Se),{title:"Budget Planner"}),L(Ee,null,{default:re(()=>[e("div",je,[L(Ie,null,{default:re(()=>[e("div",Ve,[e("div",Te,[u(e("div",Oe,[e("div",Ue,[e("h1",Be,a(Z.today)+"'s Budget ",1),e("button",{onClick:t[0]||(t[0]=o=>k.value=!k.value),class:"text-gray-600 hover:text-gray-800"},[k.value?(r(),i("svg",qe,t[39]||(t[39]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:`M13.875 18.825A10.05 10.05 0 0112 19
           c-4.477 0-8.268-2.943-9.542-7
           a9.956 9.956 0 012.442-3.993`},null,-1),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6.1 6.1l11.8 11.8"},null,-1)]))):(r(),i("svg",$e,t[38]||(t[38]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},null,-1),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:`M2.458 12C3.732 7.943 7.523 5 12 5
           c4.477 0 8.268 2.943 9.542 7
           -1.274 4.057-5.065 7-9.542 7
           -4.477 0-8.268-2.943-9.542-7z`},null,-1)])))])]),e("div",Le,[e("button",{onClick:t[1]||(t[1]=o=>z.value=!0),class:"w-full py-2 px-4 bg-purple-600 hover:bg-purple-700 text-white font-medium rounded-md transition duration-150"}," View Budget ")])],512),[[x,I.value]]),n($)?(r(),Ce(Me,{key:0,type:n($).type,message:n($).message,duration:n($).duration,"auto-close":n($).autoClose,onClose:n(ue)},null,8,["type","message","duration","auto-close","onClose"])):p("",!0),I.value?(r(),i("div",Ne,[e("dd",Fe,[e("span",{class:A({"blur-md":!k.value})}," KES "+a(V.value.toLocaleString()),3)]),e("dd",Ke,[e("span",{class:A({"blur-md":!k.value})}," KES "+a(E.value.toLocaleString()),3)]),e("dd",{class:A(["mt-1 text-3xl font-semibold",T.value>=0?"text-green-600":"text-red-600"])},[e("span",{class:A({"blur-md":!k.value})}," KES "+a(T.value.toLocaleString()),3)],2),e("div",Ye,[e("div",ze,[e("button",{onClick:t[2]||(t[2]=o=>U.value=!0),class:"w-full py-2 px-4 bg-green-600 hover:bg-green-700 text-white font-medium rounded-md transition duration-150"}," Add Income "),e("button",{onClick:t[3]||(t[3]=o=>D.value=!0),class:"w-full py-2 px-4 bg-red-600 hover:bg-red-700 text-white font-medium rounded-md transition duration-150"}," Add Expense ")])])])):p("",!0),I.value?p("",!0):(r(),i("div",Re,[t[40]||(t[40]=e("p",{class:"text-lg text-gray-600"},"You have no data available for this month.",-1)),e("div",Ge,[e("button",{onClick:t[4]||(t[4]=o=>U.value=!0),class:"py-2 px-4 bg-green-600 hover:bg-green-700 text-white font-medium rounded-md transition duration-150"}," Add Income "),e("button",{onClick:t[5]||(t[5]=o=>D.value=!0),class:"py-2 px-4 bg-red-600 hover:bg-red-700 text-white font-medium rounded-md transition duration-150"}," Add Expense ")])])),e("div",Pe,[e("a",{target:"_blank",href:s.route("budget.budgets"),class:"bg-purple-500 px-4 py-2 rounded-md text-white hover:bg-purple-600"},"View Previous Budgets",8,Je)]),I.value?(r(),i("div",He,[L(ie,{title:"Top Income Sources",items:ce.value,type:"income",class:"bg-white shadow rounded-lg",showBalances:k.value},null,8,["items","showBalances"]),L(ie,{title:"Top Expenses",items:me.value,type:"expense",class:"bg-white shadow rounded-lg",showBalances:k.value},null,8,["items","showBalances"])])):p("",!0),u(e("div",Qe,[e("h2",We,"Your Income - "+a(C.value),1),e("div",Xe,[e("ul",Ze,[(r(!0),i(g,null,y(G.value,o=>(r(),i("li",{key:o.id,class:"px-4 py-3"},[e("div",et,[e("div",null,[e("p",tt,a(o.category)+" - "+a(o.description),1)]),e("div",ot,[e("div",st," + KES "+a(Math.round(parseFloat(o.amount)).toLocaleString()),1),e("button",{onClick:d=>te(o),class:"bg-blue-500 hover:bg-blue-600 text-white px-3 py-1 rounded"}," Edit ",8,nt),e("button",{onClick:d=>oe(o),class:"bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded"}," Delete ",8,lt)])])]))),128)),e("li",rt,[e("div",it,[t[41]||(t[41]=e("div",null,[e("p",{class:"text-sm font-bold text-gray-900"}," TOTAL INCOME ")],-1)),e("div",at," KES "+a(V.value.toLocaleString()),1)])])])])],512),[[x,I.value]]),u(e("div",dt,[e("h2",ut,"Your Budget - "+a(C.value),1),e("div",ct,[e("ul",mt,[(r(!0),i(g,null,y(ee.value,(o,d)=>(r(),i("li",{key:d,class:"px-4 py-3"},[e("div",bt,[e("div",null,[e("p",pt,a(d),1)]),e("div",gt,[e("div",vt," - KES "+a(Math.round(parseFloat(o)).toLocaleString()),1)])])]))),128)),e("li",ft,[e("div",xt,[t[42]||(t[42]=e("div",null,[e("p",{class:"text-sm font-bold text-gray-900"}," TOTAL MONTHLY BUDGET ")],-1)),e("div",yt," KES "+a(E.value.toLocaleString()),1)])])])])],512),[[x,I.value]]),u(e("div",wt,[t[43]||(t[43]=e("h2",{class:"text-xl font-bold text-center text-gray-900"},"All Transactions",-1)),e("div",_t,[e("ul",ht,[K.value.length===0?(r(),i("li",kt," No transactions right now. Add the first transaction. ")):p("",!0),(r(!0),i(g,null,y(K.value,o=>(r(),i("li",{key:o.id,class:"px-4 py-3"},[e("div",St,[e("div",null,[e("p",Ct,a(o.description),1),e("p",Et,a(n(Ae)(o.transaction_date)),1)]),e("div",It,[e("div",{class:A([o.type==="income"?"text-green-600":"text-red-600","font-medium"])},a(o.type==="income"?"+":"-")+" KES "+a(Math.round(o.amount).toLocaleString()),3),e("button",{onClick:d=>te(o),class:"bg-blue-500 hover:bg-blue-600 text-white px-3 py-1 rounded"}," Edit ",8,Dt),e("button",{onClick:d=>oe(o),class:"bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded"}," Delete ",8,Mt)])])]))),128))]),e("div",At,[e("div",jt,[e("span",Vt,a(C.value)+" Summary:",1),e("div",Tt,[e("p",Ot,"Income: KES "+a(V.value.toLocaleString()),1),e("p",Ut,"Expenses: KES "+a(E.value.toLocaleString()),1),e("p",{class:A(["text-sm font-bold",T.value>=0?"text-green-600":"text-red-600"])}," Balance: KES "+a(T.value.toLocaleString()),3)])])])])],512),[[x,I.value]])])]),U.value?(r(),i("div",Bt,[e("div",{class:"fixed inset-0 bg-black bg-opacity-50",onClick:t[6]||(t[6]=o=>U.value=!1)}),e("div",$t,[t[53]||(t[53]=e("h3",{class:"text-base font-semibold text-gray-900 mb-3"},"Add Income",-1)),e("form",{onSubmit:X(pe,["prevent"])},[e("div",qt,[t[45]||(t[45]=e("label",{for:"incomeCategory",class:"block text-sm font-medium text-gray-700 mb-1"},"Income Type",-1)),u(e("select",{id:"incomeCategory","onUpdate:modelValue":t[7]||(t[7]=o=>n(m).category=o),class:"w-full px-2 py-1.5 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:""},[t[44]||(t[44]=e("option",{value:""},"Select Income Category",-1)),(r(!0),i(g,null,y(n(de),o=>(r(),i("option",{key:o.value,value:o.label},a(o.label),9,Lt))),128))],512),[[j,n(m).category]])]),u(e("div",Nt,[t[46]||(t[46]=e("label",{for:"incomeCategory",class:"block text-sm font-medium text-gray-700 mb-1"},"Specify Income",-1)),u(e("input",{type:"text",id:"incomeCategory","onUpdate:modelValue":t[8]||(t[8]=o=>n(m).otherCategory=o),class:"w-full px-2 py-1.5 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:n(m).category==="Other"},null,8,Ft),[[w,n(m).otherCategory]])],512),[[x,n(m).category==="Other"]]),e("div",Kt,[t[49]||(t[49]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Is Recurrent?",-1)),e("div",Yt,[e("label",zt,[u(e("input",{type:"radio",id:"yes",name:"is_recurring",value:!0,"onUpdate:modelValue":t[9]||(t[9]=o=>n(m).is_recurring=o)},null,512),[[B,n(m).is_recurring]]),t[47]||(t[47]=e("span",{class:"ml-1"},"Yes",-1))]),e("label",Rt,[u(e("input",{type:"radio",id:"no",name:"is_recurring",value:!1,"onUpdate:modelValue":t[10]||(t[10]=o=>n(m).is_recurring=o)},null,512),[[B,n(m).is_recurring]]),t[48]||(t[48]=e("span",{class:"ml-1"},"No",-1))])])]),e("div",Gt,[t[50]||(t[50]=e("label",{for:"incomeDescription",class:"block text-sm font-medium text-gray-700 mb-1"},"Description",-1)),u(e("textarea",{id:"incomeDescription","onUpdate:modelValue":t[11]||(t[11]=o=>n(m).description=o),class:"w-full px-2 py-1.5 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:""},null,512),[[w,n(m).description]])]),e("div",Pt,[t[51]||(t[51]=e("label",{for:"incomeAmount",class:"block text-sm font-medium text-gray-700 mb-1"},"Amount (KES)",-1)),u(e("input",{type:"number",id:"incomeAmount","onUpdate:modelValue":t[12]||(t[12]=o=>n(m).amount=o),class:"w-full px-2 py-1.5 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",min:"0",step:"0.01",required:""},null,512),[[w,n(m).amount]])]),e("div",Jt,[t[52]||(t[52]=e("label",{for:"incomeDate",class:"block text-sm font-medium text-gray-700 mb-1"},"Date",-1)),u(e("input",{type:"date",id:"incomeDate","onUpdate:modelValue":t[13]||(t[13]=o=>n(m).income_date=o),class:"w-full px-2 py-1.5 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:""},null,512),[[w,n(m).income_date]])]),e("div",Ht,[e("button",{type:"button",onClick:t[14]||(t[14]=o=>U.value=!1),class:"px-3 py-1.5 border border-gray-300 rounded-md shadow-sm text-sm text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"}," Cancel "),e("button",{type:"submit",disabled:n(m).processing,class:A(["px-3 py-1.5 border border-transparent rounded-md shadow-sm text-sm text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",{"opacity-50 cursor-not-allowed":n(m).processing}])},a(n(m).processing?"Saving...":"Save Income"),11,Qt)])],32)])])):p("",!0),D.value?(r(),i("div",Wt,[e("div",{class:"fixed inset-0 bg-black bg-opacity-50",onClick:t[15]||(t[15]=o=>D.value=!1)}),e("div",Xt,[t[67]||(t[67]=e("h3",{class:"text-base font-semibold text-gray-900 mb-3"},"Add Expense",-1)),e("form",{onSubmit:X(ge,["prevent"])},[e("div",Zt,[t[55]||(t[55]=e("label",{for:"expenseCategory",class:"block text-sm font-medium text-gray-700 mb-1"},"Expense Type",-1)),u(e("select",{id:"expenseCategory","onUpdate:modelValue":t[16]||(t[16]=o=>n(l).category=o),class:"w-full px-2 py-1.5 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:""},[t[54]||(t[54]=e("option",{value:""},"Select Expense Type",-1)),(r(!0),i(g,null,y(n(ae),o=>(r(),i("option",{value:o.value,key:o.value},a(o.label),9,eo))),128))],512),[[j,n(l).category]])]),u(e("div",to,[t[56]||(t[56]=e("label",{for:"otherExpenseCategory",class:"block text-sm font-medium text-gray-700 mb-1"},"Specify Expense",-1)),u(e("input",{type:"text",id:"otherExpenseCategory","onUpdate:modelValue":t[17]||(t[17]=o=>n(l).otherCategory=o),class:"w-full px-2 py-1.5 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:n(l).category==="Other"},null,8,oo),[[w,n(l).otherCategory]])],512),[[x,n(l).category==="Other"]]),u(e("div",so,[t[59]||(t[59]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Is Recurrent?",-1)),e("div",no,[e("label",lo,[u(e("input",{type:"radio",id:"expenseRecurringYes",name:"is_recurring_expense",value:!0,"onUpdate:modelValue":t[18]||(t[18]=o=>n(l).is_recurring=o)},null,512),[[B,n(l).is_recurring]]),t[57]||(t[57]=e("span",{class:"ml-1"},"Yes",-1))]),e("label",ro,[u(e("input",{type:"radio",id:"expenseRecurringNo",name:"is_recurring_expense",value:!1,"onUpdate:modelValue":t[19]||(t[19]=o=>n(l).is_recurring=o)},null,512),[[B,n(l).is_recurring]]),t[58]||(t[58]=e("span",{class:"ml-1"},"No",-1))])])],512),[[x,!P.value]]),u(e("div",io,[t[63]||(t[63]=e("label",{for:"contributionType",class:"block text-sm font-medium text-gray-700 mb-1"},"Specify the contribution",-1)),n(l).category==="debt"?u((r(),i("select",{key:0,id:"contributionDebt","onUpdate:modelValue":t[20]||(t[20]=o=>n(l).debtId=o),class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:""},[t[60]||(t[60]=e("option",{value:""},"Select Contribution",-1)),(r(!0),i(g,null,y(S.data.debts,o=>(r(),i("option",{key:o.id,value:o.id},a(o.name),9,ao))),128))],512)),[[j,n(l).debtId]]):p("",!0),n(l).category==="goal"?u((r(),i("select",{key:1,id:"contributionGoal","onUpdate:modelValue":t[21]||(t[21]=o=>n(l).goalId=o),class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:""},[t[61]||(t[61]=e("option",{value:""},"Select Contribution",-1)),(r(!0),i(g,null,y(S.data.goals,o=>(r(),i("option",{key:o.id,value:o.id},a(o.name),9,uo))),128))],512)),[[j,n(l).goalId]]):p("",!0),n(l).category==="investment"?u((r(),i("select",{key:2,id:"contributionInvestment","onUpdate:modelValue":t[22]||(t[22]=o=>n(l).investmentId=o),class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:""},[t[62]||(t[62]=e("option",{value:""},"Select Contribution",-1)),(r(!0),i(g,null,y(S.data.investments,o=>(r(),i("option",{key:o.id,value:o.id},a(o.details_of_investment),9,co))),128))],512)),[[j,n(l).investmentId]]):p("",!0)],512),[[x,P.value]]),e("div",mo,[t[64]||(t[64]=e("label",{for:"expenseAmount",class:"block text-sm font-medium text-gray-700 mb-1"},"Amount (KES)",-1)),u(e("input",{type:"number",id:"expenseAmount","onUpdate:modelValue":t[23]||(t[23]=o=>n(l).amount=o),class:"w-full px-2 py-1.5 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",min:"0",step:"0.01",required:""},null,512),[[w,n(l).amount]])]),e("div",bo,[t[65]||(t[65]=e("label",{for:"expenseDescription",class:"block text-sm font-medium text-gray-700 mb-1"},"Description",-1)),u(e("textarea",{id:"expenseDescription","onUpdate:modelValue":t[24]||(t[24]=o=>n(l).description=o),rows:"2",class:"w-full px-2 py-1.5 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:""},null,512),[[w,n(l).description]])]),u(e("div",po,[t[66]||(t[66]=e("label",{for:"expenseDate",class:"block text-sm font-medium text-gray-700 mb-1"},"Date",-1)),u(e("input",{type:"date",id:"expenseDate","onUpdate:modelValue":t[25]||(t[25]=o=>n(l).expense_date=o),class:"w-full px-2 py-1.5 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"},null,512),[[w,n(l).expense_date]])],512),[[x,!P.value]]),e("div",go,[e("button",{type:"button",onClick:t[26]||(t[26]=o=>D.value=!1),class:"px-3 py-1.5 border border-gray-300 rounded-md shadow-sm text-sm text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"}," Cancel "),e("button",vo,a(n(l).processing?"Saving...":"Save Expense"),1)])],32)])])):p("",!0),N.value?(r(),i("div",fo,[e("div",xo,[t[75]||(t[75]=e("h3",{class:"text-lg font-bold mb-4"},"Edit Transaction",-1)),e("form",{onSubmit:X(be,["prevent"])},[e("div",yo,[t[68]||(t[68]=e("label",{for:"transactionCategoryEdit",class:"block text-sm font-medium text-gray-700 mb-1"},"Category",-1)),u(e("select",{"onUpdate:modelValue":t[27]||(t[27]=o=>c.value.category=o),class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:""},[e("option",{value:c.value.category},a(c.value.category),9,wo),(r(!0),i(g,null,y(n(ae),o=>(r(),i("option",{key:o.value,value:o.label},a(o.label),9,_o))),128))],512),[[x,c.value.type==="expense"],[j,c.value.category]]),u(e("select",{"onUpdate:modelValue":t[28]||(t[28]=o=>c.value.category=o),class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:""},[e("option",{value:c.value.category},a(c.value.category),9,ho),(r(!0),i(g,null,y(n(de),o=>(r(),i("option",{key:o.value,value:o.label},a(o.label),9,ko))),128))],512),[[x,c.value.type==="income"],[j,c.value.category]])]),e("div",So,[t[71]||(t[71]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Is Recurrent?",-1)),e("div",Co,[e("label",Eo,[u(e("input",{type:"radio",id:"editRecurringYes",name:"edit_is_recurring",value:!0,"onUpdate:modelValue":t[29]||(t[29]=o=>c.value.is_recurring=o)},null,512),[[B,c.value.is_recurring]]),t[69]||(t[69]=e("span",{class:"ml-1"},"Yes",-1))]),e("label",Io,[u(e("input",{type:"radio",id:"editRecurringNo",name:"edit_is_recurring",value:!1,"onUpdate:modelValue":t[30]||(t[30]=o=>c.value.is_recurring=o)},null,512),[[B,c.value.is_recurring]]),t[70]||(t[70]=e("span",{class:"ml-1"},"No",-1))])])]),e("div",Do,[t[72]||(t[72]=e("label",{for:"editAmount",class:"block text-sm font-medium text-gray-700 mb-1"},"Amount (KES)",-1)),u(e("input",{type:"number",id:"editAmount",name:"amount","onUpdate:modelValue":t[31]||(t[31]=o=>c.value.amount=o),class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",min:"0",step:"0.01",required:""},null,512),[[w,c.value.amount]])]),e("div",Mo,[t[73]||(t[73]=e("label",{for:"editDescription",class:"block text-sm font-medium text-gray-700 mb-1"},"Description",-1)),u(e("input",{type:"text",id:"editDescription",name:"description","onUpdate:modelValue":t[32]||(t[32]=o=>c.value.description=o),class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:""},null,512),[[w,c.value.description]])]),e("div",Ao,[t[74]||(t[74]=e("label",{for:"editDate",class:"block text-sm font-medium text-gray-700 mb-1"},"Date",-1)),u(e("input",{type:"date",id:"editDate",name:"transaction_date","onUpdate:modelValue":t[33]||(t[33]=o=>c.value.transaction_date=o),class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:""},null,512),[[w,c.value.transaction_date]])]),e("div",jo,[e("button",Vo,a(n(h).processing?"Saving...":"Submit"),1),e("button",{type:"button",onClick:t[34]||(t[34]=o=>N.value=!1),class:"bg-gray-300 hover:bg-gray-400 text-gray-700 px-4 py-2 rounded"},"Cancel")])],32)])])):p("",!0),F.value?(r(),i("div",To,[e("div",Oo,[t[76]||(t[76]=e("h3",{class:"text-lg font-bold mb-4"},"Confirm Delete",-1)),t[77]||(t[77]=e("p",{class:"mb-4"},"Are you sure you want to delete this transaction?",-1)),e("div",Uo,[e("button",{type:"button",onClick:se,class:"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded"},a(se.processing?"Deleting...":"Delete"),1),e("button",{onClick:t[35]||(t[35]=o=>F.value=!1),class:"bg-gray-300 hover:bg-gray-400 text-gray-700 px-4 py-2 rounded"},"Cancel")])])])):p("",!0),z.value?(r(),i("div",Bo,[e("div",{class:"fixed inset-0 bg-black bg-opacity-50",onClick:t[36]||(t[36]=o=>z.value=!1)}),e("div",$o,[t[79]||(t[79]=e("h3",{class:"text-base font-semibold text-yellow-500 mb-3"},"Monthly Budget Overview",-1)),e("div",qo,[(r(!0),i(g,null,y(ee.value,(o,d)=>(r(),i("div",{key:d,class:"bg-purple-900 border border-purple-700 rounded-lg p-2 hover:bg-purple-800 transition-colors"},[e("div",Lo,[e("h4",No,a(d),1),e("span",Fo," KES "+a(o.toLocaleString()),1)])]))),128))]),e("div",Ko,[e("div",Yo,[t[78]||(t[78]=e("h4",{class:"text-sm font-medium text-white"},"TOTAL: ",-1)),e("span",zo," KES "+a(E.value.toLocaleString()),1)])]),e("div",Ro,[e("button",{onClick:t[37]||(t[37]=o=>z.value=!1),class:"px-3 py-1 border border-yellow-500 rounded-md shadow-sm text-xs font-medium text-purple-900 bg-yellow-500 hover:bg-yellow-400 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-900"}," Close ")])])])):p("",!0)]),_:1})])]),_:1})],64))}};export{ts as default};
