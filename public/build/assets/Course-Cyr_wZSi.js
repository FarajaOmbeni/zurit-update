import{_ as M}from"./Sidebar-BLYFEQMp.js";import{_ as C}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{r as b,p as k,z as B,b as i,o as l,f as g,a as e,h as p,t as r,e as L,V as m,d as y,w as S,F as v,i as _,n as P}from"./app-Beo4ItwT.js";/* empty css                                                */import"./EllipsisHorizontalIcon-CXhkN-_T.js";import"./AcademicCapIcon-BxSvzwyG.js";import"./UserIcon-CImU51LK.js";import"./ChartBarIcon-CkJeh_d0.js";import"./HomeIcon-CdmROl8M.js";const U={class:"video-player-container"},z={key:0,class:"w-full"},D=["src","poster"],N=["src","type"],T={key:0,class:"mt-2 text-center"},$={class:"text-lg font-medium text-gray-900"},F={key:0,class:"text-sm text-gray-600 mt-1"},j={key:1,class:"flex items-center justify-center h-64 bg-gray-100 rounded-lg"},H={key:2,class:"flex items-center justify-center h-64 bg-red-50 rounded-lg border border-red-200"},E={class:"text-center"},A={class:"text-red-600 text-sm mt-1"},I={__name:"VideoPlayer",props:{videoUrl:{type:String,required:!0},title:{type:String,default:""},description:{type:String,default:""},posterUrl:{type:String,default:""},showTitle:{type:Boolean,default:!0},autoplay:{type:Boolean,default:!1},muted:{type:Boolean,default:!1}},setup(s){const t=s,n=b(!0),a=b(null),w=k(()=>t.videoUrl&&!n.value&&!a.value),c=k(()=>{const d=t.videoUrl.toLowerCase();return d.includes(".mp4")?"video/mp4":d.includes(".webm")?"video/webm":d.includes(".ogg")?"video/ogg":"video/mp4"}),h=()=>{n.value=!0,a.value=null},x=()=>{n.value=!1,a.value=null},f=d=>{n.value=!1,a.value="Failed to load video. Please check your internet connection and try again.",console.error("Video loading error:",d)},u=()=>{n.value=!0,a.value=null;const d=document.querySelector("video");d&&d.load()};return B(()=>{t.videoUrl||(n.value=!1,a.value="No video URL provided")}),(d,o)=>(l(),i("div",U,[w.value?(l(),i("div",z,[e("video",{src:s.videoUrl,controls:"",preload:"metadata",class:"w-full max-w-full rounded-lg shadow-lg",poster:s.posterUrl,onLoadstart:h,onLoadeddata:x,onError:f},[e("source",{src:s.videoUrl,type:c.value},null,8,N),o[0]||(o[0]=p(" Your browser does not support the video tag. "))],40,D),s.showTitle?(l(),i("div",T,[e("h3",$,r(s.title),1),s.description?(l(),i("p",F,r(s.description),1)):g("",!0)])):g("",!0)])):n.value?(l(),i("div",j,o[1]||(o[1]=[L('<div class="text-center" data-v-25005f81><div class="animate-spin mx-auto mb-2 w-8 h-8 text-purple-600" data-v-25005f81><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" data-v-25005f81><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4" data-v-25005f81></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z" data-v-25005f81></path></svg></div><p class="text-gray-600" data-v-25005f81>Loading video...</p></div>',1)]))):a.value?(l(),i("div",H,[e("div",E,[o[2]||(o[2]=e("div",{class:"text-red-600 mb-2"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-8 w-8 mx-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),o[3]||(o[3]=e("p",{class:"text-red-800 font-medium"},"Error loading video",-1)),e("p",A,r(a.value),1),e("button",{onClick:u,class:"mt-2 px-3 py-1 bg-red-600 text-white text-sm rounded hover:bg-red-700"}," Retry ")])])):g("",!0)]))}},q=C(I,[["__scopeId","data-v-25005f81"]]),O={components:{Sidebar:M,VideoPlayer:q},props:{course:Object,materials:Array},data(){return{loadingMaterials:new Set}},computed:{groupedMaterials(){const s={};return this.course.materials.forEach(t=>{let n=t.title.replace(/\s*\((PDF|Video)\)$/,"");s[n]||(s[n]=[]),s[n].push(t)}),s}},methods:{goBack(){window.history.length>1?window.history.back():this.$inertia.visit(route("elearning.courses"),{preserveScroll:!0})},openPdfInNewTab(s,t){t.preventDefault(),this.loadingMaterials.add(s.id);const n=route("course-materials.viewer",{material:s.id,t:Date.now()}),a=window.open(n,"_blank");setTimeout(()=>{this.loadingMaterials.delete(s.id)},1e3),a||this.loadingMaterials.delete(s.id)},isLoading(s){return this.loadingMaterials.has(s)},openVideoModal(s){window.open(s.display_url,"_blank")}}},R={class:"bg-gray-50 min-h-screen"},W={class:"bg-white pt-6 pb-6 border-b border-gray-200"},Y={class:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8"},G={class:"text-white py-12 md:py-16",style:{background:`linear-gradient(
                        135deg,
                        #667eea 0%,
                        #764ba2 100%
                    )`}},J={class:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8"},K={class:"grid grid-cols-1 lg:grid-cols-[1fr_350px] gap-12 md:gap-16 items-start"},Q={class:"hero-main"},X={class:"text-4xl lg:text-5xl font-bold mb-6 leading-tight"},Z={class:"text-lg leading-relaxed opacity-95"},ee={class:"hero-sidebar"},te={class:"bg-white rounded-2xl overflow-hidden shadow-xl sticky top-8"},oe={class:"p-8"},se={class:"course-includes"},ie={class:"list-none p-0 m-0"},le={class:"w-4 h-4 stroke-2 flex-shrink-0",style:{color:"#667eea"},viewBox:"0 0 24 24",fill:"none",stroke:"currentColor"},ne={class:"flex items-center gap-3 mb-3 text-gray-600 text-sm"},re={class:"w-4 h-4 stroke-2 flex-shrink-0",style:{color:"#667eea"},viewBox:"0 0 24 24",fill:"none",stroke:"currentColor"},de={class:"py-16 bg-gray-50"},ae={class:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8"},ce={class:"grid grid-cols-1 gap-12"},ue={class:"main-content"},ge={class:"materials-section mb-8"},ve={class:"text-xl font-medium text-gray-800 mb-4"},pe={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},he={class:"flex items-center gap-3 mb-5"},xe={key:0,class:"w-6 h-6 flex-shrink-0",style:{color:"#667eea"},viewBox:"0 0 24 24",fill:"none",stroke:"currentColor"},fe={key:1,class:"w-6 h-6 flex-shrink-0",style:{color:"#667eea"},viewBox:"0 0 24 24",fill:"none",stroke:"currentColor"},me={class:"flex-1"},ye={class:"font-semibold text-gray-800"},_e={class:"text-sm text-gray-500"},we={key:0,class:"mb-4"},be={class:"flex justify-end"},ke=["onClick","disabled"],Ce={key:0,class:"animate-spin h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},Ve={key:1},Me={key:2};function Be(s,t,n,a,w,c){const h=m("Head"),x=m("VideoPlayer"),f=m("Sidebar");return l(),i(v,null,[y(h,{title:"Course"}),y(f,{title:"Course Details"},{default:S(()=>[e("div",R,[e("div",W,[e("div",Y,[e("button",{onClick:t[0]||(t[0]=u=>c.goBack()),class:"inline-flex items-center gap-2 bg-transparent border-none cursor-pointer text-base font-semibold px-4 py-2 rounded-lg transition-colors duration-200 hover:bg-gray-50 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-indigo-500",style:{color:"#667eea"}},t[1]||(t[1]=[e("svg",{class:"w-5 h-5 stroke-2",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor"},[e("path",{d:"M19 12H5"}),e("path",{d:"M12 19l-7-7 7-7"})],-1),p(" Back to Courses ")]))])]),e("div",G,[e("div",J,[e("div",K,[e("div",Q,[e("h1",X,r(n.course.title),1),e("p",Z,r(n.course.description),1)]),e("div",ee,[e("div",te,[e("div",oe,[e("div",se,[t[5]||(t[5]=e("h4",{class:"text-lg font-semibold mb-4 text-gray-800"}," This course includes: ",-1)),e("ul",ie,[(l(!0),i(v,null,_(n.course.materials,u=>(l(),i("li",{key:u.id,class:"flex items-center gap-3 mb-3 text-gray-600 text-sm"},[(l(),i("svg",le,t[2]||(t[2]=[e("path",{d:"M9 11l3 3l8-8"},null,-1)]))),p(" "+r(u.title)+" ("+r(u.is_video?"Video":"PDF")+") ",1)]))),128)),e("li",ne,[(l(),i("svg",re,t[3]||(t[3]=[e("path",{d:"M9 11l3 3l8-8"},null,-1)]))),t[4]||(t[4]=p(" Certificate of completion "))])])])])])])])])]),e("div",de,[e("div",ae,[e("div",ce,[e("div",ue,[e("div",ge,[t[9]||(t[9]=e("h2",{class:"text-3xl font-semibold text-gray-800 mb-8"}," Course Materials ",-1)),(l(!0),i(v,null,_(c.groupedMaterials,(u,d)=>(l(),i("div",{key:d,class:"mb-8"},[e("h3",ve,r(d),1),e("div",pe,[(l(!0),i(v,null,_(u,o=>(l(),i("div",{key:o.id,class:"bg-white rounded-xl p-6 shadow-sm border border-gray-200 transition-all duration-200 hover:-translate-y-0.5 hover:shadow-md focus-within:ring-2 focus-within:ring-indigo-500"},[e("div",he,[o.is_video?(l(),i("svg",fe,t[7]||(t[7]=[e("polygon",{points:"23,7 16,12 23,17"},null,-1),e("rect",{x:"1",y:"5",width:"15",height:"14",rx:"2",ry:"2"},null,-1)]))):(l(),i("svg",xe,t[6]||(t[6]=[e("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"},null,-1),e("polyline",{points:"14,2 14,8 20,8"},null,-1),e("line",{x1:"16",y1:"13",x2:"8",y2:"13"},null,-1),e("line",{x1:"16",y1:"17",x2:"8",y2:"17"},null,-1),e("polyline",{points:"10,9 9,9 8,9"},null,-1)]))),e("div",me,[e("h3",ye,r(o.title),1),e("p",_e,r(o.file_size)+" â€¢ "+r(o.is_video?"Video":"PDF"),1)])]),o.is_video?(l(),i("div",we,[y(x,{"video-url":o.display_url,title:o.title,"show-title":!1},null,8,["video-url","title"])])):g("",!0),e("div",be,[e("button",{onClick:V=>o.is_video?c.openVideoModal(o):c.openPdfInNewTab(o,V),disabled:c.isLoading(o.id),class:P(["w-full md:w-auto text-white border-none py-2.5 px-5 rounded-lg font-medium text-sm cursor-pointer transition-all duration-200 hover:-translate-y-1 hover:shadow-lg focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-indigo-500 flex items-center justify-center gap-2",{"opacity-70 cursor-not-allowed":c.isLoading(o.id)}]),style:{background:`linear-gradient(
                                                            135deg,
                                                            #667eea 0%,
                                                            #764ba2 100%
                                                        )`}},[c.isLoading(o.id)?(l(),i("svg",Ce,t[8]||(t[8]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):g("",!0),o.is_video?(l(),i("span",Ve,r(c.isLoading(o.id)?"Loading...":"Watch Video"),1)):(l(),i("span",Me,r(c.isLoading(o.id)?"Opening...":"View PDF"),1))],10,ke)])]))),128))])]))),128))])])])])])])]),_:1})],64)}const Fe=C(O,[["render",Be]]);export{Fe as default};
