import{r as c,z as G,c as l,o as n,b as w,u as K,m as Q,w as U,a as e,t as r,F as b,i as E,f as d,h as y,n as L,W as _}from"./app-CJE-g-JS.js";import{_ as I}from"./ElearningSidebar-QNJPvQ5q.js";import{_ as J}from"./BuyConfirmationModal-XTh6mKrA.js";import"./AcademicCapIcon-BGma3prY.js";import"./HomeIcon-ClfSRQHe.js";import"./UserIcon-DsybdmUu.js";const R={class:"bg-gray-50 min-h-screen"},X={class:"relative text-white pt-28 pb-10 md:pt-56 md:pb-16 overflow-hidden",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"}},Y={class:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 relative z-20"},Z={class:"flex justify-center gap-6 md:gap-12 flex-wrap"},ee={class:"text-center"},te={class:"text-3xl sm:text-4xl md:text-5xl font-bold mb-1 sm:mb-2 text-yellow-200"},se={class:"py-10 sm:py-16 bg-gray-50 min-h-[60vh]"},oe={class:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8"},ie={key:0,class:"text-center py-12 sm:py-16 px-6 sm:px-8 max-w-lg mx-auto"},le={key:1,class:"space-y-6 sm:space-y-8"},ne={class:"bg-gradient-to-br from-indigo-500 to-purple-600 p-5 sm:p-6 md:p-8"},re={class:"flex items-start sm:items-center justify-between gap-4"},ae={class:"flex items-start sm:items-center space-x-4"},de={class:"flex-1"},ce={class:"flex flex-wrap items-center gap-3 sm:gap-4 mb-2"},ue={class:"text-xl sm:text-2xl font-bold text-white"},me={key:0,class:"flex items-center gap-2 bg-green-500 bg-opacity-20 px-2.5 py-0.5 rounded-full"},xe={class:"flex flex-wrap items-center gap-3 sm:gap-4 text-white text-xs sm:text-sm opacity-90 mb-3"},pe={class:"flex items-center space-x-1"},ge={class:"flex items-center space-x-1"},fe={class:"flex items-center space-x-1"},ve={key:0},he=["onClick"],we=["onClick"],be={key:0,class:"bg-white/10 rounded-lg p-4 border border-white/10 mb-2"},ye={class:"flex flex-col sm:flex-row items-center gap-3"},_e={class:"text-white font-semibold"},ke={class:"flex items-center gap-2 w-full sm:w-auto"},ze=["onClick"],Me={key:1,class:"border-t border-gray-100"},Be={class:"p-4 sm:p-6"},Se={key:0,class:"space-y-4"},Ce={class:"grid grid-cols-1 sm:grid-cols-[1fr_auto] gap-4 items-start"},qe={class:"sm:col-start-1 order-1 sm:order-1"},Ae={class:"flex items-center space-x-3 mb-2 sm:mb-3"},Ee={class:"text-base sm:text-lg font-semibold text-gray-800"},Le={key:0,class:"text-gray-600 mb-3 sm:mb-4 leading-relaxed text-sm"},Ve={class:"order-2 sm:order-1 sm:col-start-2 ml-0 sm:ml-6 flex flex-col gap-2 sm:gap-3 w-full sm:w-auto"},je={class:"flex gap-2 sm:gap-3 flex-col sm:flex-row w_full"},Ne=["onClick"],$e=["onClick"],He={key:0,class:"text-[11px] sm:text-xs text-gray-500 italic max-w-sm"},Pe={key:1,class:"text-[11px] sm:text-xs text-gray-500 italic max-w-sm"},Oe={class:"order-3 sm:order-2 sm:col-start-1 sm:col-span-1 mt-3 sm:mt-0 pt-3 sm:pt-0 border-t sm:border-0"},Te={class:"flex flex-wrap gap-3 sm:gap-4"},We={key:0,class:"flex items-center gap-2 text-gray-600 text-xs sm:text-sm"},De={key:1,class:"text-center py-8"},V="elearning.courses.expanded.local",Je={__name:"Courses",props:{courses:{type:Array,default:()=>[]},userPhone:{type:String,default:""}},setup(x){const j=x,a=c([]),f=()=>{try{localStorage.setItem(V,JSON.stringify(a.value||[]))}catch{}},N=()=>{try{const s=localStorage.getItem(V);if(!s)return;const t=JSON.parse(s);Array.isArray(t)&&(a.value=t)}catch{}};function $(s){const t=a.value.indexOf(s);t>-1?a.value.splice(t,1):a.value.push(s),f()}function H(s){var t,m;return(t=s.quiz_status)!=null&&t.completed?(m=s.quiz_status)!=null&&m.passed?`Completed (${s.quiz_status.percentage}%)`:`Failed (${s.quiz_status.percentage}%)`:"Attempt Quiz"}function P(s){f(),_.visit(route("elearning.course",{course:s.id}))}function O(s){f(),_.visit(route("elearning.quiz",{course:s.id}))}function T(s){const t=route("elearning.certificate",{course:s.id});window.open(t,"_blank")}const v=c(!1),u=c(null),p=c(""),g=c(""),h=c(!1);function W(s){u.value=s,p.value=j.userPhone||"",g.value="",v.value=!0}function D(){u.value&&(h.value=!0,_.post(route("elearning.buy",{course:u.value.id}),{phone:p.value},{onError:s=>{if(g.value=(s==null?void 0:s.phone)||"",!g.value){const t=(s==null?void 0:s.course)||"Unable to start payment. Ensure your profile phone is set.";alert(t)}h.value=!1}}))}return G(()=>{N()}),(s,t)=>{var m,k;return n(),l(b,null,[w(K(Q),{title:"Courses"}),w(I,{title:"All Courses"},{default:U(()=>[e("div",R,[e("div",X,[t[4]||(t[4]=e("div",{class:"absolute inset-0 bg-black bg-opacity-10 z-10"},null,-1)),e("div",Y,[t[3]||(t[3]=e("div",{class:"text-center mb-8 md:mb-12"},[e("h1",{class:"text-3xl sm:text-5xl md:text-6xl font-extrabold mb-3 sm:mb-4 tracking-tight"}," All Courses "),e("p",{class:"text-base sm:text-xl opacity-90 max-w-2xl mx-auto leading-relaxed"}," Explore our comprehensive collection of financial literacy courses ")],-1)),e("div",Z,[e("div",ee,[e("div",te,r(x.courses.length),1),t[2]||(t[2]=e("div",{class:"text-xs sm:text-sm opacity-80 uppercase tracking-wider"}," Main Courses ",-1))])])])]),t[21]||(t[21]=e("div",{class:"bg-white py-4 sm:py-8 border-b border-gray-200 sticky top-0 z-50"},[e("div",{class:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8"},[e("div",{class:"flex gap-3 sm:gap-4 justify-center flex-wrap"},[e("button",{class:"px-4 py-2 sm:px-6 sm:py-3 border-2 border-indigo-500 bg-indigo-500 text-white rounded-full text-sm sm:text-base font-semibold cursor-pointer transition-all duration-200 hover:bg-indigo-600 hover:border-indigo-600 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-indigo-500 focus-visible:ring-offset-white"}," All Courses ")])])],-1)),e("div",se,[e("div",oe,[x.courses.length===0?(n(),l("div",ie,t[5]||(t[5]=[e("div",{class:"w-16 h-16 sm:w-20 sm:h-20 mx-auto mb-6 sm:mb-8 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-2xl flex items-center justify-center text-white"},[e("svg",{class:"w-8 h-8 sm:w-10 sm:h-10 stroke-2",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor"},[e("path",{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20"}),e("path",{d:"M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"}),e("path",{d:"M8 7h8"}),e("path",{d:"M8 11h8"}),e("path",{d:"M8 15h6"})])],-1),e("h3",{class:"text-xl sm:text-2xl font-semibold text-gray-800 mb-3 sm:mb-4"}," No courses available yet ",-1),e("p",{class:"text-gray-600 leading-relaxed mb-6 sm:mb-8 text-sm sm:text-base"}," We're working hard to bring you amazing financial literacy courses. Check back soon for updates! ",-1),e("button",{class:"inline-flex items-center gap-2 px-5 py-3 text-sm font-semibold rounded-lg text-white bg-gradient-to-r from-indigo-500 to-purple-600 shadow-lg hover:shadow-xl hover:-translate-y-0.5 transition-all duration-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-indigo-500 focus-visible:ring-offset-white"}," Get Notified When Available ",-1)]))):(n(),l("div",le,[(n(!0),l(b,null,E(x.courses,o=>{var z;return n(),l("div",{key:o.id,class:"bg-white rounded-2xl overflow-hidden transition-all duration-300 shadow-sm border border-gray-200 hover:shadow-lg hover:-translate-y-0.5"},[e("div",ne,[e("div",re,[e("div",ae,[t[12]||(t[12]=e("div",{class:"w-10 h-10 sm:w-12 sm:h-12 bg-white/20 rounded-xl flex items-center justify-center backdrop-blur-sm ring-1 ring-white/20"},[e("svg",{class:"w-5 h-5 sm:w-6 sm:h-6 text-white stroke-2",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor"},[e("path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"}),e("path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"})])],-1)),e("div",de,[e("div",ce,[e("h2",ue,r(o.title),1),o.is_completed?(n(),l("div",me,t[6]||(t[6]=[e("svg",{class:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-green-200",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor"},[e("path",{d:"M9 12l2 2 4-4"}),e("path",{d:"M21 12c0 4.97-4.03 9-9 9s-9-4.03-9-9s4.03-9 9-9c1.51 0 2.93.37 4.18 1.03"})],-1),e("span",{class:"text-green-200 text-xs sm:text-sm font-medium"},"Completed",-1)]))):d("",!0)]),e("div",xe,[e("span",pe,[t[7]||(t[7]=e("svg",{class:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor"},[e("path",{d:"M9 12l2 2 4-4"}),e("path",{d:"M21 12c0 4.97-4.03 9-9 9s-9-4.03-9-9s4.03-9 9-9c1.51 0 2.93.37 4.18 1.03"})],-1)),e("span",null,r(((z=o.sub_courses)==null?void 0:z.length)||0)+" Sub-courses",1)]),t[10]||(t[10]=e("span",{class:"flex items-center space-x-1"},[e("svg",{class:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor"},[e("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})]),e("span",null,"Main Course")],-1)),e("span",ge,[t[8]||(t[8]=e("svg",{class:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor"},[e("path",{d:"M13 2L3 14h9l-1 8 10-12h-9l1-8z"})],-1)),e("span",null,r(o.completion_progress)+"% Progress",1)]),e("span",fe,[t[9]||(t[9]=e("svg",{class:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor"},[e("path",{d:"M12 1C5.925 1 1 5.925 1 12s4.925 11 11 11 11-4.925 11-11S18.075 1 12 1zm0 2c4.963 0 9 4.037 9 9s-4.037 9-9 9-9-4.037-9-9 4.037-9 9-9zm-1 4v2.05c-1.71.208-3 .996-3 2.45 0 1.359 1.02 2.142 2.67 2.55l.33.08v3.32c-.92-.13-1.78-.49-2.5-1.03l-.83 1.54c1.03.77 2.33 1.22 3.83 1.34V21h2v-2.05c1.78-.2 3.2-1.09 3.2-2.64 0-1.39-1.02-2.18-2.8-2.63l-.4-.09V10.3c.69.1 1.37.36 1.9.78l.84-1.52c-.8-.6-1.92-1-3.24-1.14V7h-2z"})],-1)),e("span",null,"KES "+r((o.price||0).toLocaleString()),1)])]),o.is_completed?(n(),l("div",ve,[e("button",{onClick:i=>T(o),class:"inline-flex items-center gap-2 bg-yellow-500 hover:bg-yellow-400 text-yellow-900 px-3 py-1.5 sm:px-4 sm:py-2 rounded-lg font-semibold text-xs sm:text-sm transition-all duration-200 transform hover:scale-105 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-yellow-400 focus-visible:ring-offset-indigo-600"},t[11]||(t[11]=[e("svg",{class:"w-3.5 h-3.5 sm:w-4 sm:h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor"},[e("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e("polyline",{points:"14,2 14,8 20,8"}),e("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),e("polyline",{points:"10,9 9,9 8,9"})],-1),y(" Get Certificate ")]),8,he)])):d("",!0)])]),o.has_access?(n(),l("button",{key:0,onClick:i=>$(o.id),class:"text-white hover:text-yellow-200 transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-white focus-visible:ring-offset-indigo-600 rounded-md"},[(n(),l("svg",{class:L([a.value.includes(o.id)?"rotate-180":"","w-6 h-6 transition-transform duration-200"]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},t[13]||(t[13]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)]),2))],8,we)):d("",!0)])]),o.has_access?d("",!0):(n(),l("div",be,[e("div",ye,[e("div",_e,"Price: KES "+r((o.price||0).toLocaleString()),1),e("div",ke,[e("button",{onClick:i=>W(o),class:"inline-flex items-center gap-2 bg-yellow-400 hover:bg-yellow-300 text-yellow-900 px-4 py-2 rounded-md font-semibold transition"}," Buy Course ",8,ze)])])])),o.has_access&&a.value.includes(o.id)?(n(),l("div",Me,[e("div",Be,[o.sub_courses&&o.sub_courses.length>0?(n(),l("div",Se,[(n(!0),l(b,null,E(o.sub_courses,i=>{var M,B,S,C,q,A;return n(),l("div",{key:i.id,class:"bg-gray-50 rounded-xl p-4 sm:p-6 border border-gray-200 hover:border-indigo-300 transition-all duration-200 hover:shadow-md hover:-translate-y-0.5 group"},[e("div",Ce,[e("div",qe,[e("div",Ae,[t[14]||(t[14]=e("div",{class:"w-7 h-7 sm:w-8 sm:h-8 bg-indigo-100 rounded-lg flex items-center justify-center"},[e("svg",{class:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-indigo-600",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor"},[e("path",{d:"M9 12l2 2 4-4"}),e("path",{d:"M21 12c0 4.97-4.03 9-9 9s-9-4.03-9-9s4.03-9 9-9c1.51 0 2.93.37 4.18 1.03"})])],-1)),e("h3",Ee,r(i.title),1)]),i.description?(n(),l("p",Le,r(i.description),1)):d("",!0)]),e("div",Ve,[e("div",je,[e("button",{onClick:F=>P(i),class:"inline-flex items-center justify-center gap-2 px-4 py-2 sm:px-6 sm:py-3 text-sm font-semibold rounded-lg text-white shadow-lg transition-all duration-200 tracking-wide bg-gradient-to-r from-indigo-500 to-purple-600 hover:shadow-xl hover:-translate-y-0.5 w-full sm:w-auto focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-indigo-500 focus-visible:ring-offset-white"},t[15]||(t[15]=[e("svg",{class:"w-4 h-4 stroke-2",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor"},[e("circle",{cx:"12",cy:"12",r:"10"}),e("polygon",{points:"10,8 16,12 10,16 10,8"})],-1),y(" Start Learning ")]),8,Ne),e("button",{onClick:F=>O(i),class:L(["inline-flex items-center justify-center gap-2 px-4 py-2 sm:px-6 sm:py-3 text-sm font-semibold rounded-lg text-white shadow-lg transition-all duration-200 tracking-wide w-full sm:w-auto focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-indigo-500 focus-visible:ring-offset-white",{"bg-gradient-to-r from-green-500 to-emerald-600 hover:shadow-xl hover:-translate-y-0.5":!((M=i.quiz_status)!=null&&M.completed),"bg-gradient-to-r from-blue-500 to-indigo-600 hover:shadow-xl hover:-translate-y-0.5":((B=i.quiz_status)==null?void 0:B.completed)&&((S=i.quiz_status)==null?void 0:S.passed),"bg-gradient-to-r from-yellow-500 to-orange-600 hover:shadow-xl hover:-translate-y-0.5":((C=i.quiz_status)==null?void 0:C.completed)&&!((q=i.quiz_status)!=null&&q.passed)}])},[t[16]||(t[16]=e("svg",{class:"w-4 h-4 stroke-2",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor"},[e("path",{d:"M9 12l2 2 4-4"}),e("path",{d:"M21 12c0 4.97-4.03 9-9 9s-9-4.03-9-9s4.03-9 9-9c1.51 0 2.93.37 4.18 1.03"})],-1)),y(" "+r(H(i)),1)],10,$e)]),(A=i.quiz_status)!=null&&A.completed?(n(),l("div",He," Click the quiz button above to view detailed results and reattempt the test ")):(n(),l("div",Pe," Take the quiz to test your knowledge (70% required to pass) "))]),e("div",Oe,[e("div",Te,[t[18]||(t[18]=e("div",{class:"flex items-center gap-2 text-gray-600 text-xs sm:text-sm"},[e("svg",{class:"w-4 h-4 text-indigo-500",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor"},[e("path",{d:"M9 11l3 3l8-8"}),e("path",{d:"M21 12c0 4.97-4.03 9-9 9s-9-4.03-9-9s4.03-9 9-9c1.51 0 2.93.37 4.18 1.03"})]),e("span",null,"Certificate included")],-1)),t[19]||(t[19]=e("div",{class:"flex items-center gap-2 text-gray-600 text-xs sm:text-sm"},[e("svg",{class:"w-4 h-4 text-indigo-500",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor"},[e("path",{d:"M8 6l4-4 4 4"}),e("path",{d:"M12 2v10.3a4 4 0 0 1-1.172 2.872L4 22"}),e("path",{d:"M20 22l-6.828-6.828A4 4 0 0 1 12 12.3"})]),e("span",null,"Self-paced learning")],-1)),i.materials&&i.materials.length>0?(n(),l("div",We,[t[17]||(t[17]=e("svg",{class:"w-4 h-4 text-indigo-500",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor"},[e("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e("polyline",{points:"14,2 14,8 20,8"}),e("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),e("polyline",{points:"10,9 9,9 8,9"})],-1)),e("span",null,r(i.materials.length)+" material(s)",1)])):d("",!0)])])])])}),128))])):(n(),l("div",De,t[20]||(t[20]=[e("div",{class:"text-gray-400"},[e("svg",{class:"mx-auto h-12 w-12 text-gray-300 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})]),e("h3",{class:"text-lg font-medium text-gray-900 mb-2"},"No sub-courses available"),e("p",{class:"text-sm text-gray-500"},"Sub-courses will be added to this main course soon.")],-1)])))])])):d("",!0)])}),128))]))])])])]),_:1}),w(J,{show:v.value,"onUpdate:show":t[0]||(t[0]=o=>v.value=o),phone:p.value,"onUpdate:phone":t[1]||(t[1]=o=>p.value=o),"course-title":((m=u.value)==null?void 0:m.title)||"",price:((k=u.value)==null?void 0:k.price)||0,error:g.value,"is-submitting":h.value,onConfirm:D},null,8,["show","phone","course-title","price","error","is-submitting"])],64)}}};export{Je as default};
