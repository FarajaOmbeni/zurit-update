import{_ as y}from"./AdminSidebar-MedvguNh.js";import{r as _,k as b,c as k,o as r,w,a as t,b as n,F as d,i as x,f as c,h as $,n as C,t as l,W as S}from"./app-B_hne1Tg.js";import"./EllipsisHorizontalIcon-DzLg0Rl_.js";import"./ChartBarIcon-Cqn6m8ip.js";import"./UserIcon-BO1rS64U.js";import"./CalendarIcon-bAHyIL8u.js";import"./CalendarDaysIcon-Ce71ruNA.js";import"./DocumentTextIcon-CEtSRJAF.js";import"./UserGroupIcon-BFk9TWYT.js";import"./UsersIcon-CPtOQ4mj.js";const B={class:"px-4 sm:px-6 lg:px-8"},D={class:"sm:flex sm:items-center"},M={class:"mt-4 sm:mt-0 sm:ml-16 sm:flex-none space-x-3"},z={class:"mt-8 flex flex-col"},A={class:"-my-2 -mx-4 overflow-x-auto sm:-mx-6 lg:-mx-8"},N={class:"inline-block min-w-full py-2 align-middle md:px-6 lg:px-8"},V={class:"overflow-hidden shadow ring-1 ring-black ring-opacity-5 md:rounded-lg"},j={class:"min-w-full divide-y divide-gray-300"},E={class:"divide-y divide-gray-200 bg-white"},F={class:"bg-white"},L={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-6"},O={class:"flex items-center"},T=["onClick"],W={class:"px-3 py-4 text-sm text-gray-500"},q={class:"text-gray-400"},H={class:"whitespace-nowrap px-3 py-4 text-sm text-gray-500"},Q={class:"relative whitespace-nowrap py-4 pl-3 pr-4 text-right text-sm font-medium sm:pr-6"},G=["onClick"],I=["onClick"],J={key:0,class:"bg-gray-50"},K={colspan:"4",class:"px-0 py-0"},P={class:"border-t border-gray-200"},R={class:"px-6 py-4"},U={class:"text-sm font-medium text-gray-700 mb-3"},X={key:0},Y={class:"space-y-3"},Z={class:"flex items-center justify-between"},tt={class:"flex-1"},et={class:"text-sm font-medium text-gray-900"},st={key:0,class:"text-sm text-gray-500 mt-1"},ot={key:1,class:"mt-2"},it={class:"text-xs text-gray-400"},rt={class:"flex items-center space-x-2 ml-4"},nt=["onClick"],lt=["onClick"],at={key:1,class:"text-center py-6"},dt={class:"text-gray-400"},ct={class:"mt-6"},bt={__name:"Index",props:{courses:Object},setup(g){const h=g,a=_([]),f=b(()=>h.courses.data),v=s=>{const e=a.value.indexOf(s);e>-1?a.value.splice(e,1):a.value.push(s)},p=s=>{confirm("Are you sure you want to delete this course? This will also delete all associated materials.")&&S.delete(route("admin.courses.destroy",{course:s}))};return(s,e)=>(r(),k(y,{title:"Manage Courses"},{default:w(()=>[t("div",B,[t("div",D,[e[4]||(e[4]=t("div",{class:"sm:flex-auto"},[t("h1",{class:"text-xl font-semibold text-gray-900"},"Courses"),t("p",{class:"mt-2 text-sm text-gray-700"},"Manage all financial literacy courses")],-1)),t("div",M,[t("button",{type:"button",onClick:e[0]||(e[0]=o=>s.$inertia.visit(s.route("admin.courses.create-main"))),class:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500"}," Create Main Course "),t("button",{type:"button",onClick:e[1]||(e[1]=o=>s.$inertia.visit(s.route("admin.courses.create"))),class:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-purple-600 hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500"}," Add Sub-Course ")])]),t("div",z,[t("div",A,[t("div",N,[t("div",V,[t("table",j,[e[9]||(e[9]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{scope:"col",class:"py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-6"},"Main Course"),t("th",{scope:"col",class:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900"},"Sub-Courses"),t("th",{scope:"col",class:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900"},"Created"),t("th",{scope:"col",class:"relative py-3.5 pl-3 pr-4 sm:pr-6"},[t("span",{class:"sr-only"},"Actions")])])],-1)),t("tbody",E,[(r(!0),n(d,null,x(f.value,o=>{var u;return r(),n(d,{key:o.id},[t("tr",F,[t("td",L,[t("div",O,[t("button",{onClick:i=>v(o.id),class:"mr-2 text-gray-400 hover:text-gray-600"},[(r(),n("svg",{class:C([a.value.includes(o.id)?"rotate-90":"","w-4 h-4 transition-transform duration-200"]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},e[5]||(e[5]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"},null,-1)]),2))],8,T),$(" "+l(o.title),1)])]),t("td",W,[t("span",q,l(((u=o.sub_courses)==null?void 0:u.length)||0)+" sub-course(s)",1)]),t("td",H,l(new Date(o.created_at).toLocaleDateString()),1),t("td",Q,[t("button",{onClick:i=>s.$inertia.visit(s.route("admin.courses.edit",{course:o.id})),class:"text-purple-600 hover:text-purple-900 mr-4"}," Edit ",8,G),t("button",{onClick:i=>p(o.id),class:"text-red-600 hover:text-red-900"}," Delete ",8,I)])]),a.value.includes(o.id)?(r(),n("tr",J,[t("td",K,[t("div",P,[t("div",R,[t("h4",U,'Sub-Courses for "'+l(o.title)+'"',1),o.sub_courses&&o.sub_courses.length>0?(r(),n("div",X,[t("div",Y,[(r(!0),n(d,null,x(o.sub_courses,i=>(r(),n("div",{key:i.id,class:"bg-white rounded-lg border border-gray-200 p-4"},[t("div",Z,[t("div",tt,[t("h5",et,l(i.title),1),i.description?(r(),n("p",st,l(i.description.substring(0,100))+l(i.description.length>100?"...":""),1)):c("",!0),i.materials&&i.materials.length>0?(r(),n("div",ot,[t("span",it,l(i.materials.length)+" material(s)",1)])):c("",!0)]),t("div",rt,[t("button",{onClick:e[2]||(e[2]=m=>s.$inertia.visit(s.route("admin.quizzes.create"))),class:"text-green-600 hover:text-green-900 text-sm"}," Add Quiz "),t("button",{onClick:m=>s.$inertia.visit(s.route("admin.subcourses.edit",{subcourse:i.id})),class:"text-purple-600 hover:text-purple-900 text-sm"}," Edit ",8,nt),t("button",{onClick:m=>p(i.id),class:"text-red-600 hover:text-red-900 text-sm"}," Delete ",8,lt)])])]))),128))])])):(r(),n("div",at,[t("div",dt,[e[6]||(e[6]=t("svg",{class:"mx-auto h-12 w-12 text-gray-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)),e[7]||(e[7]=t("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"No sub-courses available",-1)),e[8]||(e[8]=t("p",{class:"mt-1 text-sm text-gray-500"},"No sub-courses have been created for this course yet.",-1)),t("div",ct,[t("button",{onClick:e[3]||(e[3]=i=>s.$inertia.visit(s.route("admin.courses.create"))),class:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-purple-600 hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500"}," Add Sub-Course ")])])]))])])])])):c("",!0)],64)}),128))])])])])])])])]),_:1}))}};export{bt as default};
