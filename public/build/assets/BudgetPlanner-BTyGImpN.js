import{r as g,B as V,C as R,n as _e,k as ke,b as a,o as r,d as N,u as n,m as Ce,w as ne,a as t,f as x,D as d,c as Se,t as i,M as w,I as M,F as y,G as h,g as H,N as A,E as _,U}from"./app-VkLrrOBV.js";import{A as Ee}from"./AuthenticatedLayout-Bb0fJIL_.js";import{_ as Ie}from"./Sidebar-DGBfm4I3.js";import{_ as le}from"./BudgetBarChart-BZvt5k65.js";import{u as Me,_ as Ae}from"./useAlert-C6MLPSdW.js";import{f as De}from"./useDateFormat-pjOuPPEs.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./useFormatCurrency-DPZVhC5N.js";const re=[{value:"rent",label:"Rent"},{value:"utilities",label:"Utilities"},{value:"groceries",label:"Groceries"},{value:"eatout",label:"Eating out"},{value:"transportation",label:"Transportation"},{value:"fuel",label:"Fuel"},{value:"insurance",label:"Insurance"},{value:"investment",label:"Investment Contribution"},{value:"debt",label:"Debt Payment"},{value:"goal",label:"Goal Contribution"},{value:"other",label:"Other"}],ae=[{value:"salary",label:"Salary"},{value:"freelance",label:"Freelance"},{value:"business_income",label:"Business Income"},{value:"rental_income",label:"Rental Income"},{value:"investments",label:"Investments"},{value:"side_hustle",label:"Side Hustle"},{value:"bonus",label:"Bonus"},{value:"other",label:"Other"}],je={class:"w-full text-gray-900"},Te={class:"py-6"},Ve={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},Ue={class:"flex justify-between"},Oe={class:"flex items-center justify-between mb-4 gap-2"},Be={class:"text-2xl font-semibold text-gray-900"},$e={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},qe={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},Le={class:"px-6"},Ne={key:1,class:"mt-6 grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4"},Ke={class:"mt-1 text-3xl font-semibold text-green-600"},Fe={class:"mt-1 text-3xl font-semibold text-red-500"},Ye={class:"bg-white overflow-hidden shadow rounded-lg"},ze={class:"px-4 py-5 sm:p-6 flex flex-col space-y-2"},Ge={key:2,class:"mt-6 text-center"},Pe={class:"mt-4 flex justify-center space-x-2"},Je={class:"my-4 w-full flex justify-center"},Re=["href"],He={key:3,class:"mt-8 grid grid-cols-1 gap-8 lg:grid-cols-2"},Qe={class:"mt-12"},We={class:"text-xl font-bold text-gray-900 text-center"},Xe={class:"mt-4 bg-white shadow rounded-lg"},Ze={class:"divide-y divide-gray-200"},et={class:"flex items-center justify-between"},tt={class:"text-sm font-medium text-gray-900"},st={class:"flex flex-col gap-2 md:flex-row md:gap-0 text-sm items-center space-x-2"},ot={class:"text-green-600 font-medium"},nt=["onClick"],lt=["onClick"],rt={class:"px-4 py-3 bg-gray-50"},at={class:"flex items-center justify-between"},it={class:"text-sm font-bold text-green-600"},dt={class:"mt-12"},ut={class:"text-xl font-bold text-gray-900 text-center"},ct={class:"mt-4 bg-white shadow rounded-lg"},mt={class:"divide-y divide-gray-200"},bt={class:"flex items-center justify-between"},pt={class:"text-sm font-medium text-gray-900"},gt={class:"flex flex-col gap-2 md:flex-row md:gap-0 text-sm items-center space-x-2"},ft={class:"text-red-600 font-medium"},vt={class:"px-4 py-3 bg-gray-50"},xt={class:"flex items-center justify-between"},yt={class:"text-sm font-bold text-red-600"},wt={class:"mt-12"},ht={class:"mt-4 bg-white shadow rounded-lg"},_t={class:"divide-y divide-gray-200"},kt={key:0,class:"px-4 py-6 text-center text-gray-500"},Ct={class:"flex items-center justify-between"},St={class:"text-sm font-medium text-gray-900"},Et={class:"text-sm text-gray-500"},It={class:"flex flex-col gap-2 md:flex-row md:gap-0 text-sm items-center space-x-2"},Mt=["onClick"],At=["onClick"],Dt={class:"px-4 py-3 bg-gray-50 border-t border-gray-200"},jt={class:"flex justify-between items-center"},Tt={class:"text-sm font-medium text-gray-700"},Vt={class:"text-right"},Ut={class:"text-sm font-medium text-green-600"},Ot={class:"text-sm font-medium text-red-600"},Bt={key:0,class:"fixed inset-0 overflow-y-auto z-10 flex items-center justify-center"},$t={class:"relative bg-white rounded-lg max-w-sm w-full mx-2 p-4 shadow-lg"},qt={class:"mb-3"},Lt=["value"],Nt={class:"mb-3"},Kt=["required"],Ft={class:"mb-3"},Yt={class:"flex space-x-4"},zt={class:"flex items-center text-sm"},Gt={class:"flex items-center text-sm"},Pt={class:"mb-3"},Jt={class:"mb-3"},Rt={class:"mb-4"},Ht={class:"flex justify-end space-x-2"},Qt=["disabled"],Wt={key:1,class:"fixed inset-0 overflow-y-auto z-10 flex items-center justify-center"},Xt={class:"relative bg-white rounded-lg max-w-sm w-full mx-2 p-4 shadow-lg"},Zt={class:"mb-3"},es=["value"],ts={class:"mb-3"},ss=["required"],os={class:"mb-3"},ns={class:"flex space-x-4"},ls={class:"flex items-center text-sm"},rs={class:"flex items-center text-sm"},as={class:"mb-4"},is=["value"],ds=["value"],us=["value"],cs={class:"mb-3"},ms={class:"mb-3"},bs={class:"mb-4"},ps={class:"flex justify-end space-x-2"},gs={type:"submit",class:"px-3 py-1.5 border border-transparent rounded-md shadow-sm text-sm text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500"},fs={key:2,class:"fixed mr-16 sm:mr-0 inset-0 flex items-center justify-center bg-black bg-opacity-50"},vs={class:"bg-white rounded-lg shadow-lg p-4 sm:p-6 w-full max-w-xs sm:max-w-sm md:max-w-md"},xs={class:"mb-4"},ys=["value"],ws=["value"],hs=["value"],_s=["value"],ks={class:"mb-3"},Cs={class:"flex space-x-4"},Ss={class:"flex items-center text-sm"},Es=["checked"],Is={class:"flex items-center text-sm"},Ms=["checked"],As={class:"mb-4"},Ds={class:"mb-4"},js={class:"mb-4"},Ts={class:"flex justify-end space-x-2"},Vs={key:3,class:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50"},Us={class:"bg-white rounded-lg shadow-lg p-4 sm:p-6 w-full max-w-xs sm:max-w-sm md:max-w-md"},Os={class:"flex justify-end space-x-2"},Bs={key:4,class:"fixed inset-0 overflow-y-auto z-10 flex items-center justify-center"},$s={class:"relative bg-purple-900 text-white rounded-lg max-w-md w-full mx-4 p-4 shadow-xl border-2 border-yellow-500"},qs={class:"space-y-2"},Ls={class:"flex justify-between items-center"},Ns={class:"text-xs font-medium text-white"},Ks={class:"text-xs font-semibold text-yellow-500"},Fs={class:"bg-purple-900 border border-yellow-500 rounded-lg p-2 mt-2"},Ys={class:"flex justify-between items-center"},zs={class:"text-sm font-semibold text-yellow-500"},Gs={class:"mt-3 flex justify-end space-x-2"},eo={__name:"BudgetPlanner",props:{data:Object,today:String},setup(O){const{alertState:B,openAlert:f,clearAlert:ie}=Me(),b=O,K=g(!1),$=g(!1),u=g(null),de=g(null),ue=g(null),Q=g(b.data.incomes||[]),z=g(b.data.expenses||[]),ce=V(()=>{const s=Q.value.reduce((c,m)=>{const v=m.category;return c[v]||(c[v]={totalAmount:0,incomes:[]}),c[v].totalAmount+=parseFloat(m.amount),c[v].incomes.push(m),c},{});return Object.entries(s).map(([c,{totalAmount:m}])=>({label:c,amount:Math.round(m)})).sort((c,m)=>m.amount-c.amount).slice(0,3)}),me=V(()=>{const s=z.value.reduce((m,v)=>{const I=v.category;return m[I]||(m[I]=[]),m[I].push(v),m},{});return Object.entries(s).map(([m,v])=>({category:m,totalAmount:v.reduce((I,he)=>I+parseFloat(he.amount),0),expenses:v})).sort((m,v)=>v.totalAmount-m.totalAmount).slice(0,3).map(m=>({label:m.category,amount:Math.round(m.totalAmount),expenses:m.expenses}))}),W=V(()=>z.value?z.value.reduce((o,e)=>{const s=e.category;return o[s]||(o[s]=0),o[s]+=parseFloat(e.amount),o},{}):{}),X=o=>{u.value={...o,transaction_date:o.transaction_date?new Date(o.transaction_date).toISOString().split("T")[0]:""},de.value=b.data.incomeCategories,ue.value=b.data.expenseCategories,K.value=!0},Z=o=>{u.value=o,$.value=!0},C=R({category:"",description:"",amount:"",transaction_date:"",is_recurring:!1}),ee=()=>{const o=u.value;C.category=o.category,C.description=o.description,C.amount=o.amount,C.is_recurring=o.is_recurring,C.transaction_date=o.transaction_date;const e=o.type=="income"?"income.edit":"expense.edit";C.put(route(e,o.id),{onSuccess:()=>{K.value=!1,f("success","Transaction Updated Succesfully",5e3),window.location.reload()},onError:s=>{f("danger",s,5e3),console.error("Error editing transaction:",s)}})},te=()=>{const o=u.value,e=o.type=="income"?"income.destroy":"expense.destroy";C.delete(route(e,o.id),{onSuccess:()=>{f("warning","Transaction Deleted Succesfully",5e3),$.value=!1},onError:s=>{f("danger","Error Deleting Transaction",5e3)}}),$.value=!1},E=V(()=>b.data&&(b.data.incomes&&b.data.incomes.length||b.data.expenses&&b.data.expenses.length||b.data.goals&&b.data.goals.length||b.data.debts&&b.data.debts.length||b.data.investments&&b.data.investments.length)),D=g(!1),k=g(!1),F=g(!1),G=V(()=>l.category==="debt"||l.category==="investment"||l.category==="goal"),p=R({category:"",otherCategory:"",amount:"",description:"",income_date:"",is_recurring:!0}),l=R({category:"",otherCategory:"",amount:"",description:"",expense_date:"",is_recurring:!0});_e(()=>[l.category,l.debtId,l.goalId,l.investmentId],()=>{if(l.category==="debt"){const o=b.data.debts.find(e=>e.id==l.debtId);l.description=o?o.description:""}else if(l.category==="goal"){const o=b.data.goals.find(e=>e.id==l.goalId);l.description=o?o.description:""}else if(l.category==="investment"){const o=b.data.investments.find(e=>e.id==l.investmentId);l.description=o?o.details_of_investment:""}else l.description=""});const be=()=>{p.post(route("income.store"),{onSuccess:()=>{D.value=!1,J(),p.reset(),f("success","Income added successfully",5e3)},onError:o=>{const e=Object.values(o).flat().join(" ");f("danger",e,5e3)}})},pe=()=>{l.category==="debt"?fe():l.category==="investment"?ve():l.category==="goal"?xe():ge()},ge=()=>{l.post(route("expense.store"),{onSuccess:()=>{k.value=!1,J(),l.reset(),f("success","Expense added successfully",5e3),window.location.reload()},onError:o=>{const e=Object.values(o).flat().join(" ");f("danger",e,5e3)}})},fe=()=>{l.put(route("debt.contribute",l.debtId),{onSuccess:()=>{k.value=!1,l.reset(),f("success","Contribution Made Succesfully.",5e3),window.location.reload()},onError:o=>{const e=Object.values(o).flat().join(" ");f("danger",e,5e3)}})},ve=()=>{l.put(route("invest.contribute",l.investmentId),{onSuccess:()=>{k.value=!1,l.reset(),f("success","Contribution Made Succesfully.",5e3),window.location.reload()},onError:o=>{const e=Object.values(o).flat().join(" ");f("danger",e,5e3)}})},xe=()=>{l.put(route("goal.contribute",l.goalId),{onSuccess:()=>{k.value=!1,l.reset(),f("success","Contribution Made Succesfully.",5e3),window.location.reload()},onError:o=>{const e=Object.values(o).flat().join(" ");f("danger",e,5e3)}})},j=g(null),P=g([]),q=g(0),T=g(0),L=g(0),Y=V(()=>j.value?b.data.transactions.filter(o=>{const e=new Date(o.transaction_date);return se(e)===j.value}):b.data.transactions);ke(()=>{ye()});function ye(){const o={};b.data.transactions.forEach(e=>{const s=new Date(e.transaction_date),c=se(s);o[c]=!0}),P.value=Object.keys(o).sort((e,s)=>{const[c,m]=e.split(" "),[v,I]=s.split(" ");return I-m||oe(v)-oe(c)}),P.value.length>0&&we(P.value[0])}function se(o){return`${["January","February","March","April","May","June","July","August","September","October","November","December"][o.getMonth()]} ${o.getFullYear()}`}function oe(o){return["January","February","March","April","May","June","July","August","September","October","November","December"].indexOf(o.split(" ")[0])}function we(o){j.value=o,J()}function J(){q.value=Y.value.filter(o=>o.type==="income").reduce((o,e)=>o+parseFloat(e.amount),0),T.value=Y.value.filter(o=>o.type!=="income").reduce((o,e)=>o+parseFloat(e.amount),0),L.value=q.value-T.value}const S=g(!1);return(o,e)=>(r(),a(y,null,[N(n(Ce),{title:"Dashboard"}),N(Ee,null,{default:ne(()=>[t("div",je,[N(Ie,null,{default:ne(()=>[t("div",Te,[t("div",Ve,[d(t("div",Ue,[t("div",Oe,[t("h1",Be,i(O.today)+"'s Budget ",1),t("button",{onClick:e[0]||(e[0]=s=>S.value=!S.value),class:"text-gray-600 hover:text-gray-800"},[S.value?(r(),a("svg",qe,e[39]||(e[39]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:`M13.875 18.825A10.05 10.05 0 0112 19
           c-4.477 0-8.268-2.943-9.542-7
           a9.956 9.956 0 012.442-3.993`},null,-1),t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6.1 6.1l11.8 11.8"},null,-1)]))):(r(),a("svg",$e,e[38]||(e[38]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},null,-1),t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:`M2.458 12C3.732 7.943 7.523 5 12 5
           c4.477 0 8.268 2.943 9.542 7
           -1.274 4.057-5.065 7-9.542 7
           -4.477 0-8.268-2.943-9.542-7z`},null,-1)])))])]),t("div",Le,[t("button",{onClick:e[1]||(e[1]=s=>F.value=!0),class:"w-full py-2 px-4 bg-purple-600 hover:bg-purple-700 text-white font-medium rounded-md transition duration-150"}," View Budget ")])],512),[[w,E.value]]),n(B)?(r(),Se(Ae,{key:0,type:n(B).type,message:n(B).message,duration:n(B).duration,"auto-close":n(B).autoClose,onClose:n(ie)},null,8,["type","message","duration","auto-close","onClose"])):x("",!0),E.value?(r(),a("div",Ne,[t("dd",Ke,[t("span",{class:M({"blur-md":!S.value})}," KES "+i(q.value.toLocaleString()),3)]),t("dd",Fe,[t("span",{class:M({"blur-md":!S.value})}," KES "+i(T.value.toLocaleString()),3)]),t("dd",{class:M(["mt-1 text-3xl font-semibold",L.value>=0?"text-green-600":"text-red-600"])},[t("span",{class:M({"blur-md":!S.value})}," KES "+i(L.value.toLocaleString()),3)],2),t("div",Ye,[t("div",ze,[t("button",{onClick:e[2]||(e[2]=s=>D.value=!0),class:"w-full py-2 px-4 bg-green-600 hover:bg-green-700 text-white font-medium rounded-md transition duration-150"}," Add Income "),t("button",{onClick:e[3]||(e[3]=s=>k.value=!0),class:"w-full py-2 px-4 bg-red-600 hover:bg-red-700 text-white font-medium rounded-md transition duration-150"}," Add Expense ")])])])):x("",!0),E.value?x("",!0):(r(),a("div",Ge,[e[40]||(e[40]=t("p",{class:"text-lg text-gray-600"},"You have no data available for this month.",-1)),t("div",Pe,[t("button",{onClick:e[4]||(e[4]=s=>D.value=!0),class:"py-2 px-4 bg-green-600 hover:bg-green-700 text-white font-medium rounded-md transition duration-150"}," Add Income "),t("button",{onClick:e[5]||(e[5]=s=>k.value=!0),class:"py-2 px-4 bg-red-600 hover:bg-red-700 text-white font-medium rounded-md transition duration-150"}," Add Expense ")])])),t("div",Je,[t("a",{target:"_blank",href:o.route("budget.budgets"),class:"bg-purple-500 px-4 py-2 rounded-md text-white hover:bg-purple-600"},"View Previous Budgets",8,Re)]),E.value?(r(),a("div",He,[N(le,{title:"Top Income Sources",items:ce.value,type:"income",class:"bg-white shadow rounded-lg",showBalances:S.value},null,8,["items","showBalances"]),N(le,{title:"Top Expenses",items:me.value,type:"expense",class:"bg-white shadow rounded-lg",showBalances:S.value},null,8,["items","showBalances"])])):x("",!0),d(t("div",Qe,[t("h2",We,"Your Income - "+i(j.value),1),t("div",Xe,[t("ul",Ze,[(r(!0),a(y,null,h(Q.value,s=>(r(),a("li",{key:s.id,class:"px-4 py-3"},[t("div",et,[t("div",null,[t("p",tt,i(s.category)+" - "+i(s.description),1)]),t("div",st,[t("div",ot," + KES "+i(Math.round(parseFloat(s.amount)).toLocaleString()),1),t("button",{onClick:c=>X(s),class:"bg-blue-500 hover:bg-blue-600 text-white px-3 py-1 rounded"}," Edit ",8,nt),t("button",{onClick:c=>Z(s),class:"bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded"}," Delete ",8,lt)])])]))),128)),t("li",rt,[t("div",at,[e[41]||(e[41]=t("div",null,[t("p",{class:"text-sm font-bold text-gray-900"}," TOTAL INCOME ")],-1)),t("div",it," KES "+i(q.value.toLocaleString()),1)])])])])],512),[[w,E.value]]),d(t("div",dt,[t("h2",ut,"Your Budget - "+i(j.value),1),t("div",ct,[t("ul",mt,[(r(!0),a(y,null,h(W.value,(s,c)=>(r(),a("li",{key:c,class:"px-4 py-3"},[t("div",bt,[t("div",null,[t("p",pt,i(c),1)]),t("div",gt,[t("div",ft," - KES "+i(Math.round(parseFloat(s)).toLocaleString()),1)])])]))),128)),t("li",vt,[t("div",xt,[e[42]||(e[42]=t("div",null,[t("p",{class:"text-sm font-bold text-gray-900"}," TOTAL MONTHLY BUDGET ")],-1)),t("div",yt," KES "+i(T.value.toLocaleString()),1)])])])])],512),[[w,E.value]]),d(t("div",wt,[e[43]||(e[43]=t("h2",{class:"text-xl font-bold text-center text-gray-900"},"All Transactions",-1)),t("div",ht,[t("ul",_t,[Y.value.length===0?(r(),a("li",kt," No transactions right now. Add the first transaction. ")):x("",!0),(r(!0),a(y,null,h(Y.value,s=>(r(),a("li",{key:s.id,class:"px-4 py-3"},[t("div",Ct,[t("div",null,[t("p",St,i(s.description),1),t("p",Et,i(n(De)(s.transaction_date)),1)]),t("div",It,[t("div",{class:M([s.type==="income"?"text-green-600":"text-red-600","font-medium"])},i(s.type==="income"?"+":"-")+" KES "+i(Math.round(s.amount).toLocaleString()),3),t("button",{onClick:c=>X(s),class:"bg-blue-500 hover:bg-blue-600 text-white px-3 py-1 rounded"}," Edit ",8,Mt),t("button",{onClick:c=>Z(s),class:"bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded"}," Delete ",8,At)])])]))),128))]),t("div",Dt,[t("div",jt,[t("span",Tt,i(j.value)+" Summary:",1),t("div",Vt,[t("p",Ut,"Income: KES "+i(q.value.toLocaleString()),1),t("p",Ot,"Expenses: KES "+i(T.value.toLocaleString()),1),t("p",{class:M(["text-sm font-bold",L.value>=0?"text-green-600":"text-red-600"])}," Balance: KES "+i(L.value.toLocaleString()),3)])])])])],512),[[w,E.value]])])]),D.value?(r(),a("div",Bt,[t("div",{class:"fixed inset-0 bg-black bg-opacity-50",onClick:e[6]||(e[6]=s=>D.value=!1)}),t("div",$t,[e[53]||(e[53]=t("h3",{class:"text-base font-semibold text-gray-900 mb-3"},"Add Income",-1)),t("form",{onSubmit:H(be,["prevent"])},[t("div",qt,[e[45]||(e[45]=t("label",{for:"incomeCategory",class:"block text-sm font-medium text-gray-700 mb-1"},"Income Type",-1)),d(t("select",{id:"incomeCategory","onUpdate:modelValue":e[7]||(e[7]=s=>n(p).category=s),class:"w-full px-2 py-1.5 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:""},[e[44]||(e[44]=t("option",{value:""},"Select Income Category",-1)),(r(!0),a(y,null,h(n(ae),s=>(r(),a("option",{key:s.value,value:s.label},i(s.label),9,Lt))),128))],512),[[A,n(p).category]])]),d(t("div",Nt,[e[46]||(e[46]=t("label",{for:"incomeCategory",class:"block text-sm font-medium text-gray-700 mb-1"},"Specify Income",-1)),d(t("input",{type:"text",id:"incomeCategory","onUpdate:modelValue":e[8]||(e[8]=s=>n(p).otherCategory=s),class:"w-full px-2 py-1.5 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:n(p).value==="other"},null,8,Kt),[[_,n(p).otherCategory]])],512),[[w,n(p).category==="Other"]]),t("div",Ft,[e[49]||(e[49]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Is Recurrent?",-1)),t("div",Yt,[t("label",zt,[d(t("input",{type:"radio",id:"yes",name:"is_recurring",value:"1","onUpdate:modelValue":e[9]||(e[9]=s=>n(p).is_recurring=s),checked:""},null,512),[[U,n(p).is_recurring]]),e[47]||(e[47]=t("span",{class:"ml-1"},"Yes",-1))]),t("label",Gt,[d(t("input",{type:"radio",id:"no",name:"is_recurring",value:"0","onUpdate:modelValue":e[10]||(e[10]=s=>n(p).is_recurring=s)},null,512),[[U,n(p).is_recurring]]),e[48]||(e[48]=t("span",{class:"ml-1"},"No",-1))])])]),t("div",Pt,[e[50]||(e[50]=t("label",{for:"incomeDescription",class:"block text-sm font-medium text-gray-700 mb-1"},"Description",-1)),d(t("textarea",{id:"incomeDescription","onUpdate:modelValue":e[11]||(e[11]=s=>n(p).description=s),class:"w-full px-2 py-1.5 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:""},null,512),[[_,n(p).description]])]),t("div",Jt,[e[51]||(e[51]=t("label",{for:"incomeAmount",class:"block text-sm font-medium text-gray-700 mb-1"},"Amount (KES)",-1)),d(t("input",{type:"number",id:"incomeAmount","onUpdate:modelValue":e[12]||(e[12]=s=>n(p).amount=s),class:"w-full px-2 py-1.5 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",min:"0",step:"0.01",required:""},null,512),[[_,n(p).amount]])]),t("div",Rt,[e[52]||(e[52]=t("label",{for:"incomeDate",class:"block text-sm font-medium text-gray-700 mb-1"},"Date",-1)),d(t("input",{type:"date",id:"incomeDate","onUpdate:modelValue":e[13]||(e[13]=s=>n(p).income_date=s),class:"w-full px-2 py-1.5 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:""},null,512),[[_,n(p).income_date]])]),t("div",Ht,[t("button",{type:"button",onClick:e[14]||(e[14]=s=>D.value=!1),class:"px-3 py-1.5 border border-gray-300 rounded-md shadow-sm text-sm text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"}," Cancel "),t("button",{type:"submit",disabled:n(p).processing,class:M(["px-3 py-1.5 border border-transparent rounded-md shadow-sm text-sm text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",{"opacity-50 cursor-not-allowed":n(p).processing}])},i(n(p).processing?"Saving...":"Save Income"),11,Qt)])],32)])])):x("",!0),k.value?(r(),a("div",Wt,[t("div",{class:"fixed inset-0 bg-black bg-opacity-50",onClick:e[15]||(e[15]=s=>k.value=!1)}),t("div",Xt,[e[67]||(e[67]=t("h3",{class:"text-base font-semibold text-gray-900 mb-3"},"Add Expense",-1)),t("form",{onSubmit:H(pe,["prevent"])},[t("div",Zt,[e[55]||(e[55]=t("label",{for:"expenseCategory",class:"block text-sm font-medium text-gray-700 mb-1"},"Expense Type",-1)),d(t("select",{id:"expenseCategory","onUpdate:modelValue":e[16]||(e[16]=s=>n(l).category=s),class:"w-full px-2 py-1.5 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:""},[e[54]||(e[54]=t("option",{value:""},"Select Expense Type",-1)),(r(!0),a(y,null,h(n(re),s=>(r(),a("option",{value:s.value,key:s.value},i(s.label),9,es))),128))],512),[[A,n(l).category]])]),d(t("div",ts,[e[56]||(e[56]=t("label",{for:"incomeCategory",class:"block text-sm font-medium text-gray-700 mb-1"},"Specify Expense",-1)),d(t("input",{type:"text",id:"incomeCategory","onUpdate:modelValue":e[17]||(e[17]=s=>n(l).otherCategory=s),class:"w-full px-2 py-1.5 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:n(l).value==="other"},null,8,ss),[[_,n(l).otherCategory]])],512),[[w,n(l).category==="Other"]]),d(t("div",os,[e[59]||(e[59]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Is Recurrent?",-1)),t("div",ns,[t("label",ls,[d(t("input",{type:"radio",id:"yes",name:"is_recurring",value:"1","onUpdate:modelValue":e[18]||(e[18]=s=>n(l).is_recurring=s),checked:""},null,512),[[U,n(l).is_recurring]]),e[57]||(e[57]=t("span",{class:"ml-1"},"Yes",-1))]),t("label",rs,[d(t("input",{type:"radio",id:"no",name:"is_recurring",value:"0","onUpdate:modelValue":e[19]||(e[19]=s=>n(l).is_recurring=s)},null,512),[[U,n(l).is_recurring]]),e[58]||(e[58]=t("span",{class:"ml-1"},"No",-1))])])],512),[[w,!G.value]]),d(t("div",as,[e[63]||(e[63]=t("label",{for:"contributionType",class:"block text-sm font-medium text-gray-700 mb-1"},"Specify the contribution",-1)),n(l).category==="debt"?d((r(),a("select",{key:0,id:"contributionType","onUpdate:modelValue":e[20]||(e[20]=s=>n(l).debtId=s),class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:""},[e[60]||(e[60]=t("option",{value:""},"Select Contribution",-1)),(r(!0),a(y,null,h(O.data.debts,s=>(r(),a("option",{key:s.id,value:s.id},i(s.name),9,is))),128))],512)),[[A,n(l).debtId]]):x("",!0),n(l).category==="goal"?d((r(),a("select",{key:1,id:"contributionType","onUpdate:modelValue":e[21]||(e[21]=s=>n(l).goalId=s),class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:""},[e[61]||(e[61]=t("option",{value:""},"Select Contribution",-1)),(r(!0),a(y,null,h(O.data.goals,s=>(r(),a("option",{key:s.id,value:s.id},i(s.name),9,ds))),128))],512)),[[A,n(l).goalId]]):x("",!0),n(l).category==="investment"?d((r(),a("select",{key:2,id:"contributionType","onUpdate:modelValue":e[22]||(e[22]=s=>n(l).investmentId=s),class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:""},[e[62]||(e[62]=t("option",{value:""},"Select Contribution",-1)),(r(!0),a(y,null,h(O.data.investments,s=>(r(),a("option",{key:s.id,value:s.id},i(s.details_of_investment),9,us))),128))],512)),[[A,n(l).investmentId]]):x("",!0)],512),[[w,G.value]]),t("div",cs,[e[64]||(e[64]=t("label",{for:"expenseAmount",class:"block text-sm font-medium text-gray-700 mb-1"},"Amount (KES)",-1)),d(t("input",{type:"number",id:"expenseAmount","onUpdate:modelValue":e[23]||(e[23]=s=>n(l).amount=s),class:"w-full px-2 py-1.5 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",min:"0",step:"0.01",required:""},null,512),[[_,n(l).amount]])]),t("div",ms,[e[65]||(e[65]=t("label",{for:"expenseDescription",class:"block text-sm font-medium text-gray-700 mb-1"},"Description",-1)),d(t("textarea",{id:"expenseDescription","onUpdate:modelValue":e[24]||(e[24]=s=>n(l).description=s),rows:"2",class:"w-full px-2 py-1.5 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:""},null,512),[[_,n(l).description]])]),d(t("div",bs,[e[66]||(e[66]=t("label",{for:"expenseDate",class:"block text-sm font-medium text-gray-700 mb-1"},"Date",-1)),d(t("input",{type:"date",id:"expenseDate","onUpdate:modelValue":e[25]||(e[25]=s=>n(l).expense_date=s),class:"w-full px-2 py-1.5 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"},null,512),[[_,n(l).expense_date]])],512),[[w,!G.value]]),t("div",ps,[t("button",{type:"button",onClick:e[26]||(e[26]=s=>k.value=!1),class:"px-3 py-1.5 border border-gray-300 rounded-md shadow-sm text-sm text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"}," Cancel "),t("button",gs,i(n(l).processing?"Saving...":"Save Expense"),1)])],32)])])):x("",!0),K.value?(r(),a("div",fs,[t("div",vs,[e[75]||(e[75]=t("h3",{class:"text-lg font-bold mb-4"},"Edit Transaction",-1)),t("form",{onSubmit:H(ee,["prevent"])},[t("div",xs,[e[68]||(e[68]=t("label",{for:"transactionType",class:"block text-sm font-medium text-gray-700 mb-1"},"Category",-1)),d(t("select",{"onUpdate:modelValue":e[27]||(e[27]=s=>u.value.category=s),class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:""},[t("option",{value:u.value.category},i(u.value.category),9,ys),(r(!0),a(y,null,h(n(re),s=>(r(),a("option",{key:s.value,value:s.label},i(s.label),9,ws))),128))],512),[[w,u.value.type==="expense"],[A,u.value.category]]),d(t("select",{"onUpdate:modelValue":e[28]||(e[28]=s=>u.value.category=s),class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:""},[t("option",{value:u.value.category},i(u.value.category),9,hs),(r(!0),a(y,null,h(n(ae),s=>(r(),a("option",{key:s.value,value:s.label},i(s.label),9,_s))),128))],512),[[w,u.value.type==="income"],[A,u.value.category]])]),t("div",ks,[e[71]||(e[71]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Is Recurrent?",-1)),t("div",Cs,[t("label",Ss,[d(t("input",{type:"radio",id:"yes",name:"is_recurring",value:!0,"onUpdate:modelValue":e[29]||(e[29]=s=>u.value.is_recurring=s),checked:u.value.is_recurring==!0},null,8,Es),[[U,u.value.is_recurring]]),e[69]||(e[69]=t("span",{class:"ml-1"},"Yes",-1))]),t("label",Is,[d(t("input",{type:"radio",id:"no",name:"is_recurring",value:!1,"onUpdate:modelValue":e[30]||(e[30]=s=>u.value.is_recurring=s),checked:u.value.is_recurring==!1},null,8,Ms),[[U,u.value.is_recurring]]),e[70]||(e[70]=t("span",{class:"ml-1"},"No",-1))])])]),t("div",As,[e[72]||(e[72]=t("label",{for:"incomeAmount",class:"block text-sm font-medium text-gray-700 mb-1"},"Amount (KES)",-1)),d(t("input",{type:"number",id:"incomeAmount",name:"amount","onUpdate:modelValue":e[31]||(e[31]=s=>u.value.amount=s),class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",min:"0",step:"0.01",required:""},null,512),[[_,u.value.amount]])]),t("div",Ds,[e[73]||(e[73]=t("label",{for:"transactionAmount",class:"block text-sm font-medium text-gray-700 mb-1"},"Description",-1)),d(t("input",{type:"text",id:"transactionAmount",name:"description","onUpdate:modelValue":e[32]||(e[32]=s=>u.value.description=s),class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:""},null,512),[[_,u.value.description]])]),t("div",js,[e[74]||(e[74]=t("label",{for:"transactionDate",class:"block text-sm font-medium text-gray-700 mb-1"},"Date",-1)),d(t("input",{type:"date",id:"transactionDate",name:"transaction_date","onUpdate:modelValue":e[33]||(e[33]=s=>u.value.transaction_date=s),class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:""},null,512),[[_,u.value.transaction_date]])]),t("div",Ts,[t("button",{onClick:ee,class:"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded"},i(n(C).processing?"Saving...":"Submit"),1),t("button",{onClick:e[34]||(e[34]=s=>K.value=!1),class:"bg-gray-300 hover:bg-gray-400 text-gray-700 px-4 py-2 rounded"},"Cancel")])],32)])])):x("",!0),$.value?(r(),a("div",Vs,[t("div",Us,[e[76]||(e[76]=t("h3",{class:"text-lg font-bold mb-4"},"Confirm Delete",-1)),e[77]||(e[77]=t("p",{class:"mb-4"},"Are you sure you want to delete this transaction?",-1)),t("div",Os,[t("button",{onClick:te,class:"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded"},i(te.processing?"Deleting...":"Delete"),1),t("button",{onClick:e[35]||(e[35]=s=>$.value=!1),class:"bg-gray-300 hover:bg-gray-400 text-gray-700 px-4 py-2 rounded"},"Cancel")])])])):x("",!0),F.value?(r(),a("div",Bs,[t("div",{class:"fixed inset-0 bg-black bg-opacity-50",onClick:e[36]||(e[36]=s=>F.value=!1)}),t("div",$s,[e[79]||(e[79]=t("h3",{class:"text-base font-semibold text-yellow-500 mb-3"},"Monthly Budget Overview",-1)),t("div",qs,[(r(!0),a(y,null,h(W.value,(s,c)=>(r(),a("div",{key:c,class:"bg-purple-900 border border-purple-700 rounded-lg p-2 hover:bg-purple-800 transition-colors"},[t("div",Ls,[t("h4",Ns,i(c),1),t("span",Ks," KES "+i(s.toLocaleString()),1)])]))),128))]),t("div",Fs,[t("div",Ys,[e[78]||(e[78]=t("h4",{class:"text-sm font-medium text-white"},"TOTAL: ",-1)),t("span",zs," KES "+i(T.value.toLocaleString()),1)])]),t("div",Gs,[t("button",{onClick:e[37]||(e[37]=s=>F.value=!1),class:"px-3 py-1 border border-yellow-500 rounded-md shadow-sm text-xs font-medium text-purple-900 bg-yellow-500 hover:bg-yellow-400 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-900"}," Close ")])])])):x("",!0)]),_:1})])]),_:1})],64))}};export{eo as default};
