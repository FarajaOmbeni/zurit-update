import{C as b,b as y,o as u,d as o,u as e,m as S,w as i,a as s,c as g,f as E,g as v,j as x,h as w,t as d,Q as h,F as A}from"./app-w-_UAMtp.js";import{A as B}from"./AuthenticatedLayout-W1Ns064T.js";import{_ as C}from"./Sidebar-Dmz3rB67.js";import{_ as M}from"./DashboardBackButton-CM6VtQtg.js";import{_ as m,B as U}from"./Button-ByUOibHw.js";import{_ as p}from"./Select-crI2-Ygz.js";import{_ as K}from"./FileInput-BmokN0gQ.js";import{_ as P}from"./Alert-D4o-WWq3.js";import{u as k}from"./useAlert-GzsV-Gs_.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css                                                */import"./EllipsisHorizontalIcon-DhRb-T5V.js";import"./AcademicCapIcon-DmMZDBTE.js";import"./UserIcon-CUHGYpcQ.js";import"./HomeIcon-kj5CF8Wj.js";const F={class:"w-full text-gray-900"},$={class:"bg-white p-6"},R={__name:"ZuriScore",setup(N){const{openAlert:f,clearAlert:_,alertState:n}=k(),t=b({statement_type:"",statement_password:"",statement_file:null,statement_duration:"",email:"",email_confirmation:"",phone:""}),c=r=>{t.statement_file=r};function V(){t.post(route("zuriscore.post"),{onSuccess:()=>{t.reset()},onError:r=>{const a=Object.values(r).flat().join(" ");f("danger",a,1e4)}})}return(r,a)=>(u(),y(A,null,[o(e(S),{title:"Zuriscore"}),o(B,null,{default:i(()=>[s("div",F,[o(C,null,{default:i(()=>[o(M),s("div",$,[a[8]||(a[8]=s("h1",{class:"text-2xl font-semibold text-gray-900"},"Financial Statement Analysis",-1)),e(n)?(u(),g(P,{key:0,type:e(n).type,message:e(n).message,duration:e(n).duration,"auto-close":e(n).autoClose,onClose:e(_)},null,8,["type","message","duration","auto-close","onClose"])):E("",!0),s("form",{onSubmit:v(V,["prevent"]),class:"space-y-4"},[o(p,{modelValue:e(t).statement_type,"onUpdate:modelValue":a[0]||(a[0]=l=>e(t).statement_type=l),label:"Statement type",options:[{label:"M-PESA",value:"MPESA"},{label:"Equity Bank",value:"Equity Bank"}],select_title:"Statement type"},null,8,["modelValue"]),o(K,{label:"Upload Statement",modelValue:e(t).statement_file,"onUpdate:modelValue":a[1]||(a[1]=l=>e(t).statement_file=l),accept:"application/pdf",onFileSelected:c},null,8,["modelValue"]),o(m,{type:"text",placeholder:"Enter statement password",label:"Statement Password (If Needed)",modelValue:e(t).statement_password,"onUpdate:modelValue":a[2]||(a[2]=l=>e(t).statement_password=l)},null,8,["modelValue"]),o(p,{label:"Statement Period",select_title:"Select duration",options:[{label:"1 Month - KES 10",value:10},{label:"3 Month - KES 100",value:100},{label:"6 Month - KES 200",value:200},{label:"1 Year - KES 300",value:300},{label:"2 Years - KES 500",value:500}],modelValue:e(t).statement_duration,"onUpdate:modelValue":a[3]||(a[3]=l=>e(t).statement_duration=l)},null,8,["modelValue"]),o(m,{label:"Email",placeholder:"Email address to recieve report",modelValue:e(t).email,"onUpdate:modelValue":a[4]||(a[4]=l=>e(t).email=l)},null,8,["modelValue"]),o(m,{label:"Confirm Email",placeholder:"Confirm email address",modelValue:e(t).email_confirmation,"onUpdate:modelValue":a[5]||(a[5]=l=>e(t).email_confirmation=l)},null,8,["modelValue"]),o(m,{label:"Pay with",placeholder:"e.g., 0712345678 or +254712345678",modelValue:e(t).phone,"onUpdate:modelValue":a[6]||(a[6]=l=>e(t).phone=l),error:e(t).errors.phone},null,8,["modelValue","error"]),a[7]||(a[7]=s("p",{class:"text-xs text-gray-500 -mt-2"},"Enter a valid Kenyan phone number (e.g., 0712345678)",-1)),o(U,{type:"submit",processing:e(t).processing},{default:i(()=>[w(d(e(t).processing?"Loading...":"Submit"),1)]),_:1},8,["processing"]),x(s("p",{class:"font-bold text-sm text-green-500"},"We are sending you an MPESA STK Push to "+d(e(t).phone)+". Input your pin to continue",513),[[h,e(t).processing]])],32)])]),_:1})])]),_:1})],64))}};export{R as default};
