import{C as V,b as y,o as d,d as o,u as e,m as S,w as i,a as n,c as g,f as E,g as v,I as h,t as p,h as w,F as x}from"./app-B0wWRugT.js";import{A as C}from"./AuthenticatedLayout-DrRL2tim.js";import{_ as k}from"./Sidebar-DU6Kqm40.js";import{_ as r,B as A}from"./Button-ttNUo4Iq.js";import{_ as c}from"./Select-BH7l8g4N.js";import{_ as B}from"./FileInput-G5W4kau0.js";import{u as U,_ as M}from"./useAlert-BM5V3WF0.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const F={class:"w-full text-gray-900"},K={class:"min-h-screen bg-white p-6"},T={__name:"ZuriScore",setup(N){const{openAlert:u,clearAlert:f,alertState:s}=U(),t=V({statement_type:"",statement_password:"",statement_file:null,statement_duration:"",email:"",email_confirmation:"",phone:""}),_=m=>{t.statement_file=m};function b(){t.post(route("zuriscore.post"),{onSuccess:()=>{t.reset(),u("success",`Report sent successfully!
We will get back to you soon!`,5e3)},onError:m=>{const a=Object.values(m).flat().join(" ");u("danger",a,1e4)}})}return(m,a)=>(d(),y(x,null,[o(e(S),{title:"Dashboard"}),o(C,null,{default:i(()=>[n("div",F,[o(k,null,{default:i(()=>[n("div",K,[a[7]||(a[7]=n("h1",{class:"text-2xl font-semibold text-gray-900"},"Financial Statement Analysis",-1)),e(s)?(d(),g(M,{key:0,type:e(s).type,message:e(s).message,duration:e(s).duration,"auto-close":e(s).autoClose,onClose:e(f)},null,8,["type","message","duration","auto-close","onClose"])):E("",!0),n("form",{onSubmit:v(b,["prevent"]),class:"space-y-4"},[o(c,{modelValue:e(t).statement_type,"onUpdate:modelValue":a[0]||(a[0]=l=>e(t).statement_type=l),label:"Statement type",options:[{label:"M-PESA",value:"MPESA"},{label:"Equity Bank",value:"Equity Bank"}],select_title:"Statement type"},null,8,["modelValue"]),o(B,{label:"Upload Statement",modelValue:e(t).statement_file,"onUpdate:modelValue":a[1]||(a[1]=l=>e(t).statement_file=l),accept:"application/pdf",onFileSelected:_},null,8,["modelValue"]),o(r,{type:"text",placeholder:"Enter statement password",label:"Statement Password (If Needed)",modelValue:e(t).statement_password,"onUpdate:modelValue":a[2]||(a[2]=l=>e(t).statement_password=l)},null,8,["modelValue"]),o(c,{label:"Statement Period",select_title:"Select duration",options:[{label:"1 Month - KES 10",value:10},{label:"3 Month - KES 100",value:100},{label:"6 Month - KES 200",value:200},{label:"1 Year - KES 300",value:300},{label:"2 Years - KES 500",value:500}],modelValue:e(t).statement_duration,"onUpdate:modelValue":a[3]||(a[3]=l=>e(t).statement_duration=l)},null,8,["modelValue"]),o(r,{label:"Email",placeholder:"Email address to recieve report",modelValue:e(t).email,"onUpdate:modelValue":a[4]||(a[4]=l=>e(t).email=l)},null,8,["modelValue"]),o(r,{label:"Confirm Email",placeholder:"Confirm email address",modelValue:e(t).email_confirmation,"onUpdate:modelValue":a[5]||(a[5]=l=>e(t).email_confirmation=l)},null,8,["modelValue"]),o(r,{label:"Pay with",placeholder:"Safaricom phone number for payment",modelValue:e(t).phone,"onUpdate:modelValue":a[6]||(a[6]=l=>e(t).phone=l)},null,8,["modelValue"]),n("p",{class:h(["text-md italic text-green-500",e(t).processing?"block":"hidden"])},"We have sent an STK push to "+p(e(t).phone)+". Confirm to conitnue.",3),o(A,{type:"submit",processing:e(t).processing},{default:i(()=>[w(p(e(t).processing?"Loading...":"Submit"),1)]),_:1},8,["processing"])],32)])]),_:1})])]),_:1})],64))}};export{T as default};
