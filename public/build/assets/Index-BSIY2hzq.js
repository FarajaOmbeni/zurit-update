import{r as T,C as G,k as K,p as F,c as m,f as x,o as u,a as e,g as W,t as d,d as Q,j as c,l as C,u as o,F as _,i as V,v as y,h as A,n as h,G as I,K as Y,b as U,m as J,w as P,P as L,e as X,W as B}from"./app-fxmBWGe2.js";import{_ as Z}from"./MSMESidebar-BmKiEpOw.js";import{u as ee}from"./useFormatCurrency-Dh16EV-S.js";import{f as te}from"./useDateFormat-pjOuPPEs.js";import"./CalendarDaysIcon-BzkDGoCQ.js";import"./CalculatorIcon-BGkQPWED.js";import"./DocumentTextIcon--WA-hwoy.js";import"./ChartBarIcon-oOgODwEd.js";import"./HomeIcon-J53tI-Ff.js";const se={key:0,class:"fixed inset-0 z-50 overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true"},oe={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},le={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},re={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},ne={class:"mb-4"},ae={class:"flex items-center justify-between"},ie={class:"text-lg leading-6 font-medium text-gray-900",id:"modal-title"},de={key:0,class:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg"},ue={class:"grid grid-cols-1 gap-4"},me={key:0,class:"mt-1 text-sm text-red-600"},pe={key:0},ce=["value"],ge={key:0,class:"mt-1 text-sm text-red-600"},xe={key:0,class:"mt-1 text-sm text-red-600"},fe=["value"],ye={key:0,class:"mt-1 text-sm text-red-600"},be={key:0,class:"mt-1 text-sm text-red-600"},ve={key:0,class:"mt-1 text-sm text-red-600"},we={key:1,class:"space-y-4 pt-4 border-t border-gray-200"},he={key:0},ke={class:"flex items-center mb-2"},_e={key:0,class:"grid grid-cols-1 md:grid-cols-3 gap-3"},Ce={class:"md:col-span-3"},Me={class:"grid grid-cols-1 md:grid-cols-3 gap-3"},$e={class:"block text-sm font-medium text-gray-700 mb-1"},Ve=["placeholder"],je={class:"flex items-center"},Se={class:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},Ue=["disabled"],Te={key:0,class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24"},Ae={__name:"TransactionModal",props:{show:Boolean,entry:Object,categories:Object,paymentMethods:Object},emits:["close","saved"],setup(n,{emit:w}){const b=n,M=w,v=T(!1),p=T(!1),s=G({type:"",category:"",amount:"",payment_method:"",payment_type:"",description:"",entry_date:new Date().toISOString().split("T")[0],reference_number:"",customer_supplier:"",vat_amount:0,tax_amount:0,is_recurring:!1,is_fixed_asset:!1,fixed_asset_name:"",useful_life_months:null,residual_value:0,loan_action:"",principal_amount:0,interest_amount:0}),O=K(()=>s.type?b.categories[s.type]||{}:{});F(()=>b.entry,i=>{i?(s.clearErrors(),s.type=i.type,s.category=i.category,s.amount=i.amount,s.payment_method=i.payment_method,s.payment_type=i.payment_type||"",s.description=i.description||"",s.entry_date=i.entry_date,s.reference_number=i.reference_number||"",s.customer_supplier=i.customer_supplier||"",s.vat_amount=i.vat_amount||0,s.tax_amount=i.tax_amount||0,s.is_recurring=i.is_recurring||!1,s.is_fixed_asset=i.is_fixed_asset||!1,s.fixed_asset_name=i.fixed_asset_name||"",s.useful_life_months=i.useful_life_months||null,s.residual_value=i.residual_value||0,s.loan_action=i.loan_action||"",s.principal_amount=i.principal_amount||0,s.interest_amount=i.interest_amount||0,v.value=!!(i.reference_number||i.customer_supplier||i.vat_amount||i.tax_amount||i.is_recurring||i.is_fixed_asset||i.loan_action)):(s.reset(),s.entry_date=new Date().toISOString().split("T")[0],v.value=!1)},{immediate:!0}),F(()=>s.type,(i,t)=>{!b.entry&&t&&i!==t&&(s.category="")});const D=()=>{b.entry?s.put(route("cashflow.update",b.entry.id),{onSuccess:()=>M("saved")}):s.post(route("cashflow.store"),{onSuccess:()=>M("saved")})};return(i,t)=>n.show?(u(),m("div",se,[e("div",oe,[e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:t[0]||(t[0]=r=>i.$emit("close"))}),t[49]||(t[49]=e("span",{class:"hidden sm:inline-block sm:align-middle sm:h-screen"},"​",-1)),e("div",le,[e("form",{onSubmit:W(D,["prevent"])},[e("div",re,[e("div",ne,[e("div",ae,[e("h3",ie,d(n.entry?"Edit Transaction":"Add Transaction"),1),e("button",{onClick:t[1]||(t[1]=r=>p.value=!p.value),class:"text-gray-400 hover:text-gray-600 transition-colors",title:"Show help"},t[23]||(t[23]=[e("svg",{class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)]))]),p.value?(u(),m("div",de,t[24]||(t[24]=[Q('<h4 class="text-sm font-medium text-blue-900 mb-2"> Quick Guide: </h4><ul class="text-sm text-blue-700 space-y-1"><li> • <strong>Income:</strong> Money coming into your business (sales, services) </li><li> • <strong>Expense:</strong> Money going out (purchases, bills, salaries) </li><li> • <strong>Payment Type:</strong> How the transaction was paid (Cash/Bank/Credit) </li><li> • <strong>Credit transactions</strong> create Accounts Receivable/Payable automatically </li></ul>',2)]))):x("",!0)]),e("div",ue,[e("div",null,[t[26]||(t[26]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Type",-1)),c(e("select",{"onUpdate:modelValue":t[2]||(t[2]=r=>o(s).type=r),required:"",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-purple-500 focus:ring-purple-500"},t[25]||(t[25]=[e("option",{value:""},"Select Type",-1),e("option",{value:"income"},"Income",-1),e("option",{value:"expense"},"Expense",-1)]),512),[[C,o(s).type]]),o(s).errors.type?(u(),m("p",me,d(o(s).errors.type),1)):x("",!0)]),o(s).type?(u(),m("div",pe,[t[28]||(t[28]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Category",-1)),c(e("select",{"onUpdate:modelValue":t[3]||(t[3]=r=>o(s).category=r),required:"",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-purple-500 focus:ring-purple-500"},[t[27]||(t[27]=e("option",{value:""},"Select Category",-1)),(u(!0),m(_,null,V(O.value,(r,$)=>(u(),m("option",{key:$,value:$},d(r),9,ce))),128))],512),[[C,o(s).category]]),o(s).errors.category?(u(),m("p",ge,d(o(s).errors.category),1)):x("",!0)])):x("",!0),e("div",null,[t[29]||(t[29]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Amount (KES)",-1)),c(e("input",{"onUpdate:modelValue":t[4]||(t[4]=r=>o(s).amount=r),type:"number",step:"0.01",min:"0.01",required:"",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-purple-500 focus:ring-purple-500",placeholder:"0.00"},null,512),[[y,o(s).amount]]),o(s).errors.amount?(u(),m("p",xe,d(o(s).errors.amount),1)):x("",!0)]),e("div",null,[t[31]||(t[31]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Payment Method",-1)),c(e("select",{"onUpdate:modelValue":t[5]||(t[5]=r=>o(s).payment_method=r),required:"",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-purple-500 focus:ring-purple-500"},[t[30]||(t[30]=e("option",{value:""}," Select Payment Method ",-1)),(u(!0),m(_,null,V(n.paymentMethods,(r,$)=>(u(),m("option",{key:$,value:$},d(r),9,fe))),128))],512),[[C,o(s).payment_method]]),o(s).errors.payment_method?(u(),m("p",ye,d(o(s).errors.payment_method),1)):x("",!0)]),e("div",null,[t[33]||(t[33]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Payment Type",-1)),c(e("select",{"onUpdate:modelValue":t[6]||(t[6]=r=>o(s).payment_type=r),class:"w-full rounded-md border-gray-300 shadow-sm focus:border-purple-500 focus:ring-purple-500"},t[32]||(t[32]=[e("option",{value:""}," Auto (based on method) ",-1),e("option",{value:"cash"},"Cash",-1),e("option",{value:"bank"},"Bank",-1),e("option",{value:"credit"},"Credit",-1)]),512),[[C,o(s).payment_type]])]),e("div",null,[t[34]||(t[34]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Description",-1)),c(e("textarea",{"onUpdate:modelValue":t[7]||(t[7]=r=>o(s).description=r),rows:"3",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-purple-500 focus:ring-purple-500",placeholder:"Optional description..."},null,512),[[y,o(s).description]]),o(s).errors.description?(u(),m("p",be,d(o(s).errors.description),1)):x("",!0)]),e("div",null,[t[35]||(t[35]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Date",-1)),c(e("input",{"onUpdate:modelValue":t[8]||(t[8]=r=>o(s).entry_date=r),type:"date",required:"",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-purple-500 focus:ring-purple-500"},null,512),[[y,o(s).entry_date]]),o(s).errors.entry_date?(u(),m("p",ve,d(o(s).errors.entry_date),1)):x("",!0)]),e("div",null,[e("button",{onClick:t[9]||(t[9]=r=>v.value=!v.value),type:"button",class:"flex items-center text-sm text-purple-600 hover:text-purple-800"},[(u(),m("svg",{class:h(["w-4 h-4 mr-1 transition-transform",v.value?"rotate-90":""]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},t[36]||(t[36]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"},null,-1)]),2)),t[37]||(t[37]=A(" Advanced Options "))])]),v.value?(u(),m("div",we,[o(s).type==="expense"?(u(),m("div",he,[e("label",ke,[c(e("input",{"onUpdate:modelValue":t[10]||(t[10]=r=>o(s).is_fixed_asset=r),type:"checkbox",class:"rounded border-gray-300 text-purple-600 shadow-sm focus:border-purple-500 focus:ring-purple-500"},null,512),[[I,o(s).is_fixed_asset]]),t[38]||(t[38]=e("span",{class:"ml-2 text-sm text-gray-700"},"This is a Fixed Asset purchase",-1))]),o(s).is_fixed_asset?(u(),m("div",_e,[e("div",Ce,[t[39]||(t[39]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Asset Name",-1)),c(e("input",{"onUpdate:modelValue":t[11]||(t[11]=r=>o(s).fixed_asset_name=r),type:"text",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-purple-500 focus:ring-purple-500",placeholder:"e.g., Furniture, Equipment"},null,512),[[y,o(s).fixed_asset_name]])]),e("div",null,[t[40]||(t[40]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Useful Life (months)",-1)),c(e("input",{"onUpdate:modelValue":t[12]||(t[12]=r=>o(s).useful_life_months=r),type:"number",min:"1",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-purple-500 focus:ring-purple-500",placeholder:"e.g., 36"},null,512),[[y,o(s).useful_life_months,void 0,{number:!0}]])]),e("div",null,[t[41]||(t[41]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Residual Value",-1)),c(e("input",{"onUpdate:modelValue":t[13]||(t[13]=r=>o(s).residual_value=r),type:"number",step:"0.01",min:"0",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-purple-500 focus:ring-purple-500",placeholder:"0.00"},null,512),[[y,o(s).residual_value,void 0,{number:!0}]])])])):x("",!0)])):x("",!0),e("div",null,[t[42]||(t[42]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Reference Number",-1)),c(e("input",{"onUpdate:modelValue":t[14]||(t[14]=r=>o(s).reference_number=r),type:"text",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-purple-500 focus:ring-purple-500",placeholder:"Invoice #, Receipt #, etc."},null,512),[[y,o(s).reference_number]])]),e("div",null,[t[44]||(t[44]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Loan / Financing",-1)),e("div",Me,[e("div",null,[c(e("select",{"onUpdate:modelValue":t[15]||(t[15]=r=>o(s).loan_action=r),class:"w-full rounded-md border-gray-300 shadow-sm focus:border-purple-500 focus:ring-purple-500"},t[43]||(t[43]=[e("option",{value:""},"None",-1),e("option",{value:"drawdown"}," Loan Drawdown ",-1),e("option",{value:"repayment"}," Loan Repayment ",-1)]),512),[[C,o(s).loan_action]])]),e("div",null,[c(e("input",{"onUpdate:modelValue":t[16]||(t[16]=r=>o(s).principal_amount=r),type:"number",step:"0.01",min:"0",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-purple-500 focus:ring-purple-500",placeholder:"Principal Amount"},null,512),[[y,o(s).principal_amount,void 0,{number:!0}]])]),e("div",null,[c(e("input",{"onUpdate:modelValue":t[17]||(t[17]=r=>o(s).interest_amount=r),type:"number",step:"0.01",min:"0",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-purple-500 focus:ring-purple-500",placeholder:"Interest Amount"},null,512),[[y,o(s).interest_amount,void 0,{number:!0}]])])])]),e("div",null,[e("label",$e,d(o(s).type==="income"?"Customer":"Supplier"),1),c(e("input",{"onUpdate:modelValue":t[18]||(t[18]=r=>o(s).customer_supplier=r),type:"text",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-purple-500 focus:ring-purple-500",placeholder:`${o(s).type==="income"?"Customer":"Supplier"} name`},null,8,Ve),[[y,o(s).customer_supplier]])]),e("div",null,[t[45]||(t[45]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"VAT Amount",-1)),c(e("input",{"onUpdate:modelValue":t[19]||(t[19]=r=>o(s).vat_amount=r),type:"number",step:"0.01",min:"0",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-purple-500 focus:ring-purple-500",placeholder:"0.00"},null,512),[[y,o(s).vat_amount]])]),e("div",null,[t[46]||(t[46]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Other Tax Amount",-1)),c(e("input",{"onUpdate:modelValue":t[20]||(t[20]=r=>o(s).tax_amount=r),type:"number",step:"0.01",min:"0",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-purple-500 focus:ring-purple-500",placeholder:"0.00"},null,512),[[y,o(s).tax_amount]])]),e("div",null,[e("label",je,[c(e("input",{"onUpdate:modelValue":t[21]||(t[21]=r=>o(s).is_recurring=r),type:"checkbox",class:"rounded border-gray-300 text-purple-600 shadow-sm focus:border-purple-500 focus:ring-purple-500"},null,512),[[I,o(s).is_recurring]]),t[47]||(t[47]=e("span",{class:"ml-2 text-sm text-gray-700"},"This is a recurring transaction",-1))])])])):x("",!0)])]),e("div",Se,[e("button",{type:"submit",disabled:o(s).processing,class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-purple-600 text-base font-medium text-white hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50"},[o(s).processing?(u(),m("svg",Te,t[48]||(t[48]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):x("",!0),A(" "+d(o(s).processing?"Saving...":n.entry?"Update":"Add")+" Transaction ",1)],8,Ue),e("button",{onClick:t[22]||(t[22]=r=>i.$emit("close")),type:"button",class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm"}," Cancel ")])],32)])])])):x("",!0)}},Oe={class:"py-6"},De={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},Ee={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg mb-6"},Be={class:"p-6"},Fe={class:"flex flex-col lg:flex-row gap-4 items-start lg:items-center"},Ie={class:"flex flex-col sm:flex-row gap-3 lg:flex-shrink-0"},Pe={class:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6"},Le={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},Ne={class:"p-6"},Re={class:"flex items-center"},ze={class:"text-2xl font-semibold text-gray-900"},He={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},qe={class:"p-6"},Ge={class:"flex items-center"},Ke={class:"text-2xl font-semibold text-gray-900"},We={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},Qe={class:"p-6"},Ye={class:"flex items-center"},Je={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},Xe={class:"p-6"},Ze={class:"flex items-center"},et={class:"text-2xl font-semibold text-gray-900"},tt={class:"text-sm text-gray-600"},st={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg mb-6"},ot={class:"p-6"},lt={class:"grid grid-cols-1 md:grid-cols-5 gap-4"},rt={key:0,label:"Income"},nt=["value"],at={key:1,label:"Expenses"},it=["value"],dt=["value"],ut={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},mt={class:"p-6"},pt={class:"overflow-x-auto"},ct={class:"min-w-full divide-y divide-gray-200"},gt={class:"bg-white divide-y divide-gray-200"},xt={key:0},ft={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},yt={class:"px-6 py-4 whitespace-nowrap"},bt={class:"px-6 py-4 text-sm text-gray-900"},vt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},wt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},ht={class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},kt={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},_t={class:"flex space-x-2"},Ct=["onClick"],Mt=["onClick"],$t={key:0,class:"mt-6"},Vt={class:"flex items-center justify-between"},jt={class:"text-sm text-gray-700"},St={class:"flex space-x-1"},Pt={__name:"Index",props:{entries:Object,summary:Object,categories:Object,paymentMethods:Object,filters:Object},setup(n){const w=n,{formatCurrency:b}=ee(),M=T(!1),v=T(null),p=Y({type:w.filters.type||"all",category:w.filters.category||"",payment_method:w.filters.payment_method||"",start_date:w.filters.start_date||"",end_date:w.filters.end_date||""}),s=()=>{v.value=null,M.value=!0},O=f=>{v.value=f,M.value=!0},D=f=>{confirm("Are you sure you want to delete this transaction?")&&B.delete(route("cashflow.destroy",f.id))},i=()=>{M.value=!1,v.value=null},t=()=>{i(),B.reload()},r=()=>{B.get(route("cashflow.index"),p,{preserveState:!0,preserveScroll:!0})},$=()=>{const f=new Date,l=new Date(f.getFullYear(),f.getMonth(),1);p.type="all",p.category="",p.payment_method="",p.start_date=l.toISOString().split("T")[0],p.end_date=f.toISOString().split("T")[0],r()},N=()=>{const l=[["Date","Type","Description","Category","Payment Method","Amount"],...w.entries.data.map(g=>[g.entry_date,g.type,g.description||"",g.category,g.payment_method,g.amount])].map(g=>g.map(H=>{const E=String(H??""),q='"'+E.replace(/"/g,'""')+'"';return/,|\n|\r|"/.test(E)?q:E}).join(",")).join(`
`),j=new Blob([l],{type:"text/csv;charset=utf-8;"}),S=URL.createObjectURL(j),k=document.createElement("a");k.href=S;const a=new Date;k.download=`cashflow_entries_${a.toISOString().slice(0,10)}.csv`,document.body.appendChild(k),k.click(),document.body.removeChild(k),URL.revokeObjectURL(S)},R=(f,l)=>(w.categories[l]||{})[f]||f,z=f=>w.paymentMethods[f]||f;return(f,l)=>(u(),m(_,null,[U(o(J),{title:"Cashflow Management"}),U(Z,{title:"Cashflow Management"},{default:P(()=>{var j,S,k;return[e("div",Oe,[e("div",De,[e("div",Ee,[e("div",Be,[l[7]||(l[7]=e("div",{class:"mb-6"},[e("h1",{class:"text-3xl font-bold text-gray-900"}," Cashflow Management "),e("p",{class:"text-gray-600 mt-2"}," Track your income and expenses with detailed analytics ")],-1)),e("div",Fe,[l[6]||(l[6]=e("div",{class:"flex-1 p-3 bg-green-50 border border-green-200 rounded-lg"},[e("div",{class:"flex items-start"},[e("div",{class:"flex-shrink-0"},[e("svg",{class:"h-5 w-5 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])]),e("div",{class:"ml-3"},[e("p",{class:"text-sm text-green-800"},[e("strong",null,"Tip:"),A(' Record transactions daily for accurate financial reports. Use "Credit" payment type for sales/purchases on credit - this automatically creates Accounts Receivable/Payable. ')])])])],-1)),e("div",Ie,[e("button",{onClick:s,class:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg transition-colors"}," Add Transaction "),U(o(L),{href:f.route("cashflow.analytics"),class:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors"},{default:P(()=>l[5]||(l[5]=[A(" View Analytics ")])),_:1},8,["href"])])])])]),e("div",Pe,[e("div",Le,[e("div",Ne,[e("div",Re,[l[9]||(l[9]=e("div",{class:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center mr-3"},[e("svg",{class:"w-4 h-4 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 11l5-5m0 0l5 5m-5-5v12"})])],-1)),e("div",null,[l[8]||(l[8]=e("p",{class:"text-sm font-medium text-gray-500"}," Total Income ",-1)),e("p",ze,d(o(b)(n.summary.total_income)),1),e("p",{class:h(["text-sm",n.summary.income_growth>=0?"text-green-600":"text-red-600"])},d(n.summary.income_growth>=0?"+":"")+d((j=n.summary.income_growth)==null?void 0:j.toFixed(1))+"% ",3)])])])]),e("div",He,[e("div",qe,[e("div",Ge,[l[11]||(l[11]=e("div",{class:"w-8 h-8 bg-red-100 rounded-full flex items-center justify-center mr-3"},[e("svg",{class:"w-4 h-4 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 13l-5 5m0 0l-5-5m5 5V6"})])],-1)),e("div",null,[l[10]||(l[10]=e("p",{class:"text-sm font-medium text-gray-500"}," Total Expenses ",-1)),e("p",Ke,d(o(b)(n.summary.total_expenses)),1),e("p",{class:h(["text-sm",n.summary.expense_growth<=0?"text-green-600":"text-red-600"])},d(n.summary.expense_growth>=0?"+":"")+d((S=n.summary.expense_growth)==null?void 0:S.toFixed(1))+"% ",3)])])])]),e("div",We,[e("div",Qe,[e("div",Ye,[e("div",{class:h(["w-8 h-8 rounded-full flex items-center justify-center mr-3",n.summary.net_cashflow>=0?"bg-green-100":"bg-red-100"])},[(u(),m("svg",{class:h(["w-4 h-4",n.summary.net_cashflow>=0?"text-green-600":"text-red-600"]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},l[12]||(l[12]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"},null,-1)]),2))],2),e("div",null,[l[13]||(l[13]=e("p",{class:"text-sm font-medium text-gray-500"}," Net Cashflow ",-1)),e("p",{class:h(["text-2xl font-semibold",n.summary.net_cashflow>=0?"text-green-600":"text-red-600"])},d(o(b)(n.summary.net_cashflow)),3),e("p",{class:h(["text-sm",n.summary.net_growth>=0?"text-green-600":"text-red-600"])},d(n.summary.net_growth>=0?"+":"")+d((k=n.summary.net_growth)==null?void 0:k.toFixed(1))+"% ",3)])])])]),e("div",Je,[e("div",Xe,[e("div",Ze,[l[15]||(l[15]=e("div",{class:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center mr-3"},[e("svg",{class:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})])],-1)),e("div",null,[l[14]||(l[14]=e("p",{class:"text-sm font-medium text-gray-500"}," Transactions ",-1)),e("p",et,d(n.summary.entries_count),1),e("p",tt," Avg: "+d(o(b)(n.summary.average_transaction)),1)])])])])]),e("div",st,[e("div",ot,[e("div",{class:"flex items-center justify-between mb-4"},[l[16]||(l[16]=e("h3",{class:"text-lg font-semibold"},"Filters",-1)),e("button",{onClick:$,class:"text-sm text-gray-600 hover:text-gray-800"}," Clear Filters ")]),e("div",lt,[e("div",null,[l[18]||(l[18]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Type",-1)),c(e("select",{"onUpdate:modelValue":l[0]||(l[0]=a=>p.type=a),onChange:r,class:"w-full rounded-md border-gray-300 shadow-sm focus:border-purple-500 focus:ring-purple-500"},l[17]||(l[17]=[e("option",{value:"all"},"All",-1),e("option",{value:"income"},"Income",-1),e("option",{value:"expense"},"Expense",-1)]),544),[[C,p.type]])]),e("div",null,[l[20]||(l[20]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Category",-1)),c(e("select",{"onUpdate:modelValue":l[1]||(l[1]=a=>p.category=a),onChange:r,class:"w-full rounded-md border-gray-300 shadow-sm focus:border-purple-500 focus:ring-purple-500"},[l[19]||(l[19]=e("option",{value:""},"All Categories",-1)),p.type==="income"||p.type==="all"?(u(),m("optgroup",rt,[(u(!0),m(_,null,V(n.categories.income,(a,g)=>(u(),m("option",{key:g,value:g},d(a),9,nt))),128))])):x("",!0),p.type==="expense"||p.type==="all"?(u(),m("optgroup",at,[(u(!0),m(_,null,V(n.categories.expense,(a,g)=>(u(),m("option",{key:g,value:g},d(a),9,it))),128))])):x("",!0)],544),[[C,p.category]])]),e("div",null,[l[22]||(l[22]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Payment Method",-1)),c(e("select",{"onUpdate:modelValue":l[2]||(l[2]=a=>p.payment_method=a),onChange:r,class:"w-full rounded-md border-gray-300 shadow-sm focus:border-purple-500 focus:ring-purple-500"},[l[21]||(l[21]=e("option",{value:""},"All Methods",-1)),(u(!0),m(_,null,V(n.paymentMethods,(a,g)=>(u(),m("option",{key:g,value:g},d(a),9,dt))),128))],544),[[C,p.payment_method]])]),e("div",null,[l[23]||(l[23]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Start Date",-1)),c(e("input",{"onUpdate:modelValue":l[3]||(l[3]=a=>p.start_date=a),onChange:r,type:"date",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-purple-500 focus:ring-purple-500"},null,544),[[y,p.start_date]])]),e("div",null,[l[24]||(l[24]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"End Date",-1)),c(e("input",{"onUpdate:modelValue":l[4]||(l[4]=a=>p.end_date=a),onChange:r,type:"date",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-purple-500 focus:ring-purple-500"},null,544),[[y,p.end_date]])])])])]),e("div",ut,[e("div",mt,[e("div",{class:"flex justify-between items-center mb-4"},[l[25]||(l[25]=e("h3",{class:"text-lg font-semibold"},"Transactions",-1)),e("button",{onClick:N,class:"text-blue-600 hover:text-blue-800 text-sm"}," Export Current Page (CSV) ")]),e("div",pt,[e("table",ct,[l[27]||(l[27]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Date "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Type "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Description "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Category "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Payment Method "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Amount "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Actions ")])],-1)),e("tbody",gt,[n.entries.data.length===0?(u(),m("tr",xt,l[26]||(l[26]=[e("td",{colspan:"7",class:"px-6 py-12 text-center text-gray-500"},[e("svg",{class:"w-12 h-12 mx-auto mb-3 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012-2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})]),e("p",null,"No transactions found"),e("p",{class:"text-sm"}," Add your first transaction to get started ")],-1)]))):x("",!0),(u(!0),m(_,null,V(n.entries.data,a=>(u(),m("tr",{key:a.id,class:"hover:bg-gray-50"},[e("td",ft,d(o(te)(a.entry_date)),1),e("td",yt,[e("span",{class:h(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",a.type==="income"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"])},d(a.type==="income"?"Income":"Expense"),3)]),e("td",bt,d(a.description||"No description"),1),e("td",vt,d(R(a.category,a.type)),1),e("td",wt,d(z(a.payment_method)),1),e("td",ht,[e("span",{class:h([a.type==="income"?"text-green-600":"text-red-600"])},d(a.type==="income"?"+":"-")+d(o(b)(a.amount)),3)]),e("td",kt,[e("div",_t,[e("button",{onClick:g=>O(a),class:"text-blue-600 hover:text-blue-900"}," Edit ",8,Ct),e("button",{onClick:g=>D(a),class:"text-red-600 hover:text-red-900"}," Delete ",8,Mt)])])]))),128))])])]),n.entries.last_page>1?(u(),m("div",$t,[e("div",Vt,[e("div",jt," Showing "+d(n.entries.from)+" to "+d(n.entries.to)+" of "+d(n.entries.total)+" results ",1),e("div",St,[(u(!0),m(_,null,V(n.entries.links,a=>(u(),X(o(L),{key:a.label,href:a.url,innerHTML:a.label,class:h(["px-3 py-2 text-sm border rounded",a.active?"bg-purple-600 text-white border-purple-600":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"])},null,8,["href","innerHTML","class"]))),128))])])])):x("",!0)])])])]),U(Ae,{show:M.value,entry:v.value,categories:n.categories,"payment-methods":n.paymentMethods,onClose:i,onSaved:t},null,8,["show","entry","categories","payment-methods"])]}),_:1})],64))}};export{Pt as default};
