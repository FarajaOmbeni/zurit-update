import{r as be,C as ve,b as i,o as n,d as ce,u as r,m as he,w as we,a as e,f as a,g as Re,j as m,l as _e,t as o,v as fe,h as Se,F as u,W as Le}from"./app-n07EDfkG.js";import{_ as $e}from"./MSMESidebar-5WSi4Kv6.js";import"./CalendarDaysIcon-DmnUQvsG.js";import"./CalculatorIcon-Dvm3kwl0.js";import"./DocumentTextIcon-CmoJD4aZ.js";import"./ChartBarIcon-CV9tjnQZ.js";import"./HomeIcon-lGlJr_Hn.js";const ke={class:"py-6"},Ce={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},Me={key:0,class:"bg-white overflow-hidden shadow-sm sm:rounded-lg mb-6"},je={class:"p-6"},Fe={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Ge={key:0,class:"mt-1 text-sm text-red-600"},Te={key:0,class:"mt-1 text-sm text-red-600"},De={key:0,class:"mt-1 text-sm text-red-600"},Oe={class:"flex justify-end space-x-3 pt-4"},Ve=["disabled"],Be={key:0,class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24"},Ee={key:1,class:"bg-white overflow-hidden shadow-sm sm:rounded-lg mb-6"},Ne={class:"p-6"},qe={class:"text-lg font-semibold text-gray-900 mb-2"},Pe={class:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4"},Ie={class:"text-2xl font-semibold"},ze={class:"text-2xl font-semibold"},He={class:"text-2xl font-semibold"},Ue={class:"text-2xl font-semibold"},Ae={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},We={class:"space-y-2"},Ye={class:"flex justify-between text-sm"},Je={class:"flex justify-between text-sm"},Ke={class:"flex justify-between text-sm font-medium border-t pt-2"},Qe={class:"space-y-2"},Xe={class:"flex justify-between text-sm"},Ze={class:"flex justify-between text-sm"},et={class:"flex justify-between text-sm"},tt={class:"flex justify-between text-sm"},st={class:"flex justify-between text-sm font-medium border-t pt-2"},ot={class:"text-lg font-semibold text-gray-900 mb-2"},lt={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},rt={class:"text-2xl font-semibold"},it={class:"text-2xl font-semibold"},nt={class:"text-2xl font-semibold"},at={class:"text-lg font-semibold text-gray-900 mb-2"},dt={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},pt={class:"text-2xl font-semibold"},ut={class:"text-2xl font-semibold"},gt={class:"text-2xl font-semibold"},mt={class:"mt-4 flex space-x-3"},ct=["href"],_t={__name:"Reports",setup(ft){const g=be(!1),l=ve({type:"",format:"excel",start_date:"",end_date:""}),xe=()=>{g.value=!0;const s=new Date,t=new Date(s.getFullYear(),s.getMonth(),1),p=new Date(s.getFullYear(),s.getMonth()+1,0);l.start_date=t.toISOString().split("T")[0],l.end_date=p.toISOString().split("T")[0]},c=()=>{g.value=!1,l.reset()},ye=()=>{const s={type:l.type,start_date:l.start_date,end_date:l.end_date};l.type!=="profit_loss"&&l.format&&(s.format=l.format),Le.post(route("msme.generate-report"),s,{preserveState:!1,onSuccess:()=>{c(),console.log("Report generated successfully")},onError:t=>{console.error("Report generation failed:",t)}})};return(s,t)=>(n(),i(u,null,[ce(r(he),{title:"Financial Reports"}),ce($e,{title:"Financial Reports"},{default:we(()=>{var p,f,x,y,b,v,h,w,R,_,S,L,$,k,C,M,j,F,G,T,D,O,V,B,E,N,q,P,I,z,H,U,A,W,Y,J,K,Q,X,Z,ee,te,se,oe,le,re,ie,ne,ae,de,pe,ue,ge,me;return[e("div",ke,[e("div",Ce,[e("div",{class:"bg-white overflow-hidden shadow-sm sm:rounded-lg mb-6"},[e("div",{class:"p-6"},[e("div",{class:"flex flex-col md:flex-row justify-between items-start md:items-center"},[t[3]||(t[3]=e("div",null,[e("h1",{class:"text-3xl font-bold text-gray-900"}," Financial Reports "),e("p",{class:"text-gray-600 mt-2"}," Generate and download your business financial reports ")],-1)),e("div",{class:"mt-4 md:mt-0"},[e("button",{onClick:xe,class:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg transition-colors"}," Generate New Report ")])])])]),t[30]||(t[30]=e("div",{class:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6"},[e("div",{class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},[e("div",{class:"p-6"},[e("div",{class:"flex items-center mb-4"},[e("div",{class:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center mr-3"},[e("svg",{class:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"})])]),e("h3",{class:"text-lg font-semibold text-gray-900"}," Profit & Loss ")]),e("p",{class:"text-sm text-gray-600 mb-3"}," Shows your business revenue, expenses, and profit for a specific period. "),e("ul",{class:"text-xs text-gray-500 space-y-1"},[e("li",null,"• Revenue from sales"),e("li",null,"• Cost of goods sold"),e("li",null,"• Operating expenses"),e("li",null,"• Net profit/loss")])])]),e("div",{class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},[e("div",{class:"p-6"},[e("div",{class:"flex items-center mb-4"},[e("div",{class:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center mr-3"},[e("svg",{class:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])]),e("h3",{class:"text-lg font-semibold text-gray-900"}," Balance Sheet ")]),e("p",{class:"text-sm text-gray-600 mb-3"}," Shows your business assets, liabilities, and equity at a specific point in time. "),e("ul",{class:"text-xs text-gray-500 space-y-1"},[e("li",null,"• Current assets (cash, inventory)"),e("li",null,"• Fixed assets (equipment, property)"),e("li",null,"• Liabilities (loans, payables)"),e("li",null,"• Owner's equity")])])]),e("div",{class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},[e("div",{class:"p-6"},[e("div",{class:"flex items-center mb-4"},[e("div",{class:"w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center mr-3"},[e("svg",{class:"w-5 h-5 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})])]),e("h3",{class:"text-lg font-semibold text-gray-900"}," Cash Flow ")]),e("p",{class:"text-sm text-gray-600 mb-3"}," Shows how cash moves in and out of your business over a period. "),e("ul",{class:"text-xs text-gray-500 space-y-1"},[e("li",null,"• Operating activities"),e("li",null,"• Investing activities"),e("li",null,"• Financing activities"),e("li",null,"• Net cash change")])])])],-1)),g.value?(n(),i("div",Me,[e("div",je,[t[9]||(t[9]=e("h3",{class:"text-lg font-semibold text-gray-900 mb-4"}," Generate Report ",-1)),e("form",{onSubmit:Re(ye,["prevent"]),class:"space-y-4"},[e("div",Fe,[e("div",null,[t[5]||(t[5]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Report Type *",-1)),m(e("select",{"onUpdate:modelValue":t[0]||(t[0]=d=>r(l).type=d),required:"",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-purple-500 focus:ring-purple-500"},t[4]||(t[4]=[e("option",{value:""}," Select Report Type ",-1),e("option",{value:"profit_loss"}," Profit & Loss Statement ",-1),e("option",{value:"balance_sheet"}," Balance Sheet ",-1),e("option",{value:"cashflow"}," Cash Flow Statement ",-1)]),512),[[_e,r(l).type]]),r(l).errors.type?(n(),i("p",Ge,o(r(l).errors.type),1)):a("",!0)]),e("div",null,[t[6]||(t[6]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Start Date *",-1)),m(e("input",{"onUpdate:modelValue":t[1]||(t[1]=d=>r(l).start_date=d),type:"date",required:"",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-purple-500 focus:ring-purple-500"},null,512),[[fe,r(l).start_date]]),r(l).errors.start_date?(n(),i("p",Te,o(r(l).errors.start_date),1)):a("",!0)]),e("div",null,[t[7]||(t[7]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"End Date *",-1)),m(e("input",{"onUpdate:modelValue":t[2]||(t[2]=d=>r(l).end_date=d),type:"date",required:"",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-purple-500 focus:ring-purple-500"},null,512),[[fe,r(l).end_date]]),r(l).errors.end_date?(n(),i("p",De,o(r(l).errors.end_date),1)):a("",!0)])]),e("div",Oe,[e("button",{onClick:c,type:"button",class:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500"}," Cancel "),e("button",{type:"submit",disabled:r(l).processing,class:"px-4 py-2 bg-purple-600 border border-transparent rounded-md text-sm font-medium text-white hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 disabled:opacity-50"},[r(l).processing?(n(),i("svg",Be,t[8]||(t[8]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):a("",!0),Se(" "+o(r(l).processing?"Generating...":"Generate Report"),1)],8,Ve)])],32)])])):a("",!0),s.$page.props.inlineResult?(n(),i("div",Ee,[e("div",Ne,[s.$page.props.inlineResult.type==="profit_loss"?(n(),i(u,{key:0},[e("h3",qe," Profit & Loss ("+o(s.$page.props.inlineResult.period.start_date)+" to "+o(s.$page.props.inlineResult.period.end_date)+") ",1),e("div",Pe,[e("div",null,[t[10]||(t[10]=e("p",{class:"text-sm text-gray-600"},"Revenue",-1)),e("p",Ie,o((x=(f=((p=s.$page.props.inlineResult.profitLossRecord)==null?void 0:p.revenue)??0).toLocaleString)==null?void 0:x.call(f)),1)]),e("div",null,[t[11]||(t[11]=e("p",{class:"text-sm text-gray-600"},"COGS",-1)),e("p",ze,o((v=(b=((y=s.$page.props.inlineResult.profitLossRecord)==null?void 0:y.cost_of_goods_sold)??0).toLocaleString)==null?void 0:v.call(b)),1)]),e("div",null,[t[12]||(t[12]=e("p",{class:"text-sm text-gray-600"}," Gross Profit ",-1)),e("p",He,o((R=(w=((h=s.$page.props.inlineResult.profitLossRecord)==null?void 0:h.gross_profit)??0).toLocaleString)==null?void 0:R.call(w)),1)]),e("div",null,[t[13]||(t[13]=e("p",{class:"text-sm text-gray-600"}," Net Profit ",-1)),e("p",Ue,o((L=(S=((_=s.$page.props.inlineResult.profitLossRecord)==null?void 0:_.net_profit)??0).toLocaleString)==null?void 0:L.call(S)),1)])]),e("div",Ae,[e("div",We,[t[17]||(t[17]=e("h4",{class:"font-semibold text-gray-900"}," Income & COGS ",-1)),e("div",Ye,[t[14]||(t[14]=e("span",{class:"text-gray-600"},"Revenue",-1)),e("span",null,o((C=(k=(($=s.$page.props.inlineResult.profitLossRecord)==null?void 0:$.revenue)??0).toLocaleString)==null?void 0:C.call(k)),1)]),e("div",Je,[t[15]||(t[15]=e("span",{class:"text-gray-600"},"COGS",-1)),e("span",null,o((F=(j=((M=s.$page.props.inlineResult.profitLossRecord)==null?void 0:M.cost_of_goods_sold)??0).toLocaleString)==null?void 0:F.call(j)),1)]),e("div",Ke,[t[16]||(t[16]=e("span",null,"Gross Profit",-1)),e("span",null,o((D=(T=((G=s.$page.props.inlineResult.profitLossRecord)==null?void 0:G.gross_profit)??0).toLocaleString)==null?void 0:D.call(T)),1)])]),e("div",Qe,[t[23]||(t[23]=e("h4",{class:"font-semibold text-gray-900"}," Operating & Other Expenses ",-1)),e("div",Xe,[t[18]||(t[18]=e("span",{class:"text-gray-600"},"Operating Expenses",-1)),e("span",null,o((B=(V=((O=s.$page.props.inlineResult.profitLossRecord)==null?void 0:O.operating_expenses)??0).toLocaleString)==null?void 0:B.call(V)),1)]),e("div",Ze,[t[19]||(t[19]=e("span",{class:"text-gray-600"},"Depreciation",-1)),e("span",null,o((q=(N=((E=s.$page.props.inlineResult.profitLossRecord)==null?void 0:E.depreciation)??0).toLocaleString)==null?void 0:q.call(N)),1)]),e("div",et,[t[20]||(t[20]=e("span",{class:"text-gray-600"},"Interest Expense",-1)),e("span",null,o((z=(I=((P=s.$page.props.inlineResult.profitLossRecord)==null?void 0:P.interest_expense)??0).toLocaleString)==null?void 0:z.call(I)),1)]),e("div",tt,[t[21]||(t[21]=e("span",{class:"text-gray-600"},"Tax Expense",-1)),e("span",null,o((A=(U=((H=s.$page.props.inlineResult.profitLossRecord)==null?void 0:H.tax_expense)??0).toLocaleString)==null?void 0:A.call(U)),1)]),e("div",st,[t[22]||(t[22]=e("span",null,"Net Profit",-1)),e("span",null,o((J=(Y=((W=s.$page.props.inlineResult.profitLossRecord)==null?void 0:W.net_profit)??0).toLocaleString)==null?void 0:J.call(Y)),1)])])])],64)):s.$page.props.inlineResult.type==="balance_sheet"?(n(),i(u,{key:1},[e("h3",ot," Balance Sheet (as of "+o(s.$page.props.inlineResult.period.as_of_date)+") ",1),e("div",lt,[e("div",null,[t[24]||(t[24]=e("p",{class:"text-sm text-gray-600"}," Total Assets ",-1)),e("p",rt,o((X=(Q=((K=s.$page.props.inlineResult.balanceSheetRecord)==null?void 0:K.total_assets)??0).toLocaleString)==null?void 0:X.call(Q)),1)]),e("div",null,[t[25]||(t[25]=e("p",{class:"text-sm text-gray-600"}," Total Liabilities ",-1)),e("p",it,o((te=(ee=((Z=s.$page.props.inlineResult.balanceSheetRecord)==null?void 0:Z.total_liabilities)??0).toLocaleString)==null?void 0:te.call(ee)),1)]),e("div",null,[t[26]||(t[26]=e("p",{class:"text-sm text-gray-600"}," Total Equity ",-1)),e("p",nt,o((le=(oe=((se=s.$page.props.inlineResult.balanceSheetRecord)==null?void 0:se.total_equity)??0).toLocaleString)==null?void 0:le.call(oe)),1)])])],64)):s.$page.props.inlineResult.type==="cashflow"?(n(),i(u,{key:2},[e("h3",at," Cash Flow ("+o(s.$page.props.inlineResult.period.start_date)+" to "+o(s.$page.props.inlineResult.period.end_date)+") ",1),e("div",dt,[e("div",null,[t[27]||(t[27]=e("p",{class:"text-sm text-gray-600"}," Total Income ",-1)),e("p",pt,o((ne=(ie=((re=s.$page.props.inlineResult.cashflowSummary)==null?void 0:re.total_income)??0).toLocaleString)==null?void 0:ne.call(ie)),1)]),e("div",null,[t[28]||(t[28]=e("p",{class:"text-sm text-gray-600"}," Total Expenses ",-1)),e("p",ut,o((pe=(de=((ae=s.$page.props.inlineResult.cashflowSummary)==null?void 0:ae.total_expenses)??0).toLocaleString)==null?void 0:pe.call(de)),1)]),e("div",null,[t[29]||(t[29]=e("p",{class:"text-sm text-gray-600"},"Net",-1)),e("p",gt,o((me=(ge=((ue=s.$page.props.inlineResult.cashflowSummary)==null?void 0:ue.net)??0).toLocaleString)==null?void 0:me.call(ge)),1)])])],64)):a("",!0),e("div",mt,[s.$page.props.inlineResult.type==="profit_loss"?(n(),i("a",{key:0,href:`/msme/download-profit-loss?start_date=${s.$page.props.inlineResult.period.start_date}&end_date=${s.$page.props.inlineResult.period.end_date}`,class:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg"}," Download Excel ",8,ct)):a("",!0)])])])):a("",!0)])])]}),_:1})],64))}};export{_t as default};
