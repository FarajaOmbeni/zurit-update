import{C as M,c as v,o as i,w as V,a as e,f as u,u as o,g as j,j as m,b as n,F as h,i as x,t as c,k as A,v as f,h as w,p as B}from"./app-WUUVXhS_.js";import{_ as U}from"./AdminSidebar-BwWbm1JD.js";import{_ as S}from"./Alert-CSgwcQ7p.js";import{u as E}from"./useAlert-DeuVEsNt.js";import"./EllipsisHorizontalIcon-DvxN-WDQ.js";import"./UserIcon-EmQ79IM2.js";import"./CalendarDaysIcon-lOnKUorS.js";const N={class:"px-4 sm:px-6 lg:px-8"},T={class:"sm:flex sm:items-center"},D={class:"mt-4 sm:mt-0 sm:ml-16 sm:flex-none"},H={class:"bg-white shadow rounded-lg p-6"},L={class:"grid grid-cols-1 gap-6"},F=["value"],O={key:0,class:"mt-1 text-sm text-red-600"},R={key:0,class:"mt-1 text-sm text-red-600"},G={key:0,class:"mt-1 text-sm text-red-600"},J={class:"bg-white shadow rounded-lg p-6"},K={key:0,class:"text-center py-8"},P={key:1,class:"space-y-6"},W={class:"flex items-center justify-between mb-4"},X={class:"text-md font-medium text-gray-900"},Y=["onClick"],Z={class:"mb-4"},I=["for"],ee=["id","onUpdate:modelValue"],te={key:0,class:"mt-1 text-sm text-red-600"},se={class:"mb-4"},oe={class:"flex items-center justify-between mb-2"},re=["onClick"],ie={class:"space-y-2"},ne=["name","value","onUpdate:modelValue"],le=["onUpdate:modelValue"],de=["onClick"],ue={key:0,class:"mt-1 text-sm text-red-600"},ce={key:1,class:"mt-1 text-sm text-red-600"},ae={class:"flex justify-end space-x-3"},me=["disabled"],ge={key:0,class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},we={__name:"Create",props:{subCourses:Array},setup(_){const{alertState:g,openAlert:y,clearAlert:k}=E(),s=M({subcourse_id:"",title:"",description:"",questions:[]}),C=()=>{s.questions.push({question:"",choices:[{choice:""},{choice:""}],correct_choice:0})},z=d=>{s.questions.splice(d,1)},Q=d=>{s.questions[d].choices.push({choice:""})},q=(d,t)=>{s.questions[d].choices.splice(t,1);const r=s.questions[d];r.correct_choice>=r.choices.length?r.correct_choice=r.choices.length-1:r.correct_choice>=t&&(r.correct_choice=Math.max(0,r.correct_choice-1))},$=()=>{s.post(route("admin.quizzes.store"),{preserveScroll:!0,onSuccess:()=>{y("success","Quiz created successfully",5e3),s.reset()},onError:d=>{const t=Object.values(d).flat().join(" ");console.log(t),y("danger",t,5e3)}})};return(d,t)=>(i(),v(U,{title:"Create Quiz"},{default:V(()=>[e("div",N,[o(g)?(i(),v(S,{key:0,type:o(g).type,message:o(g).message,duration:o(g).duration,"auto-close":o(g).autoClose,onClose:o(k)},null,8,["type","message","duration","auto-close","onClose"])):u("",!0),e("div",T,[t[5]||(t[5]=e("div",{class:"sm:flex-auto"},[e("h1",{class:"text-xl font-semibold text-gray-900"},"Create Quiz"),e("p",{class:"mt-2 text-sm text-gray-700"},"Add a new quiz for a sub-course")],-1)),e("div",D,[e("button",{type:"button",onClick:t[0]||(t[0]=r=>d.$inertia.visit(d.route("admin.quizzes.index"))),class:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"}," Back to Quizzes ")])]),e("form",{onSubmit:j($,["prevent"]),class:"mt-8 space-y-8"},[e("div",H,[t[10]||(t[10]=e("h3",{class:"text-lg font-medium text-gray-900 mb-6"},"Quiz Information",-1)),e("div",L,[e("div",null,[t[7]||(t[7]=e("label",{for:"subcourse_id",class:"block text-sm font-medium text-gray-700 mb-2"}," Select Sub-Course * ",-1)),m(e("select",{id:"subcourse_id","onUpdate:modelValue":t[1]||(t[1]=r=>o(s).subcourse_id=r),class:"w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500",required:""},[t[6]||(t[6]=e("option",{value:""},"Choose a sub-course",-1)),(i(!0),n(h,null,x(_.subCourses,r=>(i(),n("option",{key:r.id,value:r.id},c(r.full_title),9,F))),128))],512),[[A,o(s).subcourse_id]]),o(s).errors.subcourse_id?(i(),n("p",O,c(o(s).errors.subcourse_id),1)):u("",!0)]),e("div",null,[t[8]||(t[8]=e("label",{for:"title",class:"block text-sm font-medium text-gray-700 mb-2"}," Quiz Title * ",-1)),m(e("input",{type:"text",id:"title","onUpdate:modelValue":t[2]||(t[2]=r=>o(s).title=r),class:"w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Enter quiz title",required:""},null,512),[[f,o(s).title]]),o(s).errors.title?(i(),n("p",R,c(o(s).errors.title),1)):u("",!0)]),e("div",null,[t[9]||(t[9]=e("label",{for:"description",class:"block text-sm font-medium text-gray-700 mb-2"}," Quiz Description ",-1)),m(e("textarea",{id:"description","onUpdate:modelValue":t[3]||(t[3]=r=>o(s).description=r),rows:"3",class:"w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Enter quiz description (optional)"},null,512),[[f,o(s).description]]),o(s).errors.description?(i(),n("p",G,c(o(s).errors.description),1)):u("",!0)])])]),e("div",J,[e("div",{class:"flex items-center justify-between mb-6"},[t[12]||(t[12]=e("h3",{class:"text-lg font-medium text-gray-900"},"Quiz Questions",-1)),e("button",{type:"button",onClick:C,class:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"},t[11]||(t[11]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),w(" Add Question ")]))]),o(s).questions.length===0?(i(),n("div",K,t[13]||(t[13]=[e("div",{class:"text-gray-400"},[e("svg",{class:"mx-auto h-12 w-12 text-gray-300 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]),e("h3",{class:"text-lg font-medium text-gray-900 mb-2"},"No questions added yet"),e("p",{class:"text-sm text-gray-500"},'Click "Add Question" to start building your quiz.')],-1)]))):(i(),n("div",P,[(i(!0),n(h,null,x(o(s).questions,(r,l)=>(i(),n("div",{key:l,class:"border border-gray-200 rounded-lg p-6 bg-gray-50"},[e("div",W,[e("h4",X," Question "+c(l+1),1),e("button",{type:"button",onClick:a=>z(l),class:"text-red-600 hover:text-red-800"},t[14]||(t[14]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)]),8,Y)]),e("div",Z,[e("label",{for:"question-"+l,class:"block text-sm font-medium text-gray-700 mb-2"}," Question Text * ",8,I),m(e("textarea",{id:"question-"+l,"onUpdate:modelValue":a=>r.question=a,rows:"3",class:"w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Enter your question",required:""},null,8,ee),[[f,r.question]]),o(s).errors[`questions.${l}.question`]?(i(),n("p",te,c(o(s).errors[`questions.${l}.question`]),1)):u("",!0)]),e("div",se,[e("div",oe,[t[15]||(t[15]=e("label",{class:"block text-sm font-medium text-gray-700"}," Answer Choices * ",-1)),e("button",{type:"button",onClick:a=>Q(l),class:"text-sm text-indigo-600 hover:text-indigo-800"}," + Add Choice ",8,re)]),e("div",ie,[(i(!0),n(h,null,x(r.choices,(a,b)=>(i(),n("div",{key:b,class:"flex items-center space-x-3"},[m(e("input",{type:"radio",name:"correct-"+l,value:b,"onUpdate:modelValue":p=>r.correct_choice=p,class:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300"},null,8,ne),[[B,r.correct_choice]]),m(e("input",{type:"text","onUpdate:modelValue":p=>a.choice=p,class:"flex-1 border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Enter choice text",required:""},null,8,le),[[f,a.choice]]),r.choices.length>2?(i(),n("button",{key:0,type:"button",onClick:p=>q(l,b),class:"text-red-600 hover:text-red-800"},t[16]||(t[16]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]),8,de)):u("",!0)]))),128))]),o(s).errors[`questions.${l}.choices`]?(i(),n("p",ue,c(o(s).errors[`questions.${l}.choices`]),1)):u("",!0),o(s).errors[`questions.${l}.correct_choice`]?(i(),n("p",ce,c(o(s).errors[`questions.${l}.correct_choice`]),1)):u("",!0)])]))),128))]))]),e("div",ae,[e("button",{type:"button",onClick:t[4]||(t[4]=r=>d.$inertia.visit(d.route("admin.quizzes.index"))),class:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"}," Cancel "),e("button",{type:"submit",disabled:o(s).processing,class:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50"},[o(s).processing?(i(),n("svg",ge,t[17]||(t[17]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):u("",!0),w(" "+c(o(s).processing?"Creating Quiz...":"Create Quiz"),1)],8,me)])],32)])]),_:1}))}};export{we as default};
