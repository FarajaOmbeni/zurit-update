<<<<<<<< HEAD:public/build/assets/BudgetPlanner-W073rIW7.js
import{r as v,C as W,p as x,l as Ce,z as Ee,b as i,o as r,d as $,u as n,m as Ie,w as ie,a as t,f as p,j as d,c as ae,t as a,h as De,Q as y,n as j,F as g,i as w,g as X,k as M,v as h,q as B}from"./app-C2E92Tfv.js";import{A as Ae}from"./AuthenticatedLayout-BLBhL3Q6.js";import{_ as je}from"./Sidebar-BrIe05Y5.js";import{_ as Me}from"./DashboardBackButton-BZDZjyHK.js";import{_ as ue}from"./BudgetBarChart-9-Foh7BC.js";import{_ as de}from"./Alert-CcwPlhCj.js";import{u as Te}from"./useAlert-0BpybJyC.js";import{f as Ve}from"./useDateFormat-pjOuPPEs.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css                                                */import"./EllipsisHorizontalIcon-CriI96vU.js";import"./AcademicCapIcon-COOHJOki.js";import"./UserIcon-CxBzmlmm.js";import"./ChartBarIcon-DunHlQZD.js";import"./HomeIcon-jrzoGK_V.js";import"./useFormatCurrency-Dh16EV-S.js";const ce=[{value:"rent",label:"Rent"},{value:"utilities",label:"Utilities"},{value:"groceries",label:"Groceries"},{value:"eatout",label:"Eating out"},{value:"transportation",label:"Transportation"},{value:"fuel",label:"Fuel"},{value:"insurance",label:"Insurance"},{value:"investment",label:"Investment Contribution"},{value:"debt",label:"Debt Payment"},{value:"goal",label:"Goal Contribution"},{value:"other",label:"Other"}],me=[{value:"salary",label:"Salary"},{value:"freelance",label:"Freelance"},{value:"business_income",label:"Business Income"},{value:"rental_income",label:"Rental Income"},{value:"investments",label:"Investments"},{value:"side_hustle",label:"Side Hustle"},{value:"bonus",label:"Bonus"},{value:"other",label:"Other"}],Oe={class:"w-full text-gray-900"},Ue={class:"py-6"},$e={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},Be={class:"flex justify-between"},Le={class:"flex items-center justify-between mb-4 gap-2"},Ne={class:"text-2xl font-semibold text-gray-900"},qe={key:0,class:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800 mt-1"},Ke={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},Fe={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},Ye={class:"px-6 flex items-center"},ze={key:2,class:"mt-6 grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4"},Pe={class:"mt-1 text-3xl font-semibold text-green-600"},Re={class:"mt-1 text-3xl font-semibold text-red-500"},Ge={class:"bg-white overflow-hidden shadow rounded-lg"},Je={class:"px-4 py-5 sm:p-6 flex flex-col space-y-2"},He={key:3,class:"mt-6 text-center"},Qe={class:"mt-4 flex justify-center space-x-2"},We={class:"my-4 w-full flex justify-center"},Xe=["href"],Ze={key:4,class:"mt-8 grid grid-cols-1 gap-8 lg:grid-cols-2"},et={class:"mt-12"},tt={class:"text-xl font-bold text-gray-900 text-center"},ot={class:"mt-4 bg-white shadow rounded-lg"},st={class:"divide-y divide-gray-200"},nt={class:"flex items-center justify-between"},lt={class:"text-sm font-medium text-gray-900"},rt={class:"flex flex-col gap-2 md:flex-row md:gap-0 text-sm items-center space-x-2"},it={class:"text-green-600 font-medium"},at=["onClick"],ut=["onClick"],dt={class:"px-4 py-3 bg-gray-50"},ct={class:"flex items-center justify-between"},mt={class:"text-sm font-bold text-green-600"},pt={class:"mt-12"},bt={class:"text-xl font-bold text-gray-900 text-center"},gt={class:"mt-4 bg-white shadow rounded-lg"},ft={class:"divide-y divide-gray-200"},vt={class:"flex items-center justify-between"},xt={class:"text-sm font-medium text-gray-900"},yt={class:"flex flex-col gap-2 md:flex-row md:gap-0 text-sm items-center space-x-2"},wt={class:"text-red-600 font-medium"},ht={class:"px-4 py-3 bg-gray-50"},_t={class:"flex items-center justify-between"},kt={class:"text-sm font-bold text-red-600"},St={class:"mt-12"},Ct={class:"mt-4 bg-white shadow rounded-lg"},Et={class:"divide-y divide-gray-200"},It={key:0,class:"px-4 py-6 text-center text-gray-500"},Dt={class:"flex items-center justify-between"},At={class:"text-sm font-medium text-gray-900"},jt={class:"text-sm text-gray-500"},Mt={class:"flex flex-col gap-2 md:flex-row md:gap-0 text-sm items-center space-x-2"},Tt=["onClick"],Vt=["onClick"],Ot={class:"px-4 py-3 bg-gray-50 border-t border-gray-200"},Ut={class:"flex justify-between items-center"},$t={class:"text-sm font-medium text-gray-700"},Bt={class:"text-right"},Lt={class:"text-sm font-medium text-green-600"},Nt={class:"text-sm font-medium text-red-600"},qt={key:0,class:"fixed inset-0 overflow-y-auto z-10 flex items-center justify-center"},Kt={class:"relative bg-white rounded-lg max-w-sm w-full mx-2 p-4 shadow-lg"},Ft={class:"mb-3"},Yt=["value"],zt={class:"mb-3"},Pt=["required"],Rt={class:"mb-3"},Gt={class:"flex space-x-4"},Jt={class:"flex items-center text-sm"},Ht={class:"flex items-center text-sm"},Qt={class:"mb-3"},Wt={class:"mb-3"},Xt={class:"mb-4"},Zt={class:"flex justify-end space-x-2"},eo=["disabled"],to={key:1,class:"fixed inset-0 overflow-y-auto z-10 flex items-center justify-center"},oo={class:"relative bg-white rounded-lg max-w-sm w-full mx-2 p-4 shadow-lg"},so={class:"mb-3"},no=["value"],lo={class:"mb-3"},ro=["required"],io={class:"mb-3"},ao={class:"flex space-x-4"},uo={class:"flex items-center text-sm"},co={class:"flex items-center text-sm"},mo={class:"mb-4"},po=["value"],bo=["value"],go=["value"],fo={class:"mb-3"},vo={class:"mb-3"},xo={class:"mb-4"},yo={class:"flex justify-end space-x-2"},wo={type:"submit",class:"px-3 py-1.5 border border-transparent rounded-md shadow-sm text-sm text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500"},ho={key:2,class:"fixed mr-16 sm:mr-0 inset-0 flex items-center justify-center bg-black bg-opacity-50"},_o={class:"bg-white rounded-lg shadow-lg p-4 sm:p-6 w-full max-w-xs sm:max-w-sm md:max-w-md"},ko={class:"mb-4"},So=["value"],Co=["value"],Eo=["value"],Io=["value"],Do={class:"mb-3"},Ao={class:"flex space-x-4"},jo={class:"flex items-center text-sm"},Mo={class:"flex items-center text-sm"},To={class:"mb-4"},Vo={class:"mb-4"},Oo={class:"mb-4"},Uo={class:"flex justify-end space-x-2"},$o={type:"submit",class:"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded"},Bo={key:3,class:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50"},Lo={class:"bg-white rounded-lg shadow-lg p-4 sm:p-6 w-full max-w-xs sm:max-w-sm md:max-w-md"},No={class:"flex justify-end space-x-2"},qo={key:4,class:"fixed inset-0 overflow-y-auto z-10 flex items-center justify-center"},Ko={class:"relative bg-purple-900 text-white rounded-lg max-w-md w-full mx-4 p-4 shadow-xl border-2 border-yellow-500"},Fo={class:"space-y-2"},Yo={class:"flex justify-between items-center"},zo={class:"text-xs font-medium text-white"},Po={class:"text-xs font-semibold text-yellow-500"},Ro={class:"bg-purple-900 border border-yellow-500 rounded-lg p-2 mt-2"},Go={class:"flex justify-between items-center"},Jo={class:"text-sm font-semibold text-yellow-500"},Ho={class:"mt-3 flex justify-end space-x-2"},ms={__name:"BudgetPlanner",props:{data:Object,today:String},setup(Z){const{alertState:L,openAlert:f,clearAlert:pe}=Te(),S=Z,N=v([]),q=v(!1),K=v(!1),c=v(null),_=W({category:"",description:"",amount:"",transaction_date:"",is_recurring:!1}),C=v(null),P=v([]),F=x(()=>C.value?N.value.filter(s=>{const e=new Date(s.transaction_date);return ne(e)===C.value}):N.value),R=x(()=>F.value.filter(s=>s.type==="income")),Y=x(()=>F.value.filter(s=>s.type!=="income")),T=x(()=>R.value.reduce((s,e)=>s+parseFloat(e.amount),0)),E=x(()=>Y.value.reduce((s,e)=>s+parseFloat(e.amount),0)),V=x(()=>T.value-E.value),I=x(()=>N.value.length>0),be=x(()=>{const e=R.value.reduce((o,u)=>{const b=u.category;return o[b]||(o[b]={totalAmount:0}),o[b].totalAmount+=parseFloat(u.amount),o},{});return Object.entries(e).map(([o,{totalAmount:u}])=>({label:o,amount:Math.round(u)})).sort((o,u)=>u.amount-o.amount).slice(0,3)}),ge=x(()=>{const e=Y.value.reduce((u,b)=>{const A=b.category;return u[A]||(u[A]=[]),u[A].push(b),u},{});return Object.entries(e).map(([u,b])=>({category:u,totalAmount:b.reduce((A,Q)=>A+parseFloat(Q.amount),0),expenses:b})).sort((u,b)=>b.totalAmount-u.totalAmount).slice(0,3).map(u=>({label:u.category,amount:Math.round(u.totalAmount),expenses:u.expenses}))}),ee=x(()=>Y.value?Y.value.reduce((s,e)=>{const o=e.category;return s[o]||(s[o]=0),s[o]+=parseFloat(e.amount),s},{}):{}),O=async()=>{try{N.value=S.data.transactions||[],ke()}catch(s){console.error("Error fetching or initializing data:",s),f("danger","Failed to load data.",5e3)}},te=s=>{c.value={...s,transaction_date:s.transaction_date?new Date(s.transaction_date).toISOString().split("T")[0]:""},q.value=!0},oe=s=>{c.value=s,K.value=!0},fe=()=>{const s=c.value;_.category=s.category,_.description=s.description,_.amount=s.amount,_.is_recurring=s.is_recurring,_.transaction_date=s.transaction_date;const e=s.type==="income"?"income.edit":"expense.edit";_.put(route(e,s.id),{onSuccess:()=>{q.value=!1,f("success","Transaction Updated Successfully",5e3),O()},onError:o=>{f("danger",Object.values(o).flat().join(" "),5e3),console.error("Error editing transaction:",o)}})},se=()=>{const s=c.value,e=s.type==="income"?"income.destroy":"expense.destroy";_.delete(route(e,s.id),{onSuccess:()=>{f("warning","Transaction Deleted Successfully",5e3),K.value=!1,O()},onError:o=>{f("danger","Error Deleting Transaction",5e3),console.error("Error deleting transaction:",o)}})},U=v(!1),D=v(!1),z=v(!1),G=x(()=>l.category==="debt"||l.category==="investment"||l.category==="goal"),m=W({category:"",otherCategory:"",amount:"",description:"",income_date:"",is_recurring:!0}),l=W({category:"",otherCategory:"",amount:"",description:"",expense_date:"",is_recurring:!0});Ce(()=>[l.category,l.debtId,l.goalId,l.investmentId],()=>{if(l.category==="debt"){const s=S.data.debts.find(e=>e.id==l.debtId);l.description=s?s.description:""}else if(l.category==="goal"){const s=S.data.goals.find(e=>e.id==l.goalId);l.description=s?s.description:""}else if(l.category==="investment"){const s=S.data.investments.find(e=>e.id==l.investmentId);l.description=s?s.details_of_investment:""}else l.description=""},{immediate:!0});const ve=()=>{m.post(route("income.store"),{onSuccess:()=>{U.value=!1,m.reset(),f("success","Income added successfully",5e3),O()},onError:s=>{const e=Object.values(s).flat().join(" ");f("danger",e,5e3)}})},xe=()=>{l.category==="debt"?we():l.category==="investment"?he():l.category==="goal"?_e():ye()},ye=()=>{l.post(route("expense.store"),{onSuccess:()=>{D.value=!1,l.reset(),f("success","Expense added successfully",5e3),O()},onError:s=>{const e=Object.values(s).flat().join(" ");f("danger",e,5e3)}})},J=()=>{D.value=!1,l.reset(),f("success","Contribution Made Successfully.",5e3),O()},H=s=>{const e=Object.values(s).flat().join(" ");f("danger",e,5e3)},we=()=>{l.put(route("debt.contribute",l.debtId),{onSuccess:J,onError:H})},he=()=>{l.put(route("invest.contribute",l.investmentId),{onSuccess:J,onError:H})},_e=()=>{l.put(route("goal.contribute",l.goalId),{onSuccess:J,onError:H})};function ke(){const s={};N.value.forEach(e=>{const o=new Date(e.transaction_date),u=ne(o);s[u]=!0}),P.value=Object.keys(s).sort((e,o)=>{const[u,b]=e.split(" "),[A,Q]=o.split(" ");return Q-b||le(A)-le(u)}),P.value.length>0?Se(P.value[0]):(C.value=new Date().toLocaleString("en-US",{month:"long",year:"numeric"}),T.value=0,E.value=0,V.value=0)}function ne(s){return`${["January","February","March","April","May","June","July","August","September","October","November","December"][s.getMonth()]} ${s.getFullYear()}`}function le(s){return["January","February","March","April","May","June","July","August","September","October","November","December"].indexOf(s.split(" ")[0])}function Se(s){C.value=s}Ee(()=>{O()}),V.value=T.value-E.value;const k=v(!1),re=v(!0);return(s,e)=>(r(),i(g,null,[$(n(Ie),{title:"Budget Planner"}),$(Ae,null,{default:ie(()=>[t("div",Oe,[$(je,null,{default:ie(()=>[$(Me),t("div",Ue,[t("div",$e,[d(t("div",Be,[t("div",Le,[t("div",null,[t("h1",Ne,a(Z.today)+"'s Budget ",1),s.$page.props.auth.subscription&&s.$page.props.auth.subscription.package?(r(),i("div",qe,[e[39]||(e[39]=t("svg",{class:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})],-1)),De(" "+a(s.$page.props.auth.subscription.package==="trial"?"Free Trial Active":"Pro Tools Active"),1)])):p("",!0)]),t("button",{onClick:e[0]||(e[0]=o=>k.value=!k.value),class:"text-gray-600 hover:text-gray-800 ml-4"},[k.value?(r(),i("svg",Fe,e[41]||(e[41]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:`M13.875 18.825A10.05 10.05 0 0112 19
========
import{r as v,C as W,l as x,z as Ce,y as Ee,b as i,o as r,d as $,u as n,m as Ie,w as ie,a as t,f as p,j as d,c as ae,t as a,h as De,Q as y,n as j,F as g,i as w,g as X,k as M,v as h,p as B}from"./app-Dgor68rw.js";import{A as Ae}from"./AuthenticatedLayout-DueKZrO2.js";import{_ as je}from"./Sidebar-vpRpAvRF.js";import{_ as Me}from"./DashboardBackButton-tgUFfs9n.js";import{_ as ue}from"./BudgetBarChart-D2Q0dcAT.js";import{_ as de}from"./Alert-CnWakZ8I.js";import{u as Te}from"./useAlert-BhDdwcXf.js";import{f as Ve}from"./useDateFormat-pjOuPPEs.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css                                                */import"./EllipsisHorizontalIcon-5bi0prCQ.js";import"./AcademicCapIcon-CqjJEQ0L.js";import"./UserIcon-BaT_I4GJ.js";import"./ChartBarIcon-DbllJv6O.js";import"./HomeIcon-EB-iM0NN.js";import"./useFormatCurrency-Dh16EV-S.js";const ce=[{value:"rent",label:"Rent"},{value:"utilities",label:"Utilities"},{value:"groceries",label:"Groceries"},{value:"eatout",label:"Eating out"},{value:"transportation",label:"Transportation"},{value:"fuel",label:"Fuel"},{value:"insurance",label:"Insurance"},{value:"investment",label:"Investment Contribution"},{value:"debt",label:"Debt Payment"},{value:"goal",label:"Goal Contribution"},{value:"other",label:"Other"}],me=[{value:"salary",label:"Salary"},{value:"freelance",label:"Freelance"},{value:"business_income",label:"Business Income"},{value:"rental_income",label:"Rental Income"},{value:"investments",label:"Investments"},{value:"side_hustle",label:"Side Hustle"},{value:"bonus",label:"Bonus"},{value:"other",label:"Other"}],Oe={class:"w-full text-gray-900"},Ue={class:"py-6"},$e={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},Be={class:"flex justify-between"},Le={class:"flex items-center justify-between mb-4 gap-2"},Ne={class:"text-2xl font-semibold text-gray-900"},qe={key:0,class:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800 mt-1"},Ke={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},Fe={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},Ye={class:"px-6 flex items-center"},ze={key:2,class:"mt-6 grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4"},Pe={class:"mt-1 text-3xl font-semibold text-green-600"},Re={class:"mt-1 text-3xl font-semibold text-red-500"},Ge={class:"bg-white overflow-hidden shadow rounded-lg"},Je={class:"px-4 py-5 sm:p-6 flex flex-col space-y-2"},He={key:3,class:"mt-6 text-center"},Qe={class:"mt-4 flex justify-center space-x-2"},We={class:"my-4 w-full flex justify-center"},Xe=["href"],Ze={key:4,class:"mt-8 grid grid-cols-1 gap-8 lg:grid-cols-2"},et={class:"mt-12"},tt={class:"text-xl font-bold text-gray-900 text-center"},ot={class:"mt-4 bg-white shadow rounded-lg"},st={class:"divide-y divide-gray-200"},nt={class:"flex items-center justify-between"},lt={class:"text-sm font-medium text-gray-900"},rt={class:"flex flex-col gap-2 md:flex-row md:gap-0 text-sm items-center space-x-2"},it={class:"text-green-600 font-medium"},at=["onClick"],ut=["onClick"],dt={class:"px-4 py-3 bg-gray-50"},ct={class:"flex items-center justify-between"},mt={class:"text-sm font-bold text-green-600"},pt={class:"mt-12"},bt={class:"text-xl font-bold text-gray-900 text-center"},gt={class:"mt-4 bg-white shadow rounded-lg"},ft={class:"divide-y divide-gray-200"},vt={class:"flex items-center justify-between"},xt={class:"text-sm font-medium text-gray-900"},yt={class:"flex flex-col gap-2 md:flex-row md:gap-0 text-sm items-center space-x-2"},wt={class:"text-red-600 font-medium"},ht={class:"px-4 py-3 bg-gray-50"},_t={class:"flex items-center justify-between"},kt={class:"text-sm font-bold text-red-600"},St={class:"mt-12"},Ct={class:"mt-4 bg-white shadow rounded-lg"},Et={class:"divide-y divide-gray-200"},It={key:0,class:"px-4 py-6 text-center text-gray-500"},Dt={class:"flex items-center justify-between"},At={class:"text-sm font-medium text-gray-900"},jt={class:"text-sm text-gray-500"},Mt={class:"flex flex-col gap-2 md:flex-row md:gap-0 text-sm items-center space-x-2"},Tt=["onClick"],Vt=["onClick"],Ot={class:"px-4 py-3 bg-gray-50 border-t border-gray-200"},Ut={class:"flex justify-between items-center"},$t={class:"text-sm font-medium text-gray-700"},Bt={class:"text-right"},Lt={class:"text-sm font-medium text-green-600"},Nt={class:"text-sm font-medium text-red-600"},qt={key:0,class:"fixed inset-0 overflow-y-auto z-10 flex items-center justify-center"},Kt={class:"relative bg-white rounded-lg max-w-sm w-full mx-2 p-4 shadow-lg"},Ft={class:"mb-3"},Yt=["value"],zt={class:"mb-3"},Pt=["required"],Rt={class:"mb-3"},Gt={class:"flex space-x-4"},Jt={class:"flex items-center text-sm"},Ht={class:"flex items-center text-sm"},Qt={class:"mb-3"},Wt={class:"mb-3"},Xt={class:"mb-4"},Zt={class:"flex justify-end space-x-2"},eo=["disabled"],to={key:1,class:"fixed inset-0 overflow-y-auto z-10 flex items-center justify-center"},oo={class:"relative bg-white rounded-lg max-w-sm w-full mx-2 p-4 shadow-lg"},so={class:"mb-3"},no=["value"],lo={class:"mb-3"},ro=["required"],io={class:"mb-3"},ao={class:"flex space-x-4"},uo={class:"flex items-center text-sm"},co={class:"flex items-center text-sm"},mo={class:"mb-4"},po=["value"],bo=["value"],go=["value"],fo={class:"mb-3"},vo={class:"mb-3"},xo={class:"mb-4"},yo={class:"flex justify-end space-x-2"},wo={type:"submit",class:"px-3 py-1.5 border border-transparent rounded-md shadow-sm text-sm text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500"},ho={key:2,class:"fixed mr-16 sm:mr-0 inset-0 flex items-center justify-center bg-black bg-opacity-50"},_o={class:"bg-white rounded-lg shadow-lg p-4 sm:p-6 w-full max-w-xs sm:max-w-sm md:max-w-md"},ko={class:"mb-4"},So=["value"],Co=["value"],Eo=["value"],Io=["value"],Do={class:"mb-3"},Ao={class:"flex space-x-4"},jo={class:"flex items-center text-sm"},Mo={class:"flex items-center text-sm"},To={class:"mb-4"},Vo={class:"mb-4"},Oo={class:"mb-4"},Uo={class:"flex justify-end space-x-2"},$o={type:"submit",class:"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded"},Bo={key:3,class:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50"},Lo={class:"bg-white rounded-lg shadow-lg p-4 sm:p-6 w-full max-w-xs sm:max-w-sm md:max-w-md"},No={class:"flex justify-end space-x-2"},qo={key:4,class:"fixed inset-0 overflow-y-auto z-10 flex items-center justify-center"},Ko={class:"relative bg-purple-900 text-white rounded-lg max-w-md w-full mx-4 p-4 shadow-xl border-2 border-yellow-500"},Fo={class:"space-y-2"},Yo={class:"flex justify-between items-center"},zo={class:"text-xs font-medium text-white"},Po={class:"text-xs font-semibold text-yellow-500"},Ro={class:"bg-purple-900 border border-yellow-500 rounded-lg p-2 mt-2"},Go={class:"flex justify-between items-center"},Jo={class:"text-sm font-semibold text-yellow-500"},Ho={class:"mt-3 flex justify-end space-x-2"},ms={__name:"BudgetPlanner",props:{data:Object,today:String},setup(Z){const{alertState:L,openAlert:f,clearAlert:pe}=Te(),S=Z,N=v([]),q=v(!1),K=v(!1),c=v(null),_=W({category:"",description:"",amount:"",transaction_date:"",is_recurring:!1}),C=v(null),P=v([]),F=x(()=>C.value?N.value.filter(s=>{const e=new Date(s.transaction_date);return ne(e)===C.value}):N.value),R=x(()=>F.value.filter(s=>s.type==="income")),Y=x(()=>F.value.filter(s=>s.type!=="income")),T=x(()=>R.value.reduce((s,e)=>s+parseFloat(e.amount),0)),E=x(()=>Y.value.reduce((s,e)=>s+parseFloat(e.amount),0)),V=x(()=>T.value-E.value),I=x(()=>N.value.length>0),be=x(()=>{const e=R.value.reduce((o,u)=>{const b=u.category;return o[b]||(o[b]={totalAmount:0}),o[b].totalAmount+=parseFloat(u.amount),o},{});return Object.entries(e).map(([o,{totalAmount:u}])=>({label:o,amount:Math.round(u)})).sort((o,u)=>u.amount-o.amount).slice(0,3)}),ge=x(()=>{const e=Y.value.reduce((u,b)=>{const A=b.category;return u[A]||(u[A]=[]),u[A].push(b),u},{});return Object.entries(e).map(([u,b])=>({category:u,totalAmount:b.reduce((A,Q)=>A+parseFloat(Q.amount),0),expenses:b})).sort((u,b)=>b.totalAmount-u.totalAmount).slice(0,3).map(u=>({label:u.category,amount:Math.round(u.totalAmount),expenses:u.expenses}))}),ee=x(()=>Y.value?Y.value.reduce((s,e)=>{const o=e.category;return s[o]||(s[o]=0),s[o]+=parseFloat(e.amount),s},{}):{}),O=async()=>{try{N.value=S.data.transactions||[],ke()}catch(s){console.error("Error fetching or initializing data:",s),f("danger","Failed to load data.",5e3)}},te=s=>{c.value={...s,transaction_date:s.transaction_date?new Date(s.transaction_date).toISOString().split("T")[0]:""},q.value=!0},oe=s=>{c.value=s,K.value=!0},fe=()=>{const s=c.value;_.category=s.category,_.description=s.description,_.amount=s.amount,_.is_recurring=s.is_recurring,_.transaction_date=s.transaction_date;const e=s.type==="income"?"income.edit":"expense.edit";_.put(route(e,s.id),{onSuccess:()=>{q.value=!1,f("success","Transaction Updated Successfully",5e3),O()},onError:o=>{f("danger",Object.values(o).flat().join(" "),5e3),console.error("Error editing transaction:",o)}})},se=()=>{const s=c.value,e=s.type==="income"?"income.destroy":"expense.destroy";_.delete(route(e,s.id),{onSuccess:()=>{f("warning","Transaction Deleted Successfully",5e3),K.value=!1,O()},onError:o=>{f("danger","Error Deleting Transaction",5e3),console.error("Error deleting transaction:",o)}})},U=v(!1),D=v(!1),z=v(!1),G=x(()=>l.category==="debt"||l.category==="investment"||l.category==="goal"),m=W({category:"",otherCategory:"",amount:"",description:"",income_date:"",is_recurring:!0}),l=W({category:"",otherCategory:"",amount:"",description:"",expense_date:"",is_recurring:!0});Ce(()=>[l.category,l.debtId,l.goalId,l.investmentId],()=>{if(l.category==="debt"){const s=S.data.debts.find(e=>e.id==l.debtId);l.description=s?s.description:""}else if(l.category==="goal"){const s=S.data.goals.find(e=>e.id==l.goalId);l.description=s?s.description:""}else if(l.category==="investment"){const s=S.data.investments.find(e=>e.id==l.investmentId);l.description=s?s.details_of_investment:""}else l.description=""},{immediate:!0});const ve=()=>{m.post(route("income.store"),{onSuccess:()=>{U.value=!1,m.reset(),f("success","Income added successfully",5e3),O()},onError:s=>{const e=Object.values(s).flat().join(" ");f("danger",e,5e3)}})},xe=()=>{l.category==="debt"?we():l.category==="investment"?he():l.category==="goal"?_e():ye()},ye=()=>{l.post(route("expense.store"),{onSuccess:()=>{D.value=!1,l.reset(),f("success","Expense added successfully",5e3),O()},onError:s=>{const e=Object.values(s).flat().join(" ");f("danger",e,5e3)}})},J=()=>{D.value=!1,l.reset(),f("success","Contribution Made Successfully.",5e3),O()},H=s=>{const e=Object.values(s).flat().join(" ");f("danger",e,5e3)},we=()=>{l.put(route("debt.contribute",l.debtId),{onSuccess:J,onError:H})},he=()=>{l.put(route("invest.contribute",l.investmentId),{onSuccess:J,onError:H})},_e=()=>{l.put(route("goal.contribute",l.goalId),{onSuccess:J,onError:H})};function ke(){const s={};N.value.forEach(e=>{const o=new Date(e.transaction_date),u=ne(o);s[u]=!0}),P.value=Object.keys(s).sort((e,o)=>{const[u,b]=e.split(" "),[A,Q]=o.split(" ");return Q-b||le(A)-le(u)}),P.value.length>0?Se(P.value[0]):(C.value=new Date().toLocaleString("en-US",{month:"long",year:"numeric"}),T.value=0,E.value=0,V.value=0)}function ne(s){return`${["January","February","March","April","May","June","July","August","September","October","November","December"][s.getMonth()]} ${s.getFullYear()}`}function le(s){return["January","February","March","April","May","June","July","August","September","October","November","December"].indexOf(s.split(" ")[0])}function Se(s){C.value=s}Ee(()=>{O()}),V.value=T.value-E.value;const k=v(!1),re=v(!0);return(s,e)=>(r(),i(g,null,[$(n(Ie),{title:"Budget Planner"}),$(Ae,null,{default:ie(()=>[t("div",Oe,[$(je,null,{default:ie(()=>[$(Me),t("div",Ue,[t("div",$e,[d(t("div",Be,[t("div",Le,[t("div",null,[t("h1",Ne,a(Z.today)+"'s Budget ",1),s.$page.props.auth.subscription&&s.$page.props.auth.subscription.package?(r(),i("div",qe,[e[39]||(e[39]=t("svg",{class:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})],-1)),De(" "+a(s.$page.props.auth.subscription.package==="trial"?"Free Trial Active":"Pro Tools Active"),1)])):p("",!0)]),t("button",{onClick:e[0]||(e[0]=o=>k.value=!k.value),class:"text-gray-600 hover:text-gray-800 ml-4"},[k.value?(r(),i("svg",Fe,e[41]||(e[41]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:`M13.875 18.825A10.05 10.05 0 0112 19
>>>>>>>> bddde6328c8e0968ba51abe2d0d139a7207d6250:public/build/assets/BudgetPlanner-CB2cw9d1.js
           c-4.477 0-8.268-2.943-9.542-7
           a9.956 9.956 0 012.442-3.993`},null,-1),t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6.1 6.1l11.8 11.8"},null,-1)]))):(r(),i("svg",Ke,e[40]||(e[40]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},null,-1),t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:`M2.458 12C3.732 7.943 7.523 5 12 5
           c4.477 0 8.268 2.943 9.542 7
           -1.274 4.057-5.065 7-9.542 7
           -4.477 0-8.268-2.943-9.542-7z`},null,-1)])))])]),t("div",Ye,[t("button",{onClick:e[1]||(e[1]=o=>z.value=!0),class:"w-full py-2 px-4 bg-purple-600 hover:bg-purple-700 text-white font-medium rounded-md transition duration-150"}," View Budget ")])],512),[[y,I.value]]),re.value?(r(),ae(de,{key:0,type:"info",message:`✨ Great news! You're on a 3-month free trial of our budgeting tools — no charges until December 1st.
After that, you can continue your journey for just KES 500/month or KES 4,500/year.

Start using the tools today and enjoy stress-free budgeting! 💡`,dismissible:!0,onClose:e[2]||(e[2]=o=>re.value=!1)})):p("",!0),n(L)?(r(),ae(de,{key:1,type:n(L).type,message:n(L).message,duration:n(L).duration,"auto-close":n(L).autoClose,onClose:n(pe)},null,8,["type","message","duration","auto-close","onClose"])):p("",!0),I.value?(r(),i("div",ze,[t("dd",Pe,[t("span",{class:j({"blur-md":!k.value})}," KES "+a(T.value.toLocaleString()),3)]),t("dd",Re,[t("span",{class:j({"blur-md":!k.value})}," KES "+a(E.value.toLocaleString()),3)]),t("dd",{class:j(["mt-1 text-3xl font-semibold",V.value>=0?"text-green-600":"text-red-600"])},[t("span",{class:j({"blur-md":!k.value})}," KES "+a(V.value.toLocaleString()),3)],2),t("div",Ge,[t("div",Je,[t("button",{onClick:e[3]||(e[3]=o=>U.value=!0),class:"w-full py-2 px-4 bg-green-600 hover:bg-green-700 text-white font-medium rounded-md transition duration-150"}," Add Income "),t("button",{onClick:e[4]||(e[4]=o=>D.value=!0),class:"w-full py-2 px-4 bg-red-600 hover:bg-red-700 text-white font-medium rounded-md transition duration-150"}," Add Expense ")])])])):p("",!0),I.value?p("",!0):(r(),i("div",He,[e[42]||(e[42]=t("p",{class:"text-lg text-gray-600"},"You have no data available for this month.",-1)),t("div",Qe,[t("button",{onClick:e[5]||(e[5]=o=>U.value=!0),class:"py-2 px-4 bg-green-600 hover:bg-green-700 text-white font-medium rounded-md transition duration-150"}," Add Income "),t("button",{onClick:e[6]||(e[6]=o=>D.value=!0),class:"py-2 px-4 bg-red-600 hover:bg-red-700 text-white font-medium rounded-md transition duration-150"}," Add Expense ")])])),t("div",We,[t("a",{target:"_blank",href:s.route("budget.budgets"),class:"bg-purple-500 px-4 py-2 rounded-md text-white hover:bg-purple-600"},"View Previous Budgets",8,Xe)]),I.value?(r(),i("div",Ze,[$(ue,{title:"Top Income Sources",items:be.value,type:"income",class:"bg-white shadow rounded-lg",showBalances:k.value},null,8,["items","showBalances"]),$(ue,{title:"Top Expenses",items:ge.value,type:"expense",class:"bg-white shadow rounded-lg",showBalances:k.value},null,8,["items","showBalances"])])):p("",!0),d(t("div",et,[t("h2",tt,"Your Income - "+a(C.value),1),t("div",ot,[t("ul",st,[(r(!0),i(g,null,w(R.value,o=>(r(),i("li",{key:o.id,class:"px-4 py-3"},[t("div",nt,[t("div",null,[t("p",lt,a(o.category)+" - "+a(o.description),1)]),t("div",rt,[t("div",it," + KES "+a(Math.round(parseFloat(o.amount)).toLocaleString()),1),t("button",{onClick:u=>te(o),class:"bg-blue-500 hover:bg-blue-600 text-white px-3 py-1 rounded"}," Edit ",8,at),t("button",{onClick:u=>oe(o),class:"bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded"}," Delete ",8,ut)])])]))),128)),t("li",dt,[t("div",ct,[e[43]||(e[43]=t("div",null,[t("p",{class:"text-sm font-bold text-gray-900"}," TOTAL INCOME ")],-1)),t("div",mt," KES "+a(T.value.toLocaleString()),1)])])])])],512),[[y,I.value]]),d(t("div",pt,[t("h2",bt,"Your Budget - "+a(C.value),1),t("div",gt,[t("ul",ft,[(r(!0),i(g,null,w(ee.value,(o,u)=>(r(),i("li",{key:u,class:"px-4 py-3"},[t("div",vt,[t("div",null,[t("p",xt,a(u),1)]),t("div",yt,[t("div",wt," - KES "+a(Math.round(parseFloat(o)).toLocaleString()),1)])])]))),128)),t("li",ht,[t("div",_t,[e[44]||(e[44]=t("div",null,[t("p",{class:"text-sm font-bold text-gray-900"}," TOTAL MONTHLY BUDGET ")],-1)),t("div",kt," KES "+a(E.value.toLocaleString()),1)])])])])],512),[[y,I.value]]),d(t("div",St,[e[45]||(e[45]=t("h2",{class:"text-xl font-bold text-center text-gray-900"},"All Transactions",-1)),t("div",Ct,[t("ul",Et,[F.value.length===0?(r(),i("li",It," No transactions right now. Add the first transaction. ")):p("",!0),(r(!0),i(g,null,w(F.value,o=>(r(),i("li",{key:o.id,class:"px-4 py-3"},[t("div",Dt,[t("div",null,[t("p",At,a(o.description),1),t("p",jt,a(n(Ve)(o.transaction_date)),1)]),t("div",Mt,[t("div",{class:j([o.type==="income"?"text-green-600":"text-red-600","font-medium"])},a(o.type==="income"?"+":"-")+" KES "+a(Math.round(o.amount).toLocaleString()),3),t("button",{onClick:u=>te(o),class:"bg-blue-500 hover:bg-blue-600 text-white px-3 py-1 rounded"}," Edit ",8,Tt),t("button",{onClick:u=>oe(o),class:"bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded"}," Delete ",8,Vt)])])]))),128))]),t("div",Ot,[t("div",Ut,[t("span",$t,a(C.value)+" Summary:",1),t("div",Bt,[t("p",Lt,"Income: KES "+a(T.value.toLocaleString()),1),t("p",Nt,"Expenses: KES "+a(E.value.toLocaleString()),1),t("p",{class:j(["text-sm font-bold",V.value>=0?"text-green-600":"text-red-600"])}," Balance: KES "+a(V.value.toLocaleString()),3)])])])])],512),[[y,I.value]])])]),U.value?(r(),i("div",qt,[t("div",{class:"fixed inset-0 bg-black bg-opacity-50",onClick:e[7]||(e[7]=o=>U.value=!1)}),t("div",Kt,[e[55]||(e[55]=t("h3",{class:"text-base font-semibold text-gray-900 mb-3"},"Add Income",-1)),t("form",{onSubmit:X(ve,["prevent"])},[t("div",Ft,[e[47]||(e[47]=t("label",{for:"incomeCategory",class:"block text-sm font-medium text-gray-700 mb-1"},"Income Type",-1)),d(t("select",{id:"incomeCategory","onUpdate:modelValue":e[8]||(e[8]=o=>n(m).category=o),class:"w-full px-2 py-1.5 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:""},[e[46]||(e[46]=t("option",{value:""},"Select Income Category",-1)),(r(!0),i(g,null,w(n(me),o=>(r(),i("option",{key:o.value,value:o.label},a(o.label),9,Yt))),128))],512),[[M,n(m).category]])]),d(t("div",zt,[e[48]||(e[48]=t("label",{for:"incomeCategory",class:"block text-sm font-medium text-gray-700 mb-1"},"Specify Income",-1)),d(t("input",{type:"text",id:"incomeCategory","onUpdate:modelValue":e[9]||(e[9]=o=>n(m).otherCategory=o),class:"w-full px-2 py-1.5 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:n(m).category==="Other"},null,8,Pt),[[h,n(m).otherCategory]])],512),[[y,n(m).category==="Other"]]),t("div",Rt,[e[51]||(e[51]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Is Recurrent?",-1)),t("div",Gt,[t("label",Jt,[d(t("input",{type:"radio",id:"yes",name:"is_recurring",value:!0,"onUpdate:modelValue":e[10]||(e[10]=o=>n(m).is_recurring=o)},null,512),[[B,n(m).is_recurring]]),e[49]||(e[49]=t("span",{class:"ml-1"},"Yes",-1))]),t("label",Ht,[d(t("input",{type:"radio",id:"no",name:"is_recurring",value:!1,"onUpdate:modelValue":e[11]||(e[11]=o=>n(m).is_recurring=o)},null,512),[[B,n(m).is_recurring]]),e[50]||(e[50]=t("span",{class:"ml-1"},"No",-1))])])]),t("div",Qt,[e[52]||(e[52]=t("label",{for:"incomeDescription",class:"block text-sm font-medium text-gray-700 mb-1"},"Description",-1)),d(t("textarea",{id:"incomeDescription","onUpdate:modelValue":e[12]||(e[12]=o=>n(m).description=o),class:"w-full px-2 py-1.5 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:""},null,512),[[h,n(m).description]])]),t("div",Wt,[e[53]||(e[53]=t("label",{for:"incomeAmount",class:"block text-sm font-medium text-gray-700 mb-1"},"Amount (KES)",-1)),d(t("input",{type:"number",id:"incomeAmount","onUpdate:modelValue":e[13]||(e[13]=o=>n(m).amount=o),class:"w-full px-2 py-1.5 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",min:"0",step:"0.01",required:""},null,512),[[h,n(m).amount]])]),t("div",Xt,[e[54]||(e[54]=t("label",{for:"incomeDate",class:"block text-sm font-medium text-gray-700 mb-1"},"Date",-1)),d(t("input",{type:"date",id:"incomeDate","onUpdate:modelValue":e[14]||(e[14]=o=>n(m).income_date=o),class:"w-full px-2 py-1.5 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:""},null,512),[[h,n(m).income_date]])]),t("div",Zt,[t("button",{type:"button",onClick:e[15]||(e[15]=o=>U.value=!1),class:"px-3 py-1.5 border border-gray-300 rounded-md shadow-sm text-sm text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"}," Cancel "),t("button",{type:"submit",disabled:n(m).processing,class:j(["px-3 py-1.5 border border-transparent rounded-md shadow-sm text-sm text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",{"opacity-50 cursor-not-allowed":n(m).processing}])},a(n(m).processing?"Saving...":"Save Income"),11,eo)])],32)])])):p("",!0),D.value?(r(),i("div",to,[t("div",{class:"fixed inset-0 bg-black bg-opacity-50",onClick:e[16]||(e[16]=o=>D.value=!1)}),t("div",oo,[e[69]||(e[69]=t("h3",{class:"text-base font-semibold text-gray-900 mb-3"},"Add Expense",-1)),t("form",{onSubmit:X(xe,["prevent"])},[t("div",so,[e[57]||(e[57]=t("label",{for:"expenseCategory",class:"block text-sm font-medium text-gray-700 mb-1"},"Expense Type",-1)),d(t("select",{id:"expenseCategory","onUpdate:modelValue":e[17]||(e[17]=o=>n(l).category=o),class:"w-full px-2 py-1.5 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:""},[e[56]||(e[56]=t("option",{value:""},"Select Expense Type",-1)),(r(!0),i(g,null,w(n(ce),o=>(r(),i("option",{value:o.value,key:o.value},a(o.label),9,no))),128))],512),[[M,n(l).category]])]),d(t("div",lo,[e[58]||(e[58]=t("label",{for:"otherExpenseCategory",class:"block text-sm font-medium text-gray-700 mb-1"},"Specify Expense",-1)),d(t("input",{type:"text",id:"otherExpenseCategory","onUpdate:modelValue":e[18]||(e[18]=o=>n(l).otherCategory=o),class:"w-full px-2 py-1.5 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:n(l).category==="Other"},null,8,ro),[[h,n(l).otherCategory]])],512),[[y,n(l).category==="Other"]]),d(t("div",io,[e[61]||(e[61]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Is Recurrent?",-1)),t("div",ao,[t("label",uo,[d(t("input",{type:"radio",id:"expenseRecurringYes",name:"is_recurring_expense",value:!0,"onUpdate:modelValue":e[19]||(e[19]=o=>n(l).is_recurring=o)},null,512),[[B,n(l).is_recurring]]),e[59]||(e[59]=t("span",{class:"ml-1"},"Yes",-1))]),t("label",co,[d(t("input",{type:"radio",id:"expenseRecurringNo",name:"is_recurring_expense",value:!1,"onUpdate:modelValue":e[20]||(e[20]=o=>n(l).is_recurring=o)},null,512),[[B,n(l).is_recurring]]),e[60]||(e[60]=t("span",{class:"ml-1"},"No",-1))])])],512),[[y,!G.value]]),d(t("div",mo,[e[65]||(e[65]=t("label",{for:"contributionType",class:"block text-sm font-medium text-gray-700 mb-1"},"Specify the contribution",-1)),n(l).category==="debt"?d((r(),i("select",{key:0,id:"contributionDebt","onUpdate:modelValue":e[21]||(e[21]=o=>n(l).debtId=o),class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:""},[e[62]||(e[62]=t("option",{value:""},"Select Contribution",-1)),(r(!0),i(g,null,w(S.data.debts,o=>(r(),i("option",{key:o.id,value:o.id},a(o.name),9,po))),128))],512)),[[M,n(l).debtId]]):p("",!0),n(l).category==="goal"?d((r(),i("select",{key:1,id:"contributionGoal","onUpdate:modelValue":e[22]||(e[22]=o=>n(l).goalId=o),class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:""},[e[63]||(e[63]=t("option",{value:""},"Select Contribution",-1)),(r(!0),i(g,null,w(S.data.goals,o=>(r(),i("option",{key:o.id,value:o.id},a(o.name),9,bo))),128))],512)),[[M,n(l).goalId]]):p("",!0),n(l).category==="investment"?d((r(),i("select",{key:2,id:"contributionInvestment","onUpdate:modelValue":e[23]||(e[23]=o=>n(l).investmentId=o),class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:""},[e[64]||(e[64]=t("option",{value:""},"Select Contribution",-1)),(r(!0),i(g,null,w(S.data.investments,o=>(r(),i("option",{key:o.id,value:o.id},a(o.details_of_investment),9,go))),128))],512)),[[M,n(l).investmentId]]):p("",!0)],512),[[y,G.value]]),t("div",fo,[e[66]||(e[66]=t("label",{for:"expenseAmount",class:"block text-sm font-medium text-gray-700 mb-1"},"Amount (KES)",-1)),d(t("input",{type:"number",id:"expenseAmount","onUpdate:modelValue":e[24]||(e[24]=o=>n(l).amount=o),class:"w-full px-2 py-1.5 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",min:"0",step:"0.01",required:""},null,512),[[h,n(l).amount]])]),t("div",vo,[e[67]||(e[67]=t("label",{for:"expenseDescription",class:"block text-sm font-medium text-gray-700 mb-1"},"Description",-1)),d(t("textarea",{id:"expenseDescription","onUpdate:modelValue":e[25]||(e[25]=o=>n(l).description=o),rows:"2",class:"w-full px-2 py-1.5 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:""},null,512),[[h,n(l).description]])]),d(t("div",xo,[e[68]||(e[68]=t("label",{for:"expenseDate",class:"block text-sm font-medium text-gray-700 mb-1"},"Date",-1)),d(t("input",{type:"date",id:"expenseDate","onUpdate:modelValue":e[26]||(e[26]=o=>n(l).expense_date=o),class:"w-full px-2 py-1.5 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"},null,512),[[h,n(l).expense_date]])],512),[[y,!G.value]]),t("div",yo,[t("button",{type:"button",onClick:e[27]||(e[27]=o=>D.value=!1),class:"px-3 py-1.5 border border-gray-300 rounded-md shadow-sm text-sm text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"}," Cancel "),t("button",wo,a(n(l).processing?"Saving...":"Save Expense"),1)])],32)])])):p("",!0),q.value?(r(),i("div",ho,[t("div",_o,[e[77]||(e[77]=t("h3",{class:"text-lg font-bold mb-4"},"Edit Transaction",-1)),t("form",{onSubmit:X(fe,["prevent"])},[t("div",ko,[e[70]||(e[70]=t("label",{for:"transactionCategoryEdit",class:"block text-sm font-medium text-gray-700 mb-1"},"Category",-1)),d(t("select",{"onUpdate:modelValue":e[28]||(e[28]=o=>c.value.category=o),class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:""},[t("option",{value:c.value.category},a(c.value.category),9,So),(r(!0),i(g,null,w(n(ce),o=>(r(),i("option",{key:o.value,value:o.label},a(o.label),9,Co))),128))],512),[[y,c.value.type==="expense"],[M,c.value.category]]),d(t("select",{"onUpdate:modelValue":e[29]||(e[29]=o=>c.value.category=o),class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:""},[t("option",{value:c.value.category},a(c.value.category),9,Eo),(r(!0),i(g,null,w(n(me),o=>(r(),i("option",{key:o.value,value:o.label},a(o.label),9,Io))),128))],512),[[y,c.value.type==="income"],[M,c.value.category]])]),t("div",Do,[e[73]||(e[73]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Is Recurrent?",-1)),t("div",Ao,[t("label",jo,[d(t("input",{type:"radio",id:"editRecurringYes",name:"edit_is_recurring",value:!0,"onUpdate:modelValue":e[30]||(e[30]=o=>c.value.is_recurring=o)},null,512),[[B,c.value.is_recurring]]),e[71]||(e[71]=t("span",{class:"ml-1"},"Yes",-1))]),t("label",Mo,[d(t("input",{type:"radio",id:"editRecurringNo",name:"edit_is_recurring",value:!1,"onUpdate:modelValue":e[31]||(e[31]=o=>c.value.is_recurring=o)},null,512),[[B,c.value.is_recurring]]),e[72]||(e[72]=t("span",{class:"ml-1"},"No",-1))])])]),t("div",To,[e[74]||(e[74]=t("label",{for:"editAmount",class:"block text-sm font-medium text-gray-700 mb-1"},"Amount (KES)",-1)),d(t("input",{type:"number",id:"editAmount",name:"amount","onUpdate:modelValue":e[32]||(e[32]=o=>c.value.amount=o),class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",min:"0",step:"0.01",required:""},null,512),[[h,c.value.amount]])]),t("div",Vo,[e[75]||(e[75]=t("label",{for:"editDescription",class:"block text-sm font-medium text-gray-700 mb-1"},"Description",-1)),d(t("input",{type:"text",id:"editDescription",name:"description","onUpdate:modelValue":e[33]||(e[33]=o=>c.value.description=o),class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:""},null,512),[[h,c.value.description]])]),t("div",Oo,[e[76]||(e[76]=t("label",{for:"editDate",class:"block text-sm font-medium text-gray-700 mb-1"},"Date",-1)),d(t("input",{type:"date",id:"editDate",name:"transaction_date","onUpdate:modelValue":e[34]||(e[34]=o=>c.value.transaction_date=o),class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:""},null,512),[[h,c.value.transaction_date]])]),t("div",Uo,[t("button",$o,a(n(_).processing?"Saving...":"Submit"),1),t("button",{type:"button",onClick:e[35]||(e[35]=o=>q.value=!1),class:"bg-gray-300 hover:bg-gray-400 text-gray-700 px-4 py-2 rounded"},"Cancel")])],32)])])):p("",!0),K.value?(r(),i("div",Bo,[t("div",Lo,[e[78]||(e[78]=t("h3",{class:"text-lg font-bold mb-4"},"Confirm Delete",-1)),e[79]||(e[79]=t("p",{class:"mb-4"},"Are you sure you want to delete this transaction?",-1)),t("div",No,[t("button",{type:"button",onClick:se,class:"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded"},a(se.processing?"Deleting...":"Delete"),1),t("button",{onClick:e[36]||(e[36]=o=>K.value=!1),class:"bg-gray-300 hover:bg-gray-400 text-gray-700 px-4 py-2 rounded"},"Cancel")])])])):p("",!0),z.value?(r(),i("div",qo,[t("div",{class:"fixed inset-0 bg-black bg-opacity-50",onClick:e[37]||(e[37]=o=>z.value=!1)}),t("div",Ko,[e[81]||(e[81]=t("h3",{class:"text-base font-semibold text-yellow-500 mb-3"},"Monthly Budget Overview",-1)),t("div",Fo,[(r(!0),i(g,null,w(ee.value,(o,u)=>(r(),i("div",{key:u,class:"bg-purple-900 border border-purple-700 rounded-lg p-2 hover:bg-purple-800 transition-colors"},[t("div",Yo,[t("h4",zo,a(u),1),t("span",Po," KES "+a(o.toLocaleString()),1)])]))),128))]),t("div",Ro,[t("div",Go,[e[80]||(e[80]=t("h4",{class:"text-sm font-medium text-white"},"TOTAL: ",-1)),t("span",Jo," KES "+a(E.value.toLocaleString()),1)])]),t("div",Ho,[t("button",{onClick:e[38]||(e[38]=o=>z.value=!1),class:"px-3 py-1 border border-yellow-500 rounded-md shadow-sm text-xs font-medium text-purple-900 bg-yellow-500 hover:bg-yellow-400 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-900"}," Close ")])])])):p("",!0)]),_:1})])]),_:1})],64))}};export{ms as default};
