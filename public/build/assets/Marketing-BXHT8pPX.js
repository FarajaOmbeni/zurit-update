import{C as f,c as b,o as u,b as s,u as e,m as g,w as l,a as n,e as _,f as y,g as V,h as S,t as x,F as E}from"./app-fxmBWGe2.js";import{A as j}from"./AuthenticatedLayout-DOkoUVhZ.js";import{_ as k}from"./AdminSidebar-RtN8S6Dl.js";import{_ as h}from"./Input-S8MYbjlh.js";import{E as A}from"./Editor-UqZjKoy8.js";import{B}from"./Button-Cl9Aov7-.js";import{_ as C}from"./Alert-ofgZYSJG.js";import{u as w}from"./useAlert-DUqil9dq.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./EllipsisHorizontalIcon-CelZeobO.js";import"./ChartBarIcon-oOgODwEd.js";import"./UserIcon-DZYDXlfP.js";import"./CalendarIcon-DLgEqIuS.js";import"./CalendarDaysIcon-BzkDGoCQ.js";import"./DocumentTextIcon--WA-hwoy.js";import"./UserGroupIcon-7Wk_mNum.js";import"./UsersIcon-BenJBGjG.js";const M={class:"w-full text-gray-900"},Q={__name:"Marketing",props:{emails:Array},setup(p){const{openAlert:m,clearAlert:c,alertState:a}=w();console.log(p.emails);const o=f({content:"",subject:""}),d=()=>{o.post(route("marketing.send"),{onSuccess:()=>{o.reset(),m("success","Emails sent succesfully!",5e3)},onError:i=>{const t=Object.values(i).flat().join(" ");m("danger",t,5e3)}})};return(i,t)=>(u(),b(E,null,[s(e(g),{title:"Dashboard"}),s(j,null,{default:l(()=>[n("div",M,[s(k,null,{default:l(()=>[e(a)?(u(),_(C,{key:0,type:e(a).type,message:e(a).message,duration:e(a).duration,"auto-close":e(a).autoClose,onClose:e(c)},null,8,["type","message","duration","auto-close","onClose"])):y("",!0),t[2]||(t[2]=n("h1",{class:"text-2xl font-bold text-purple-900 mb-4"},"Send Marketing Emails",-1)),n("form",{onSubmit:V(d,["prevent"])},[s(h,{placeholder:"Enter the subject",label:"Subject",modelValue:e(o).subject,"onUpdate:modelValue":t[0]||(t[0]=r=>e(o).subject=r)},null,8,["modelValue"]),s(A,{label:"Write the Email",modelValue:e(o).content,"onUpdate:modelValue":t[1]||(t[1]=r=>e(o).content=r)},null,8,["modelValue"]),s(B,{type:"submit"},{default:l(()=>[S(x(e(o).processing?"Sending...":"Send"),1)]),_:1})],32)]),_:1})])]),_:1})],64))}};export{Q as default};
