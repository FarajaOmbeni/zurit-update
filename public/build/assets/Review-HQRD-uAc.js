import{A as P}from"./AuthenticatedLayout-DXzMt5s0.js";import{b as i,o as n,a as e,k,d as a,u as l,m as S,w as m,P as x,h as c,t as r,F as p,i as g,f as d}from"./app-DbhbK2q6.js";import{_ as C,r as B}from"./Sidebar-D2vHAcKp.js";import{_ as D}from"./DashboardBackButton-BvDU2ocB.js";import{r as F}from"./BuildingOfficeIcon-B88_uSOc.js";import{r as L}from"./UserGroupIcon-BenVZ8M4.js";import{r as A}from"./BanknotesIcon-h1VoXTa5.js";import{r as $}from"./CalendarIcon-BSs0RhlS.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css                                                */import"./EllipsisHorizontalIcon-BV4IIAk_.js";import"./AcademicCapIcon-CJE000Hz.js";import"./UserIcon-DFPg27lq.js";import"./ChartBarIcon-DnGEu2FS.js";import"./HomeIcon-DDGfrN2Z.js";function N(u,y){return n(),i("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M10.125 2.25h-4.5c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125v-9M10.125 2.25h.375a9 9 0 0 1 9 9v.375M10.125 2.25A3.375 3.375 0 0 1 13.5 5.625v1.5c0 .621.504 1.125 1.125 1.125h1.5a3.375 3.375 0 0 1 3.375 3.375M9 15l2.25 2.25L15 12"})])}const R={class:"w-full text-gray-900"},T={class:"max-w-6xl mx-auto p-6"},V={class:"hidden md:flex items-center space-x-4 mb-8"},M={class:"grid gap-6 md:grid-cols-2"},q={class:"bg-white rounded-lg shadow-sm border p-6"},I={class:"flex items-center justify-between mb-4"},K={class:"flex items-center space-x-2"},G={class:"text-sm text-gray-600 mb-3"},O={class:"font-semibold text-gray-900"},U={class:"font-semibold text-gray-900"},z={key:0,class:"space-y-3 max-h-64 overflow-y-auto pr-1"},H={class:"font-medium text-gray-900"},J={class:"text-xs text-gray-500 mb-1"},Q={key:0,class:"text-xs text-gray-600"},W={class:"space-y-0.5"},X={class:"font-medium"},Y={key:1,class:"text-sm text-gray-500"},Z={class:"bg-white rounded-lg shadow-sm border p-6"},ee={class:"flex items-center justify-between mb-4"},te={class:"flex items-center space-x-2"},se={class:"text-sm text-gray-600 mb-3"},ie={class:"font-semibold text-gray-900"},ne={key:0,class:"space-y-3 max-h-64 overflow-y-auto pr-1"},re={class:"font-medium text-gray-900"},oe={class:"text-xs text-gray-500"},ae={key:0},le={key:1},de={key:2},ce={key:0,class:"text-xs text-gray-500"},ue={key:0},me={key:1},fe={key:1,class:"text-sm text-gray-500"},xe={class:"bg-white rounded-lg shadow-sm border p-6"},ye={class:"flex items-center justify-between mb-4"},pe={class:"flex items-center space-x-2"},ge={class:"text-sm text-gray-600 mb-3"},he={class:"font-semibold text-gray-900"},_e={key:0,class:"space-y-3 max-h-64 overflow-y-auto pr-1"},ve={class:"font-medium text-gray-900"},be={class:"text-xs text-gray-500"},we={key:0},ke={key:1},Ae={key:0,class:"text-xs text-gray-500"},Ne={key:0},je={key:1},Ee={key:1,class:"text-sm text-gray-500"},Pe={class:"bg-white rounded-lg shadow-sm border p-6"},Se={class:"flex items-center justify-between mb-4"},Ce={class:"flex items-center space-x-2"},Be={class:"text-sm text-gray-600 mb-3"},De={class:"font-semibold text-gray-900"},Fe={key:0,class:"space-y-3 max-h-64 overflow-y-auto pr-1"},Le={class:"font-medium text-gray-900"},$e={class:"text-xs text-gray-500"},Re={class:"text-xs text-gray-600 mt-1 space-y-1"},Te={key:0},Ve={class:"flex items-center space-x-4"},Me={key:0,class:"flex items-center space-x-1"},qe={key:1,class:"flex items-center space-x-1"},Ie={key:2,class:"flex items-center space-x-1"},Ke={key:1},Ge={key:1,class:"text-sm text-gray-500"},Oe={class:"flex justify-center pt-8 border-t mt-8"},Ue=["action"],ze=["value"],He={type:"submit",class:"bg-purple-600 hover:bg-purple-700 text-white font-bold py-3 px-8 rounded-lg flex items-center transition-colors duration-200 text-lg"},dt={__name:"Review",props:{assets:{type:Array,default:()=>[]},beneficiaries:{type:Array,default:()=>[]},fiduciaries:{type:[Object,Array,null],default:()=>null},insurances:{type:Array,default:()=>[]}},setup(u){var w;const y=u;function h(o){if(o==null||o==="")return"—";const t=Number(o)||0;return new Intl.NumberFormat("en-KE",{style:"currency",currency:"KES",minimumFractionDigits:0,maximumFractionDigits:0}).format(t)}function v(o){if(!o)return"Not specified";if(/^\d{4}-\d{2}-\d{2}$/.test(o)){const[t,s,f]=o.split("-").map(Number);return new Date(t,s-1,f).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}return new Date(o).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}function b(o){return(o.beneficiary_allocations||o.beneficiaryAllocations||[]).map(s=>{var f;return{id:s.id,beneficiary_name:(f=s.beneficiary)==null?void 0:f.full_name,percentage:s.percentage}}).filter(s=>s.beneficiary_name)}const j=k(()=>y.assets.reduce((o,t)=>o+(parseFloat(t.value)||0),0)),_=k(()=>Array.isArray(y.fiduciaries)?y.fiduciaries:y.fiduciaries?[y.fiduciaries]:[]),E=((w=document.querySelector('meta[name="csrf-token"]'))==null?void 0:w.getAttribute("content"))||"";return(o,t)=>(n(),i(p,null,[a(l(S),{title:"Review - Legacy & Estate Planning"}),a(P,null,{default:m(()=>[e("div",R,[a(C,null,{default:m(()=>[a(D),e("div",T,[t[26]||(t[26]=e("div",{class:"mb-8"},[e("h1",{class:"text-3xl font-bold text-gray-900 mb-2"},"Step 5: Review & Generate"),e("p",{class:"text-gray-600"},"Review your entries before generating your legacy pack.")],-1)),e("div",V,[a(l(x),{href:o.route("legacy.assets"),class:"flex items-center space-x-2"},{default:m(()=>t[0]||(t[0]=[e("div",{class:"w-8 h-8 bg-green-600 text-white rounded-full flex items-center justify-center text-sm font-medium"}," ✓",-1),e("span",{class:"text-green-600 font-medium"},"Assets",-1)])),_:1},8,["href"]),t[4]||(t[4]=e("div",{class:"w-12 h-px bg-green-600"},null,-1)),a(l(x),{href:o.route("legacy.beneficiaries"),class:"flex items-center space-x-2"},{default:m(()=>t[1]||(t[1]=[e("div",{class:"w-8 h-8 bg-green-600 text-white rounded-full flex items-center justify-center text-sm font-medium"}," ✓",-1),e("span",{class:"text-green-600 font-medium"},"Beneficiaries",-1)])),_:1},8,["href"]),t[5]||(t[5]=e("div",{class:"w-12 h-px bg-green-600"},null,-1)),a(l(x),{href:o.route("legacy.fiduciaries"),class:"flex items-center space-x-2"},{default:m(()=>t[2]||(t[2]=[e("div",{class:"w-8 h-8 bg-green-600 text-white rounded-full flex items-center justify-center text-sm font-medium"}," ✓",-1),e("span",{class:"text-green-600 font-medium"},"Fiduciaries",-1)])),_:1},8,["href"]),t[6]||(t[6]=e("div",{class:"w-12 h-px bg-green-600"},null,-1)),a(l(x),{href:o.route("legacy.insurance"),class:"flex items-center space-x-2"},{default:m(()=>t[3]||(t[3]=[e("div",{class:"w-8 h-8 bg-green-600 text-white rounded-full flex items-center justify-center text-sm font-medium"}," ✓",-1),e("span",{class:"text-green-600 font-medium"},"Insurance",-1)])),_:1},8,["href"]),t[7]||(t[7]=e("div",{class:"w-12 h-px bg-green-600"},null,-1)),t[8]||(t[8]=e("div",{class:"flex items-center space-x-2"},[e("div",{class:"bg-purple-500 w-8 h-8 text-white rounded-full flex items-center justify-center text-sm font-medium"}," 5"),e("span",{class:"text-purple-600 font-medium"},"Review")],-1))]),e("div",M,[e("section",q,[e("div",I,[e("div",K,[a(l(F),{class:"w-6 h-6 text-blue-600"}),t[9]||(t[9]=e("h2",{class:"text-lg font-semibold text-gray-900"},"Assets",-1))]),a(l(x),{href:o.route("legacy.assets"),class:"text-sm text-purple-700 hover:underline"},{default:m(()=>t[10]||(t[10]=[c(" Edit")])),_:1},8,["href"])]),e("div",G,[e("div",null,[t[11]||(t[11]=c("Total Asset Value: ")),e("span",O,r(h(j.value)),1)]),e("div",null,[t[12]||(t[12]=c("Assets Count: ")),e("span",U,r(u.assets.length),1)])]),u.assets.length?(n(),i("div",z,[(n(!0),i(p,null,g(u.assets,s=>(n(),i("div",{key:s.id,class:"border rounded p-3"},[e("div",H,r(s.name),1),e("div",J," Value: "+r(h(s.value))+" • Acquired: "+r(v(s.acquisition_date)),1),b(s).length?(n(),i("div",Q,[t[13]||(t[13]=e("div",{class:"font-semibold mb-1"},"Beneficiary Allocations",-1)),e("div",W,[(n(!0),i(p,null,g(b(s),f=>(n(),i("div",{key:f.id,class:"flex justify-between"},[e("span",null,r(f.beneficiary_name),1),e("span",X,r(f.percentage)+"%",1)]))),128))])])):d("",!0)]))),128))])):(n(),i("div",Y,"No assets added."))]),e("section",Z,[e("div",ee,[e("div",te,[a(l(L),{class:"w-6 h-6 text-emerald-600"}),t[14]||(t[14]=e("h2",{class:"text-lg font-semibold text-gray-900"},"Beneficiaries",-1))]),a(l(x),{href:o.route("legacy.beneficiaries"),class:"text-sm text-purple-700 hover:underline"},{default:m(()=>t[15]||(t[15]=[c("Edit")])),_:1},8,["href"])]),e("div",se,[e("div",null,[t[16]||(t[16]=c("Total Beneficiaries: ")),e("span",ie,r(u.beneficiaries.length),1)])]),u.beneficiaries.length?(n(),i("div",ne,[(n(!0),i(p,null,g(u.beneficiaries,s=>(n(),i("div",{key:s.id,class:"border rounded p-3"},[e("div",re,r(s.full_name),1),e("div",oe,[s.relationship?(n(),i("span",ae,"Relationship: "+r(s.relationship)+" • ",1)):d("",!0),s.is_minor?(n(),i("span",le,"Minor")):(n(),i("span",de,"Adult"))]),s.email||s.phone_number?(n(),i("div",ce,[s.email?(n(),i("span",ue,"Email: "+r(s.email)+" • ",1)):d("",!0),s.phone_number?(n(),i("span",me,"Phone: "+r(s.phone_number),1)):d("",!0)])):d("",!0)]))),128))])):(n(),i("div",fe,"No beneficiaries added."))]),e("section",xe,[e("div",ye,[e("div",pe,[a(l(B),{class:"w-6 h-6 text-orange-600"}),t[17]||(t[17]=e("h2",{class:"text-lg font-semibold text-gray-900"},"Fiduciaries (Companies)",-1))]),a(l(x),{href:o.route("legacy.fiduciaries"),class:"text-sm text-purple-700 hover:underline"},{default:m(()=>t[18]||(t[18]=[c("Edit")])),_:1},8,["href"])]),e("div",ge,[e("div",null,[t[19]||(t[19]=c("Total Companies: ")),e("span",he,r(_.value.length),1)])]),_.value.length?(n(),i("div",_e,[(n(!0),i(p,null,g(_.value,s=>(n(),i("div",{key:s.id||s.institution_name,class:"border rounded p-3"},[e("div",ve,r(s.institution_name),1),e("div",be,[s.institution_type?(n(),i("span",we,"Type: "+r(s.institution_type)+" • ",1)):d("",!0),s.contact_name?(n(),i("span",ke,"Contact: "+r(s.contact_name),1)):d("",!0)]),s.email||s.phone?(n(),i("div",Ae,[s.email?(n(),i("span",Ne,"Email: "+r(s.email)+" • ",1)):d("",!0),s.phone?(n(),i("span",je,"Phone: "+r(s.phone),1)):d("",!0)])):d("",!0)]))),128))])):(n(),i("div",Ee,"No fiduciary companies added."))]),e("section",Pe,[e("div",Se,[e("div",Ce,[a(l(N),{class:"w-6 h-6 text-indigo-600"}),t[20]||(t[20]=e("h2",{class:"text-lg font-semibold text-gray-900"},"Insurance & Pensions",-1))]),a(l(x),{href:o.route("legacy.insurance"),class:"text-sm text-purple-700 hover:underline"},{default:m(()=>t[21]||(t[21]=[c(" Edit")])),_:1},8,["href"])]),e("div",Be,[e("div",null,[t[22]||(t[22]=c("Total Policies: ")),e("span",De,r(u.insurances.length),1)])]),u.insurances.length?(n(),i("div",Fe,[(n(!0),i(p,null,g(u.insurances,s=>(n(),i("div",{key:s.id,class:"border rounded p-3"},[e("div",Le,[c(r(s.provider_name)+" ",1),e("span",$e,"("+r(s.type)+")",1)]),e("div",Re,[s.policy_number?(n(),i("div",Te,[t[23]||(t[23]=e("span",{class:"font-medium"},"Policy #:",-1)),c(" "+r(s.policy_number),1)])):d("",!0),e("div",Ve,[s.coverage_amount?(n(),i("div",Me,[a(l(A),{class:"w-4 h-4"}),e("span",null,"Coverage: "+r(h(s.coverage_amount)),1)])):d("",!0),s.premium_amount?(n(),i("div",qe,[a(l(A),{class:"w-4 h-4"}),e("span",null,"Premium: "+r(h(s.premium_amount)),1)])):d("",!0),s.renewal_date?(n(),i("div",Ie,[a(l($),{class:"w-4 h-4"}),e("span",null,"Renews: "+r(v(s.renewal_date)),1)])):d("",!0)]),s.notes?(n(),i("div",Ke,[t[24]||(t[24]=e("span",{class:"font-medium"},"Notes:",-1)),c(" "+r(s.notes),1)])):d("",!0)])]))),128))])):(n(),i("div",Ge,"No policies added."))])]),e("div",Oe,[e("form",{action:o.route("legacy.generate"),method:"POST",target:"_blank"},[e("input",{type:"hidden",name:"_token",value:l(E)},null,8,ze),e("button",He,[a(l(N),{class:"w-6 h-6 mr-3"}),t[25]||(t[25]=c(" Generate Legacy Pack "))])],8,Ue)])])]),_:1})])]),_:1})],64))}};export{dt as default};
