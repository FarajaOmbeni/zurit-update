import{r as P,C as R,c as l,o as a,b as c,u as o,m as S,w as x,a as e,f as u,g as D,j as b,v as y,t as i,h,F as p,i as v,P as w,e as M,n as V}from"./app-fxmBWGe2.js";import{_ as j}from"./MSMESidebar-BmKiEpOw.js";import{u as G}from"./useFormatCurrency-Dh16EV-S.js";import{f as _}from"./useDateFormat-pjOuPPEs.js";import"./CalendarDaysIcon-BzkDGoCQ.js";import"./CalculatorIcon-BGkQPWED.js";import"./DocumentTextIcon--WA-hwoy.js";import"./ChartBarIcon-oOgODwEd.js";import"./HomeIcon-J53tI-Ff.js";const z={class:"py-6"},B={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},F={key:0,class:"bg-white overflow-hidden shadow-sm sm:rounded-lg mb-6"},T={class:"p-6"},N={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},H={key:0,class:"mt-1 text-sm text-red-600"},I={key:0,class:"mt-1 text-sm text-red-600"},O={class:"flex justify-end space-x-3 pt-4"},Y=["disabled"],q={key:0,class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24"},A={key:1,class:"bg-white overflow-hidden shadow-sm sm:rounded-lg mb-6"},E={class:"p-6"},U={class:"space-y-4"},$={class:"flex items-center"},J={class:"text-sm text-gray-600"},K={class:"text-sm text-gray-500"},Q={class:"flex space-x-2"},W=["onClick"],X={key:2,class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},Z={key:3,class:"mt-6"},ee={class:"flex items-center justify-between"},te={class:"text-sm text-gray-700"},se={class:"flex space-x-1"},pe={__name:"Index",props:{profitLossRecords:Object},setup(d){const{formatCurrency:k}=G(),m=P(!1),r=R({start_date:"",end_date:""}),f=()=>{m.value=!0;const n=new Date,t=new Date(n.getFullYear(),n.getMonth(),1),s=new Date(n.getFullYear(),n.getMonth()+1,0);r.start_date=t.toISOString().split("T")[0],r.end_date=s.toISOString().split("T")[0]},g=()=>{m.value=!1,r.reset()},L=()=>{r.post(route("profit-loss.generate"),{onSuccess:()=>{g()}})},C=n=>{confirm("Are you sure you want to delete this P&L record?")&&r.delete(route("profit-loss.destroy",n))};return(n,t)=>(a(),l(p,null,[c(o(S),{title:"Profit & Loss Records"}),c(j,{title:"Profit & Loss Records"},{default:x(()=>[e("div",z,[e("div",B,[e("div",{class:"bg-white overflow-hidden shadow-sm sm:rounded-lg mb-6"},[e("div",{class:"p-6"},[e("div",{class:"flex flex-col md:flex-row justify-between items-start md:items-center"},[t[2]||(t[2]=e("div",null,[e("h1",{class:"text-3xl font-bold text-gray-900"}," Profit & Loss Records "),e("p",{class:"text-gray-600 mt-2"}," Track your business profitability over time ")],-1)),e("div",{class:"mt-4 md:mt-0"},[e("button",{onClick:f,class:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg transition-colors"}," Generate P&L Statement ")])])])]),m.value?(a(),l("div",F,[e("div",T,[t[6]||(t[6]=e("h3",{class:"text-lg font-semibold text-gray-900 mb-4"}," Generate Profit & Loss Statement ",-1)),e("form",{onSubmit:D(L,["prevent"]),class:"space-y-4"},[e("div",N,[e("div",null,[t[3]||(t[3]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Start Date *",-1)),b(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>o(r).start_date=s),type:"date",required:"",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-purple-500 focus:ring-purple-500"},null,512),[[y,o(r).start_date]]),o(r).errors.start_date?(a(),l("p",H,i(o(r).errors.start_date),1)):u("",!0)]),e("div",null,[t[4]||(t[4]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"End Date *",-1)),b(e("input",{"onUpdate:modelValue":t[1]||(t[1]=s=>o(r).end_date=s),type:"date",required:"",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-purple-500 focus:ring-purple-500"},null,512),[[y,o(r).end_date]]),o(r).errors.end_date?(a(),l("p",I,i(o(r).errors.end_date),1)):u("",!0)])]),e("div",O,[e("button",{onClick:g,type:"button",class:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500"}," Cancel "),e("button",{type:"submit",disabled:o(r).processing,class:"px-4 py-2 bg-purple-600 border border-transparent rounded-md text-sm font-medium text-white hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 disabled:opacity-50"},[o(r).processing?(a(),l("svg",q,t[5]||(t[5]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):u("",!0),h(" "+i(o(r).processing?"Generating...":"Generate P&L"),1)],8,Y)])],32)])])):u("",!0),d.profitLossRecords.data.length>0?(a(),l("div",A,[e("div",E,[t[10]||(t[10]=e("h3",{class:"text-lg font-semibold text-gray-900 mb-4"}," Profit & Loss Records ",-1)),e("div",U,[(a(!0),l(p,null,v(d.profitLossRecords.data,s=>(a(),l("div",{key:s.id,class:"flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:bg-gray-50"},[e("div",$,[t[8]||(t[8]=e("div",{class:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center mr-4"},[e("svg",{class:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})])],-1)),e("div",null,[t[7]||(t[7]=e("p",{class:"font-medium text-gray-900"}," P&L Statement ",-1)),e("p",J,i(o(_)(s.period_start))+" - "+i(o(_)(s.period_end)),1),e("p",K," Net Profit: "+i(o(k)(s.net_profit)),1)])]),e("div",Q,[c(o(w),{href:n.route("profit-loss.show",s.id),class:"text-blue-600 hover:text-blue-800 text-sm"},{default:x(()=>t[9]||(t[9]=[h(" View Details ")])),_:2},1032,["href"]),e("button",{onClick:oe=>C(s.id),class:"text-red-600 hover:text-red-800 text-sm"}," Delete ",8,W)])]))),128))])])])):(a(),l("div",X,[e("div",{class:"p-12 text-center"},[t[11]||(t[11]=e("svg",{class:"w-16 h-16 mx-auto mb-4 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})],-1)),t[12]||(t[12]=e("h3",{class:"text-lg font-medium text-gray-900 mb-2"}," No Profit & Loss Records ",-1)),t[13]||(t[13]=e("p",{class:"text-gray-600 mb-6"}," Generate your first P&L statement to track your business profitability. ",-1)),e("button",{onClick:f,class:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg transition-colors"}," Generate Your First P&L Statement ")])])),d.profitLossRecords.last_page>1?(a(),l("div",Z,[e("div",ee,[e("div",te," Showing "+i(d.profitLossRecords.from)+" to "+i(d.profitLossRecords.to)+" of "+i(d.profitLossRecords.total)+" results ",1),e("div",se,[(a(!0),l(p,null,v(d.profitLossRecords.links,s=>(a(),M(o(w),{key:s.label,href:s.url,innerHTML:s.label,class:V(["px-3 py-2 text-sm border rounded",s.active?"bg-purple-600 text-white border-purple-600":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"])},null,8,["href","innerHTML","class"]))),128))])])])):u("",!0)])])]),_:1})],64))}};export{pe as default};
