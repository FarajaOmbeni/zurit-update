import{C as Q,c as y,o as n,w as q,a as e,f as u,g as $,j as m,b as l,u as r,F as b,i as h,t as a,k as M,v as p,h as x,p as V}from"./app-GePGUUcz.js";import{_ as S}from"./AdminSidebar-Is2VHv9q.js";import"./useAlert-CO_JQe5p.js";import{_ as j}from"./Alert-Cp3GN3iZ.js";import"./EllipsisHorizontalIcon-Cdv5zwCw.js";import"./UserIcon-CWB9dVo6.js";import"./CalendarDaysIcon-DuxoKe53.js";const A={class:"px-4 sm:px-6 lg:px-8"},B={class:"sm:flex sm:items-center"},U={class:"mt-4 sm:mt-0 sm:ml-16 sm:flex-none"},E={class:"bg-white shadow rounded-lg p-6"},N={class:"grid grid-cols-1 gap-6"},T=["value"],D={key:0,class:"mt-1 text-sm text-red-600"},H={key:0,class:"mt-1 text-sm text-red-600"},L={key:0,class:"mt-1 text-sm text-red-600"},F={class:"bg-white shadow rounded-lg p-6"},O={key:0,class:"text-center py-8"},R={key:1,class:"space-y-6"},G={class:"flex items-center justify-between mb-4"},J={class:"text-md font-medium text-gray-900"},K=["onClick"],P={class:"mb-4"},W=["for"],X=["id","onUpdate:modelValue"],Y={key:0,class:"mt-1 text-sm text-red-600"},Z={class:"mb-4"},I={class:"flex items-center justify-between mb-2"},ee=["onClick"],te={class:"space-y-2"},se=["name","value","onUpdate:modelValue"],oe=["onUpdate:modelValue"],re=["onClick"],ie={key:0,class:"mt-1 text-sm text-red-600"},ne={key:1,class:"mt-1 text-sm text-red-600"},le={class:"flex justify-end space-x-3"},de=["disabled"],ue={key:0,class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},he={__name:"Create",props:{subCourses:Array},setup(v){const s=Q({subcourse_id:"",title:"",description:"",questions:[]}),w=()=>{s.questions.push({question:"",choices:[{choice:""},{choice:""}],correct_choice:0})},k=i=>{s.questions.splice(i,1)},_=i=>{s.questions[i].choices.push({choice:""})},C=(i,t)=>{s.questions[i].choices.splice(t,1);const o=s.questions[i];o.correct_choice>=o.choices.length?o.correct_choice=o.choices.length-1:o.correct_choice>=t&&(o.correct_choice=Math.max(0,o.correct_choice-1))},z=()=>{s.post(route("admin.quizzes.store"),{preserveScroll:!0,onSuccess:()=>{openAlert("success","Quiz created successfully",5e3),s.reset()},onError:i=>{const t=Object.values(i).flat().join(" ");console.log(t),openAlert("danger",t,5e3)}})};return(i,t)=>(n(),y(S,{title:"Create Quiz"},{default:q(()=>[e("div",A,[i.alertState?(n(),y(j,{key:0,type:i.alertState.type,message:i.alertState.message,duration:i.alertState.duration,"auto-close":i.alertState.autoClose,onClose:i.clearAlert},null,8,["type","message","duration","auto-close","onClose"])):u("",!0),e("div",B,[t[5]||(t[5]=e("div",{class:"sm:flex-auto"},[e("h1",{class:"text-xl font-semibold text-gray-900"},"Create Quiz"),e("p",{class:"mt-2 text-sm text-gray-700"},"Add a new quiz for a sub-course")],-1)),e("div",U,[e("button",{type:"button",onClick:t[0]||(t[0]=o=>i.$inertia.visit(i.route("admin.quizzes.index"))),class:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"}," Back to Quizzes ")])]),e("form",{onSubmit:$(z,["prevent"]),class:"mt-8 space-y-8"},[e("div",E,[t[10]||(t[10]=e("h3",{class:"text-lg font-medium text-gray-900 mb-6"},"Quiz Information",-1)),e("div",N,[e("div",null,[t[7]||(t[7]=e("label",{for:"subcourse_id",class:"block text-sm font-medium text-gray-700 mb-2"}," Select Sub-Course * ",-1)),m(e("select",{id:"subcourse_id","onUpdate:modelValue":t[1]||(t[1]=o=>r(s).subcourse_id=o),class:"w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500",required:""},[t[6]||(t[6]=e("option",{value:""},"Choose a sub-course",-1)),(n(!0),l(b,null,h(v.subCourses,o=>(n(),l("option",{key:o.id,value:o.id},a(o.full_title),9,T))),128))],512),[[M,r(s).subcourse_id]]),r(s).errors.subcourse_id?(n(),l("p",D,a(r(s).errors.subcourse_id),1)):u("",!0)]),e("div",null,[t[8]||(t[8]=e("label",{for:"title",class:"block text-sm font-medium text-gray-700 mb-2"}," Quiz Title * ",-1)),m(e("input",{type:"text",id:"title","onUpdate:modelValue":t[2]||(t[2]=o=>r(s).title=o),class:"w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Enter quiz title",required:""},null,512),[[p,r(s).title]]),r(s).errors.title?(n(),l("p",H,a(r(s).errors.title),1)):u("",!0)]),e("div",null,[t[9]||(t[9]=e("label",{for:"description",class:"block text-sm font-medium text-gray-700 mb-2"}," Quiz Description ",-1)),m(e("textarea",{id:"description","onUpdate:modelValue":t[3]||(t[3]=o=>r(s).description=o),rows:"3",class:"w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Enter quiz description (optional)"},null,512),[[p,r(s).description]]),r(s).errors.description?(n(),l("p",L,a(r(s).errors.description),1)):u("",!0)])])]),e("div",F,[e("div",{class:"flex items-center justify-between mb-6"},[t[12]||(t[12]=e("h3",{class:"text-lg font-medium text-gray-900"},"Quiz Questions",-1)),e("button",{type:"button",onClick:w,class:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"},t[11]||(t[11]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),x(" Add Question ")]))]),r(s).questions.length===0?(n(),l("div",O,t[13]||(t[13]=[e("div",{class:"text-gray-400"},[e("svg",{class:"mx-auto h-12 w-12 text-gray-300 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]),e("h3",{class:"text-lg font-medium text-gray-900 mb-2"},"No questions added yet"),e("p",{class:"text-sm text-gray-500"},'Click "Add Question" to start building your quiz.')],-1)]))):(n(),l("div",R,[(n(!0),l(b,null,h(r(s).questions,(o,d)=>(n(),l("div",{key:d,class:"border border-gray-200 rounded-lg p-6 bg-gray-50"},[e("div",G,[e("h4",J," Question "+a(d+1),1),e("button",{type:"button",onClick:c=>k(d),class:"text-red-600 hover:text-red-800"},t[14]||(t[14]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)]),8,K)]),e("div",P,[e("label",{for:"question-"+d,class:"block text-sm font-medium text-gray-700 mb-2"}," Question Text * ",8,W),m(e("textarea",{id:"question-"+d,"onUpdate:modelValue":c=>o.question=c,rows:"3",class:"w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Enter your question",required:""},null,8,X),[[p,o.question]]),r(s).errors[`questions.${d}.question`]?(n(),l("p",Y,a(r(s).errors[`questions.${d}.question`]),1)):u("",!0)]),e("div",Z,[e("div",I,[t[15]||(t[15]=e("label",{class:"block text-sm font-medium text-gray-700"}," Answer Choices * ",-1)),e("button",{type:"button",onClick:c=>_(d),class:"text-sm text-indigo-600 hover:text-indigo-800"}," + Add Choice ",8,ee)]),e("div",te,[(n(!0),l(b,null,h(o.choices,(c,f)=>(n(),l("div",{key:f,class:"flex items-center space-x-3"},[m(e("input",{type:"radio",name:"correct-"+d,value:f,"onUpdate:modelValue":g=>o.correct_choice=g,class:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300"},null,8,se),[[V,o.correct_choice]]),m(e("input",{type:"text","onUpdate:modelValue":g=>c.choice=g,class:"flex-1 border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Enter choice text",required:""},null,8,oe),[[p,c.choice]]),o.choices.length>2?(n(),l("button",{key:0,type:"button",onClick:g=>C(d,f),class:"text-red-600 hover:text-red-800"},t[16]||(t[16]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]),8,re)):u("",!0)]))),128))]),r(s).errors[`questions.${d}.choices`]?(n(),l("p",ie,a(r(s).errors[`questions.${d}.choices`]),1)):u("",!0),r(s).errors[`questions.${d}.correct_choice`]?(n(),l("p",ne,a(r(s).errors[`questions.${d}.correct_choice`]),1)):u("",!0)])]))),128))]))]),e("div",le,[e("button",{type:"button",onClick:t[4]||(t[4]=o=>i.$inertia.visit(i.route("admin.quizzes.index"))),class:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"}," Cancel "),e("button",{type:"submit",disabled:r(s).processing,class:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50"},[r(s).processing?(n(),l("svg",ue,t[17]||(t[17]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):u("",!0),x(" "+a(r(s).processing?"Creating Quiz...":"Create Quiz"),1)],8,de)])],32)])]),_:1}))}};export{he as default};
