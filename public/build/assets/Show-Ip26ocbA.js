import{r as k,C as j,c as r,o as a,b as p,u as o,m as C,w as v,a as s,f as h,t as i,P,h as E,n as m,g as N,j as M,v as D,F as S}from"./app-CJE-g-JS.js";import{_ as V}from"./MSMESidebar-Cx7ClbH4.js";import{u as F}from"./useFormatCurrency-Dh16EV-S.js";import{f as w}from"./useDateFormat-pjOuPPEs.js";import"./CalendarDaysIcon-DZN4CyZT.js";import"./CalculatorIcon-DaRwWX0A.js";import"./DocumentTextIcon-Cej3HLZo.js";import"./ChartBarIcon-jvEio8lC.js";import"./HomeIcon-ClfSRQHe.js";const B={key:0,class:"py-6"},O={key:1},G={class:"py-6"},T={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},z={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg mb-6"},A={class:"p-6"},I={class:"flex flex-col md:flex-row justify-between items-start md:items-center"},U={class:"text-gray-600 mt-2"},$={class:"mt-4 md:mt-0 flex space-x-3"},H={class:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6"},q={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},J={class:"p-6"},K={class:"flex items-center"},Q={class:"ml-4"},W={class:"text-2xl font-semibold text-gray-900"},X={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},Y={class:"p-6"},Z={class:"flex items-center"},ss={class:"ml-4"},ts={class:"text-2xl font-semibold text-gray-900"},es={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},os={class:"p-6"},is={class:"flex items-center"},ds={class:"ml-4"},ns={class:"text-2xl font-semibold text-gray-900"},ls={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},rs={class:"p-6"},as={class:"flex items-center"},cs={class:"flex-shrink-0"},ms={class:"ml-4"},fs={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg mb-6"},xs={class:"p-6"},ps={class:"space-y-4"},gs={class:"border-b pb-4"},us={class:"flex justify-between"},bs={class:"font-semibold"},vs={class:"border-b pb-4"},hs={class:"flex justify-between"},ws={class:"font-semibold"},ys={class:"flex justify-between mt-2"},_s={class:"font-semibold text-green-600"},Ls={class:"border-b pb-4"},Rs={class:"flex justify-between"},ks={class:"font-semibold"},js={class:"border-b pb-4"},Cs={class:"flex justify-between"},Ps={class:"font-semibold"},Es={class:"flex justify-between"},Ns={class:"font-semibold"},Ms={class:"flex justify-between"},Ds={class:"font-semibold"},Ss={class:"flex justify-between"},Vs={class:"font-semibold"},Fs={class:"flex justify-between"},Bs={class:"font-semibold"},Os={class:"flex justify-between"},Gs={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg mb-6"},Ts={class:"p-6"},zs={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},As={class:"text-center"},Is={class:"text-2xl font-semibold text-gray-900"},Us={class:"text-center"},$s={class:"text-2xl font-semibold text-gray-900"},Hs={class:"text-center"},qs={class:"text-2xl font-semibold text-gray-900"},Js={key:0,class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},Ks={class:"p-6"},Qs={class:"text-gray-700 whitespace-pre-wrap"},Ws={key:0,class:"fixed inset-0 z-50 overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true"},Xs={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},Ys={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},Zs={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},st={class:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},tt=["disabled"],mt={__name:"Show",props:{profitLossRecord:Object},setup(e){const n=e;console.log("ProfitLossRecord data:",n.profitLossRecord);const{formatCurrency:d}=F(),f=k(!1),l=j({notes:n.profitLossRecord.notes||""}),y=()=>{f.value=!0,l.notes=n.profitLossRecord.notes||""},x=()=>{f.value=!1},g=()=>{l.put(route("profit-loss.update",n.profitLossRecord.id),{onSuccess:()=>{x()}})},_=()=>{const c=`/msme/profit-loss/${n.profitLossRecord.id}/download/pdf`;window.open(c,"_blank")},L=()=>{const c=`/msme/profit-loss/${n.profitLossRecord.id}/download/excel`;window.open(c,"_blank")};return(c,t)=>(a(),r(S,null,[p(o(C),{title:"Profit & Loss Statement Details"}),p(V,{title:"Profit & Loss Statement Details"},{default:v(()=>{var u,b;return[e.profitLossRecord?(a(),r("div",O,[s("div",G,[s("div",T,[s("div",z,[s("div",A,[s("div",I,[s("div",null,[t[2]||(t[2]=s("h1",{class:"text-3xl font-bold text-gray-900"}," Profit & Loss Statement ",-1)),s("p",U,i((u=e.profitLossRecord)!=null&&u.period_start?o(w)(e.profitLossRecord.period_start):"N/A")+" - "+i((b=e.profitLossRecord)!=null&&b.period_end?o(w)(e.profitLossRecord.period_end):"N/A"),1)]),s("div",$,[p(o(P),{href:c.route("profit-loss.index"),class:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg transition-colors"},{default:v(()=>t[3]||(t[3]=[E(" Back to Records ")])),_:1},8,["href"]),s("button",{onClick:_,class:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg transition-colors"}," Download PDF "),s("button",{onClick:L,class:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg transition-colors"}," Download Excel "),s("button",{onClick:y,class:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors"}," Edit Notes ")])])])]),s("div",H,[s("div",q,[s("div",J,[s("div",K,[t[5]||(t[5]=s("div",{class:"flex-shrink-0"},[s("div",{class:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center"},[s("svg",{class:"w-4 h-4 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})])])],-1)),s("div",Q,[t[4]||(t[4]=s("p",{class:"text-sm font-medium text-gray-500"}," Total Revenue ",-1)),s("p",W,i(o(d)(e.profitLossRecord.revenue)),1)])])])]),s("div",X,[s("div",Y,[s("div",Z,[t[7]||(t[7]=s("div",{class:"flex-shrink-0"},[s("div",{class:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center"},[s("svg",{class:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})])])],-1)),s("div",ss,[t[6]||(t[6]=s("p",{class:"text-sm font-medium text-gray-500"}," Gross Profit ",-1)),s("p",ts,i(o(d)(e.profitLossRecord.gross_profit)),1)])])])]),s("div",es,[s("div",os,[s("div",is,[t[9]||(t[9]=s("div",{class:"flex-shrink-0"},[s("div",{class:"w-8 h-8 bg-red-100 rounded-full flex items-center justify-center"},[s("svg",{class:"w-4 h-4 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 14l-7 7m0 0l-7-7m7 7V3"})])])],-1)),s("div",ds,[t[8]||(t[8]=s("p",{class:"text-sm font-medium text-gray-500"}," Operating Expenses ",-1)),s("p",ns,i(o(d)(e.profitLossRecord.operating_expenses)),1)])])])]),s("div",ls,[s("div",rs,[s("div",as,[s("div",cs,[s("div",{class:m(["w-8 h-8 rounded-full flex items-center justify-center",e.profitLossRecord.net_profit>=0?"bg-green-100":"bg-red-100"])},[(a(),r("svg",{class:m(["w-4 h-4",e.profitLossRecord.net_profit>=0?"text-green-600":"text-red-600"]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},t[10]||(t[10]=[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"},null,-1)]),2))],2)]),s("div",ms,[t[11]||(t[11]=s("p",{class:"text-sm font-medium text-gray-500"}," Net Profit ",-1)),s("p",{class:m(["text-2xl font-semibold",e.profitLossRecord.net_profit>=0?"text-green-600":"text-red-600"])},i(o(d)(e.profitLossRecord.net_profit)),3)])])])])]),s("div",fs,[s("div",xs,[t[26]||(t[26]=s("h3",{class:"text-lg font-semibold text-gray-900 mb-4"}," Detailed Profit & Loss Statement ",-1)),s("div",ps,[s("div",gs,[t[13]||(t[13]=s("h4",{class:"font-medium text-gray-900 mb-2"}," Revenue ",-1)),s("div",us,[t[12]||(t[12]=s("span",{class:"text-gray-600"},"Total Revenue",-1)),s("span",bs,i(o(d)(e.profitLossRecord.revenue)),1)])]),s("div",vs,[t[16]||(t[16]=s("h4",{class:"font-medium text-gray-900 mb-2"}," Cost of Goods Sold ",-1)),s("div",hs,[t[14]||(t[14]=s("span",{class:"text-gray-600"},"Cost of Goods Sold",-1)),s("span",ws,i(o(d)(e.profitLossRecord.cost_of_goods_sold)),1)]),s("div",ys,[t[15]||(t[15]=s("span",{class:"font-medium text-gray-900"},"Gross Profit",-1)),s("span",_s,i(o(d)(e.profitLossRecord.gross_profit)),1)])]),s("div",Ls,[t[18]||(t[18]=s("h4",{class:"font-medium text-gray-900 mb-2"}," Operating Expenses ",-1)),s("div",Rs,[t[17]||(t[17]=s("span",{class:"text-gray-600"},"Operating Expenses",-1)),s("span",ks,i(o(d)(e.profitLossRecord.operating_expenses)),1)])]),s("div",js,[t[24]||(t[24]=s("h4",{class:"font-medium text-gray-900 mb-2"}," Other Income & Expenses ",-1)),s("div",Cs,[t[19]||(t[19]=s("span",{class:"text-gray-600"},"Other Income",-1)),s("span",Ps,i(o(d)(e.profitLossRecord.other_income)),1)]),s("div",Es,[t[20]||(t[20]=s("span",{class:"text-gray-600"},"Other Expenses",-1)),s("span",Ns,i(o(d)(e.profitLossRecord.other_expenses)),1)]),s("div",Ms,[t[21]||(t[21]=s("span",{class:"text-gray-600"},"Depreciation",-1)),s("span",Ds,i(o(d)(e.profitLossRecord.depreciation||0)),1)]),s("div",Ss,[t[22]||(t[22]=s("span",{class:"text-gray-600"},"Interest Expense",-1)),s("span",Vs,i(o(d)(e.profitLossRecord.interest_expense)),1)]),s("div",Fs,[t[23]||(t[23]=s("span",{class:"text-gray-600"},"Tax Expense",-1)),s("span",Bs,i(o(d)(e.profitLossRecord.tax_expense)),1)])]),s("div",null,[s("div",Os,[t[25]||(t[25]=s("span",{class:"font-bold text-lg text-gray-900"},"Net Profit",-1)),s("span",{class:m(["font-bold text-lg",e.profitLossRecord.net_profit>=0?"text-green-600":"text-red-600"])},i(o(d)(e.profitLossRecord.net_profit)),3)])])])])]),s("div",Gs,[s("div",Ts,[t[30]||(t[30]=s("h3",{class:"text-lg font-semibold text-gray-900 mb-4"}," Profitability Ratios ",-1)),s("div",zs,[s("div",As,[t[27]||(t[27]=s("p",{class:"text-sm text-gray-600"}," Gross Profit Margin ",-1)),s("p",Is,i(e.profitLossRecord.gross_profit_margin.toFixed(1))+"% ",1)]),s("div",Us,[t[28]||(t[28]=s("p",{class:"text-sm text-gray-600"}," Operating Margin ",-1)),s("p",$s,i(e.profitLossRecord.operating_margin.toFixed(1))+"% ",1)]),s("div",Hs,[t[29]||(t[29]=s("p",{class:"text-sm text-gray-600"}," Net Profit Margin ",-1)),s("p",qs,i(e.profitLossRecord.net_profit_margin.toFixed(1))+"% ",1)])])])]),e.profitLossRecord.notes?(a(),r("div",Js,[s("div",Ks,[t[31]||(t[31]=s("h3",{class:"text-lg font-semibold text-gray-900 mb-4"}," Notes ",-1)),s("p",Qs,i(e.profitLossRecord.notes),1)])])):h("",!0)])]),f.value?(a(),r("div",Ws,[s("div",Xs,[s("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:x}),t[34]||(t[34]=s("span",{class:"hidden sm:inline-block sm:align-middle sm:h-screen"},"â€‹",-1)),s("div",Ys,[s("div",Zs,[t[33]||(t[33]=s("h3",{class:"text-lg leading-6 font-medium text-gray-900 mb-4"}," Edit Notes ",-1)),s("form",{onSubmit:N(g,["prevent"]),class:"space-y-4"},[s("div",null,[t[32]||(t[32]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Notes",-1)),M(s("textarea",{"onUpdate:modelValue":t[0]||(t[0]=R=>o(l).notes=R),rows:"4",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-purple-500 focus:ring-purple-500",placeholder:"Add any notes about this P&L statement..."},null,512),[[D,o(l).notes]])])],32)]),s("div",st,[s("button",{onClick:g,disabled:o(l).processing,type:"button",class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-purple-600 text-base font-medium text-white hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50"},i(o(l).processing?"Updating...":"Update Notes"),9,tt),s("button",{onClick:x,type:"button",class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm"}," Cancel ")])])])])):h("",!0)])):(a(),r("div",B,t[1]||(t[1]=[s("div",{class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},[s("div",{class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},[s("div",{class:"p-6"},[s("h1",{class:"text-2xl font-bold text-gray-900"}," Loading... "),s("p",{class:"text-gray-600 mt-2"}," Please wait while we load the Profit & Loss statement. ")])])],-1)])))]}),_:1})],64))}};export{mt as default};
