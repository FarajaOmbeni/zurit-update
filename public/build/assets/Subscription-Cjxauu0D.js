import{A as P,C as g,k as h,b as n,o as l,d as f,u as s,m as M,w as v,c as R,f as u,a as e,h as a,t as d,n as m,j as w,q as S,F as V}from"./app-DbhbK2q6.js";import{_ as Y}from"./Sidebar-D2vHAcKp.js";import{A as B}from"./AuthenticatedLayout-DXzMt5s0.js";import{u as D}from"./useAlert-1RyE7ENl.js";import{_ as F}from"./Alert-CYRSj8U_.js";/* empty css                                                */import"./EllipsisHorizontalIcon-BV4IIAk_.js";import"./AcademicCapIcon-CJE000Hz.js";import"./UserIcon-DFPg27lq.js";import"./ChartBarIcon-DnGEu2FS.js";import"./HomeIcon-DDGfrN2Z.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const N={class:"min-h-screen flex items-center justify-center px-4 py-10"},T={key:0,class:"w-full max-w-lg bg-gradient-to-br from-green-800 via-green-700 to-green-600 text-white rounded-2xl shadow-2xl p-8 md:p-10 text-center"},O={class:"bg-white/10 rounded-lg p-4 mb-6"},L={class:"space-y-2 text-sm"},U={class:"flex justify-between"},$={class:"font-medium capitalize"},z={class:"flex justify-between"},G={class:"font-medium"},q={key:0,class:"flex justify-between"},H={class:"font-medium"},W={class:"space-y-3"},I=["href"],J={key:1,class:"w-full max-w-lg bg-gradient-to-br from-purple-800 via-purple-700 to-purple-600 text-white rounded-2xl shadow-2xl p-8 md:p-10 text-center"},Q={class:"text-lg md:text-xl mb-6 text-white/90"},X={class:"mb-8"},Z={class:"space-y-3"},ee={key:0,class:"ml-4"},te={key:0,class:"ml-4"},se=["disabled"],oe={class:"mt-3 text-sm text-white/80"},xe={__name:"Subscription",setup(le){const{alertState:p,openAlert:c,clearAlert:k}=D(),x=P(),_=x.props.auth.user||{},i=x.props.auth.subscription||{},o=g({package:"monthly"}),j={monthly:{price:500,duration:"1 month",label:"Monthly Subscription"},yearly:{price:4500,duration:"12 months",label:"Yearly Subscription",savings:"Save KES 1,500!"}},E=h(()=>i.is_active),y=h(()=>i.expires_at?new Date(i.expires_at).toLocaleDateString():null);function C(){o.post(route("subscribe"),{onSuccess:()=>{c("success","Redirecting to secure payment page...",3e3)},onError:r=>{const t=Object.values(r).flat().join(" ");c("danger",t,5e3)}})}function A(){confirm("Are you sure you want to cancel your subscription? You will still have access until your current period expires.")&&g().post(route("subscription.cancel"),{onSuccess:()=>{c("success","Subscription cancelled successfully",5e3),window.location.reload()},onError:r=>{const t=Object.values(r).flat().join(" ");c("danger",t,5e3)}})}function K(){g().post(route("subscription.reactivate"),{onSuccess:()=>{c("success","Subscription reactivated successfully",5e3),window.location.reload()},onError:r=>{const t=Object.values(r).flat().join(" ");c("danger",t,5e3)}})}return(r,t)=>(l(),n(V,null,[f(s(M),{title:"Subscribe to Prosperity Tools"}),f(B,null,{default:v(()=>[f(Y,null,{default:v(()=>[s(p)?(l(),R(F,{key:0,type:s(p).type,message:s(p).message,duration:s(p).duration,"auto-close":s(p).autoClose,onClose:s(k)},null,8,["type","message","duration","auto-close","onClose"])):u("",!0),e("div",N,[E.value?(l(),n("div",T,[t[6]||(t[6]=e("div",{class:"mb-6"},[e("div",{class:"w-16 h-16 bg-white rounded-full flex items-center justify-center mx-auto mb-4"},[e("svg",{class:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})])]),e("h1",{class:"text-3xl font-extrabold leading-tight mb-2"}," ðŸŽ‰ You're All Set! "),e("p",{class:"text-lg text-white/90"},[a(" Welcome to the "),e("span",{class:"text-yellow-300 font-semibold"},"Prosperity Tools")])],-1)),e("div",O,[t[5]||(t[5]=e("h3",{class:"text-lg font-semibold mb-3"},"Your Subscription",-1)),e("div",L,[e("div",U,[t[2]||(t[2]=e("span",null,"Plan:",-1)),e("span",$,d(s(i).package||"Active"),1)]),e("div",z,[t[3]||(t[3]=e("span",null,"Status:",-1)),e("span",G,d(s(i).status==="active"?"Active":s(i).status),1)]),y.value?(l(),n("div",q,[t[4]||(t[4]=e("span",null,"Expires:",-1)),e("span",H,d(y.value),1)])):u("",!0)])]),e("div",W,[e("a",{href:r.route("budget.index"),class:"block w-full py-3 px-6 bg-white text-green-800 font-semibold rounded-full shadow hover:bg-gray-100 transition"}," ðŸš€ Go to Dashboard ",8,I),s(i).status==="active"?(l(),n("button",{key:0,onClick:A,class:"w-full py-2 px-6 border border-white/50 text-white font-medium rounded-full hover:bg-white/10 transition"}," Cancel Subscription ")):u("",!0),s(i).status==="cancelled"?(l(),n("button",{key:1,onClick:K,class:"w-full py-3 px-6 bg-yellow-500 text-green-800 font-semibold rounded-full shadow hover:bg-yellow-400 transition"}," Reactivate Subscription ")):u("",!0)])])):(l(),n("div",J,[t[12]||(t[12]=e("h1",{class:"text-4xl font-extrabold leading-tight mb-3"},[a(" Unlock "),e("span",{class:"text-yellow-300"},"ProsperityÂ Tools")],-1)),e("p",Q," Hey "+d(s(_).name||"friend")+"! Ready to level-up your finances? Our Prosperity Toolkit gives you budgeting, investment and debt dashboardsâ€”everything you need to grow with confidence. ",1),t[13]||(t[13]=e("ul",{class:"space-y-2 text-left mb-8"},[e("li",{class:"flex items-start gap-2"},[e("span",{class:"text-green-300"},"âœ”"),a(" Real-time budget insights")]),e("li",{class:"flex items-start gap-2"},[e("span",{class:"text-green-300"},"âœ”"),a(" Smart debt-payoff planner")]),e("li",{class:"flex items-start gap-2"},[e("span",{class:"text-green-300"},"âœ”"),a(" Guided investment calculator")]),e("li",{class:"flex items-start gap-2"},[e("span",{class:"text-green-300"},"âœ”"),a(" Net worth tracking")]),e("li",{class:"flex items-start gap-2"},[e("span",{class:"text-green-300"},"âœ”"),a(" Financial calculators ")]),e("li",{class:"flex items-start gap-2"},[e("span",{class:"text-green-300"},"âœ”"),a(" Eâ€‘learning on achieving financial freedom")])],-1)),e("div",X,[t[11]||(t[11]=e("h3",{class:"text-xl font-semibold mb-4 text-white"},"Choose Your Plan",-1)),e("div",Z,[e("label",{class:m(["relative flex items-center p-4 bg-white/10 rounded-lg cursor-pointer hover:bg-white/15 transition-colors border-2",s(o).package==="monthly"?"border-yellow-300 bg-white/15":"border-transparent"])},[w(e("input",{type:"radio","onUpdate:modelValue":t[0]||(t[0]=b=>s(o).package=b),value:"monthly",class:"sr-only"},null,512),[[S,s(o).package]]),t[8]||(t[8]=e("div",{class:"flex-1"},[e("div",{class:"flex justify-between items-center"},[e("div",null,[e("div",{class:"font-semibold text-white"},"Monthly Subscription"),e("div",{class:"text-white/80 text-sm"},"Full access for 1 month")]),e("div",{class:"text-right"},[e("div",{class:"text-2xl font-bold text-yellow-300"},"KES 500"),e("div",{class:"text-white/70 text-sm"},"per month")])])],-1)),s(o).package==="monthly"?(l(),n("div",ee,t[7]||(t[7]=[e("div",{class:"w-5 h-5 bg-yellow-300 rounded-full flex items-center justify-center"},[e("div",{class:"w-2 h-2 bg-purple-800 rounded-full"})],-1)]))):u("",!0)],2),e("label",{class:m(["relative flex items-center p-4 bg-white/10 rounded-lg cursor-pointer hover:bg-white/15 transition-colors border-2",s(o).package==="yearly"?"border-yellow-300 bg-white/15":"border-transparent"])},[w(e("input",{type:"radio","onUpdate:modelValue":t[1]||(t[1]=b=>s(o).package=b),value:"yearly",class:"sr-only"},null,512),[[S,s(o).package]]),t[10]||(t[10]=e("div",{class:"flex-1"},[e("div",{class:"flex justify-between items-center"},[e("div",null,[e("div",{class:"font-semibold text-white"},"Yearly Subscription"),e("div",{class:"text-white/80 text-sm"},"Full access for 12 months"),e("div",{class:"text-green-300 text-sm font-medium"},"ðŸ’° Save KES 1,500!")]),e("div",{class:"text-right"},[e("div",{class:"text-2xl font-bold text-yellow-300"},"KES 4,500"),e("div",{class:"text-white/70 text-sm"},"KES 375/month")])])],-1)),s(o).package==="yearly"?(l(),n("div",te,t[9]||(t[9]=[e("div",{class:"w-5 h-5 bg-yellow-300 rounded-full flex items-center justify-center"},[e("div",{class:"w-2 h-2 bg-purple-800 rounded-full"})],-1)]))):u("",!0)],2)])]),e("button",{onClick:C,disabled:s(o).processing,class:m([s(o).processing?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-white text-purple-800 hover:bg-purple-50","inline-block font-semibold px-6 py-3 rounded-full shadow active:scale-95 transition w-full"])},d(s(o).processing?"Processing...":`ðŸŽ‰ Pay KES ${j[s(o).package].price} - Start
                        Subscription`),11,se),e("p",{class:m(["p-2 text-green-300 mt-4",s(o).processing?"block":"hidden"])}," Redirecting to secure payment... ",2),t[14]||(t[14]=e("div",{class:"mt-4 flex items-center justify-center gap-2 text-sm text-white/80"},[e("span",null,"ðŸ”’"),e("span",null,"Secure payment powered by Pesapal")],-1)),e("p",oe,d(s(o).package==="yearly"?"KES 4,500 for 12 months of unlimited access (Save KES 1,500!)":"KES 500 for 1 month of unlimited access"),1)]))])]),_:1})]),_:1})],64))}};export{xe as default};
