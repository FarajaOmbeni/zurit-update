import{C as k,b as d,o as n,d as b,u as o,m as M,w as _,a as t,t as p,g as h,j as i,f as a,v as u,l as c,F as y,i as V,G as U,P as C,h as v,W as P}from"./app-DY8zQZZl.js";import{_ as S}from"./MSMESidebar-C0IhIF38.js";import"./DocumentTextIcon-BNXvhI-K.js";import"./ChartBarIcon-DjXQXprz.js";import"./HomeIcon-D-upfoBD.js";const j={class:"py-6"},q={class:"max-w-4xl mx-auto sm:px-6 lg:px-8"},T={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg mb-6"},D={class:"p-6"},A={class:"text-gray-600 mt-2"},B={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},N={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},E={key:0,class:"mt-1 text-sm text-red-600"},O={key:0,class:"mt-1 text-sm text-red-600"},F=["value"],W={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},z={key:0,class:"mt-1 text-sm text-red-600"},I={key:0,class:"mt-1 text-sm text-red-600"},L={key:0,class:"mt-1 text-sm text-red-600"},H={key:0,class:"mt-1 text-sm text-red-600"},G={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},R={key:0,class:"mt-1 text-sm text-red-600"},Y={key:0,class:"mt-1 text-sm text-red-600"},$={key:0,class:"mt-1 text-sm text-red-600"},J={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},K={class:"flex items-center"},Q={class:"flex justify-end space-x-3 pt-6 border-t border-gray-200"},X=["disabled"],Z={key:0,class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24"},le={__name:"Edit",props:{pricingModel:Object,templates:Object},setup(m){const l=m,r=k({product_service_name:l.pricingModel.product_service_name,product_type:l.pricingModel.product_type,industry_template:l.pricingModel.industry_template||"",raw_material_cost:l.pricingModel.raw_material_cost,direct_labor_cost:l.pricingModel.direct_labor_cost,variable_overhead_cost:l.pricingModel.variable_overhead_cost,fixed_overhead_cost:l.pricingModel.fixed_overhead_cost,desired_profit_margin:l.pricingModel.desired_profit_margin,competitor_price_low:l.pricingModel.competitor_price_low,competitor_price_high:l.pricingModel.competitor_price_high,market_positioning:l.pricingModel.market_positioning||"",units_per_period:l.pricingModel.units_per_period,period_type:l.pricingModel.period_type,seasonal_adjustment:l.pricingModel.seasonal_adjustment||0,notes:l.pricingModel.notes||"",is_active:l.pricingModel.is_active}),x=()=>{r.industry_template&&P.post(route("pricing.apply-template"),{template:r.industry_template,business_size:"small"},{onSuccess:g=>{const e=g.props.templateData;e&&(r.raw_material_cost=e.raw_material_cost,r.direct_labor_cost=e.direct_labor_cost,r.variable_overhead_cost=e.variable_overhead_cost,r.fixed_overhead_cost=e.fixed_overhead_cost,r.desired_profit_margin=e.desired_profit_margin)}})},w=()=>{r.put(route("pricing.update",l.pricingModel.id),{onSuccess:()=>{}})};return(g,e)=>(n(),d(y,null,[b(o(M),{title:"Edit Pricing Model"}),b(S,{title:"Edit Pricing Model"},{default:_(()=>[t("div",j,[t("div",q,[t("div",T,[t("div",D,[e[16]||(e[16]=t("h1",{class:"text-3xl font-bold text-gray-900"}," Edit Pricing Model ",-1)),t("p",A," Update your pricing model for "+p(m.pricingModel.product_service_name),1)])]),t("div",B,[t("form",{onSubmit:h(w,["prevent"]),class:"p-6 space-y-6"},[t("div",null,[e[24]||(e[24]=t("h3",{class:"text-lg font-semibold text-gray-900 mb-4"}," Basic Information ",-1)),t("div",N,[t("div",null,[e[17]||(e[17]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Product/Service Name *",-1)),i(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>o(r).product_service_name=s),type:"text",required:"",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-purple-500 focus:ring-purple-500",placeholder:"e.g., Custom Website Design"},null,512),[[u,o(r).product_service_name]]),o(r).errors.product_service_name?(n(),d("p",E,p(o(r).errors.product_service_name),1)):a("",!0)]),t("div",null,[e[19]||(e[19]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Type *",-1)),i(t("select",{"onUpdate:modelValue":e[1]||(e[1]=s=>o(r).product_type=s),required:"",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-purple-500 focus:ring-purple-500"},e[18]||(e[18]=[t("option",{value:""},"Select Type",-1),t("option",{value:"product"},"Product",-1),t("option",{value:"service"},"Service",-1)]),512),[[c,o(r).product_type]]),o(r).errors.product_type?(n(),d("p",O,p(o(r).errors.product_type),1)):a("",!0)]),t("div",null,[e[21]||(e[21]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Industry Template",-1)),i(t("select",{"onUpdate:modelValue":e[2]||(e[2]=s=>o(r).industry_template=s),class:"w-full rounded-md border-gray-300 shadow-sm focus:border-purple-500 focus:ring-purple-500"},[e[20]||(e[20]=t("option",{value:""}," Select Template (Optional) ",-1)),(n(!0),d(y,null,V(m.templates,(s,f)=>(n(),d("option",{key:f,value:f},p(s.name),9,F))),128))],512),[[c,o(r).industry_template]]),o(r).industry_template?(n(),d("button",{key:0,onClick:x,type:"button",class:"mt-2 text-sm text-purple-600 hover:text-purple-800"}," Apply Template Values ")):a("",!0)]),t("div",null,[e[23]||(e[23]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Market Positioning",-1)),i(t("select",{"onUpdate:modelValue":e[3]||(e[3]=s=>o(r).market_positioning=s),class:"w-full rounded-md border-gray-300 shadow-sm focus:border-purple-500 focus:ring-purple-500"},e[22]||(e[22]=[t("option",{value:""}," Select Positioning ",-1),t("option",{value:"premium"},"Premium",-1),t("option",{value:"competitive"}," Competitive ",-1),t("option",{value:"budget"},"Budget",-1)]),512),[[c,o(r).market_positioning]])])])]),t("div",null,[e[29]||(e[29]=t("h3",{class:"text-lg font-semibold text-gray-900 mb-4"}," Cost Structure ",-1)),t("div",W,[t("div",null,[e[25]||(e[25]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Raw Material Cost *",-1)),i(t("input",{"onUpdate:modelValue":e[4]||(e[4]=s=>o(r).raw_material_cost=s),type:"number",step:"0.01",min:"0",required:"",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-purple-500 focus:ring-purple-500",placeholder:"0.00"},null,512),[[u,o(r).raw_material_cost]]),o(r).errors.raw_material_cost?(n(),d("p",z,p(o(r).errors.raw_material_cost),1)):a("",!0)]),t("div",null,[e[26]||(e[26]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Direct Labor Cost *",-1)),i(t("input",{"onUpdate:modelValue":e[5]||(e[5]=s=>o(r).direct_labor_cost=s),type:"number",step:"0.01",min:"0",required:"",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-purple-500 focus:ring-purple-500",placeholder:"0.00"},null,512),[[u,o(r).direct_labor_cost]]),o(r).errors.direct_labor_cost?(n(),d("p",I,p(o(r).errors.direct_labor_cost),1)):a("",!0)]),t("div",null,[e[27]||(e[27]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Variable Overhead Cost *",-1)),i(t("input",{"onUpdate:modelValue":e[6]||(e[6]=s=>o(r).variable_overhead_cost=s),type:"number",step:"0.01",min:"0",required:"",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-purple-500 focus:ring-purple-500",placeholder:"0.00"},null,512),[[u,o(r).variable_overhead_cost]]),o(r).errors.variable_overhead_cost?(n(),d("p",L,p(o(r).errors.variable_overhead_cost),1)):a("",!0)]),t("div",null,[e[28]||(e[28]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Fixed Overhead Cost *",-1)),i(t("input",{"onUpdate:modelValue":e[7]||(e[7]=s=>o(r).fixed_overhead_cost=s),type:"number",step:"0.01",min:"0",required:"",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-purple-500 focus:ring-purple-500",placeholder:"0.00"},null,512),[[u,o(r).fixed_overhead_cost]]),o(r).errors.fixed_overhead_cost?(n(),d("p",H,p(o(r).errors.fixed_overhead_cost),1)):a("",!0)])])]),t("div",null,[e[35]||(e[35]=t("h3",{class:"text-lg font-semibold text-gray-900 mb-4"}," Pricing Strategy ",-1)),t("div",G,[t("div",null,[e[30]||(e[30]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Desired Profit Margin (%) *",-1)),i(t("input",{"onUpdate:modelValue":e[8]||(e[8]=s=>o(r).desired_profit_margin=s),type:"number",step:"0.01",min:"0",max:"100",required:"",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-purple-500 focus:ring-purple-500",placeholder:"25.00"},null,512),[[u,o(r).desired_profit_margin]]),o(r).errors.desired_profit_margin?(n(),d("p",R,p(o(r).errors.desired_profit_margin),1)):a("",!0)]),t("div",null,[e[31]||(e[31]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Units per Period *",-1)),i(t("input",{"onUpdate:modelValue":e[9]||(e[9]=s=>o(r).units_per_period=s),type:"number",min:"1",required:"",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-purple-500 focus:ring-purple-500",placeholder:"100"},null,512),[[u,o(r).units_per_period]]),o(r).errors.units_per_period?(n(),d("p",Y,p(o(r).errors.units_per_period),1)):a("",!0)]),t("div",null,[e[33]||(e[33]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Period Type *",-1)),i(t("select",{"onUpdate:modelValue":e[10]||(e[10]=s=>o(r).period_type=s),required:"",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-purple-500 focus:ring-purple-500"},e[32]||(e[32]=[t("option",{value:""},"Select Period",-1),t("option",{value:"daily"},"Daily",-1),t("option",{value:"weekly"},"Weekly",-1),t("option",{value:"monthly"},"Monthly",-1),t("option",{value:"yearly"},"Yearly",-1)]),512),[[c,o(r).period_type]]),o(r).errors.period_type?(n(),d("p",$,p(o(r).errors.period_type),1)):a("",!0)]),t("div",null,[e[34]||(e[34]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Seasonal Adjustment (%)",-1)),i(t("input",{"onUpdate:modelValue":e[11]||(e[11]=s=>o(r).seasonal_adjustment=s),type:"number",step:"0.01",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-purple-500 focus:ring-purple-500",placeholder:"0.00"},null,512),[[u,o(r).seasonal_adjustment]])])])]),t("div",null,[e[38]||(e[38]=t("h3",{class:"text-lg font-semibold text-gray-900 mb-4"}," Competitive Analysis ",-1)),t("div",J,[t("div",null,[e[36]||(e[36]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Competitor Price (Low)",-1)),i(t("input",{"onUpdate:modelValue":e[12]||(e[12]=s=>o(r).competitor_price_low=s),type:"number",step:"0.01",min:"0",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-purple-500 focus:ring-purple-500",placeholder:"0.00"},null,512),[[u,o(r).competitor_price_low]])]),t("div",null,[e[37]||(e[37]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Competitor Price (High)",-1)),i(t("input",{"onUpdate:modelValue":e[13]||(e[13]=s=>o(r).competitor_price_high=s),type:"number",step:"0.01",min:"0",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-purple-500 focus:ring-purple-500",placeholder:"0.00"},null,512),[[u,o(r).competitor_price_high]])])])]),t("div",null,[e[40]||(e[40]=t("h3",{class:"text-lg font-semibold text-gray-900 mb-4"}," Status ",-1)),t("div",K,[i(t("input",{"onUpdate:modelValue":e[14]||(e[14]=s=>o(r).is_active=s),type:"checkbox",id:"is_active",class:"rounded border-gray-300 text-purple-600 shadow-sm focus:border-purple-500 focus:ring-purple-500"},null,512),[[U,o(r).is_active]]),e[39]||(e[39]=t("label",{for:"is_active",class:"ml-2 text-sm text-gray-700"},"Active pricing model",-1))])]),t("div",null,[e[42]||(e[42]=t("h3",{class:"text-lg font-semibold text-gray-900 mb-4"}," Additional Information ",-1)),t("div",null,[e[41]||(e[41]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Notes",-1)),i(t("textarea",{"onUpdate:modelValue":e[15]||(e[15]=s=>o(r).notes=s),rows:"4",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-purple-500 focus:ring-purple-500",placeholder:"Any additional notes about this pricing model..."},null,512),[[u,o(r).notes]])])]),t("div",Q,[b(o(C),{href:g.route("pricing.show",m.pricingModel.id),class:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500"},{default:_(()=>e[43]||(e[43]=[v(" Cancel ")])),_:1},8,["href"]),t("button",{type:"submit",disabled:o(r).processing,class:"px-4 py-2 bg-purple-600 border border-transparent rounded-md text-sm font-medium text-white hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 disabled:opacity-50"},[o(r).processing?(n(),d("svg",Z,e[44]||(e[44]=[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):a("",!0),v(" "+p(o(r).processing?"Updating...":"Update Pricing Model"),1)],8,X)])],32)])])])]),_:1})],64))}};export{le as default};
