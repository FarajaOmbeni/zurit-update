import{C as f,b,o as i,d as o,u as e,m as g,w as r,a as n,c as _,f as y,g as V,h as S,t as x,F as E}from"./app-C14ihFLC.js";import{A as j}from"./AuthenticatedLayout-wX0C5SqQ.js";import{_ as k}from"./AdminSidebar-DWN5YuMg.js";import{_ as h,B as A}from"./Button-C0d2ybMo.js";import{E as B}from"./Editor-BcPv-4hY.js";import{u as C,_ as w}from"./useAlert-B_G8VkiG.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const M={class:"w-full text-gray-900"},T={__name:"Marketing",props:{emails:Array},setup(c){const{openAlert:u,clearAlert:d,alertState:a}=C();console.log(c.emails);const s=f({content:"",subject:""}),p=()=>{s.post(route("marketing.send"),{onSuccess:()=>{s.reset(),u("success","Emails sent succesfully!",5e3)},onError:m=>{const t=Object.values(m).flat().join(" ");u("danger",t,5e3)}})};return(m,t)=>(i(),b(E,null,[o(e(g),{title:"Dashboard"}),o(j,null,{default:r(()=>[n("div",M,[o(k,null,{default:r(()=>[e(a)?(i(),_(w,{key:0,type:e(a).type,message:e(a).message,duration:e(a).duration,"auto-close":e(a).autoClose,onClose:e(d)},null,8,["type","message","duration","auto-close","onClose"])):y("",!0),t[2]||(t[2]=n("h1",{class:"text-2xl font-bold text-purple-900 mb-4"},"Send Marketing Emails",-1)),n("form",{onSubmit:V(p,["prevent"])},[o(h,{placeholder:"Enter the subject",label:"Subject",modelValue:e(s).subject,"onUpdate:modelValue":t[0]||(t[0]=l=>e(s).subject=l)},null,8,["modelValue"]),o(B,{label:"Write the Email",modelValue:e(s).content,"onUpdate:modelValue":t[1]||(t[1]=l=>e(s).content=l)},null,8,["modelValue"]),o(A,{type:"submit"},{default:r(()=>[S(x(e(s).processing?"Sending...":"Send"),1)]),_:1})],32)]),_:1})])]),_:1})],64))}};export{T as default};
