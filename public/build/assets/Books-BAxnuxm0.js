import{N as j,_ as $}from"./Footer-BeQfjbEA.js";import{r as w,C as E,b as p,o as m,f as x,a as e,t as r,c as B,u as t,g as S,d as a,j as M,Q as N,w as P,h as O,F as V,m as U}from"./app-8JS-Gocf.js";import{_ as c,B as A}from"./Button-BMDub6mN.js";import{_ as z}from"./Alert-CcAqNw9p.js";import{u as F}from"./useAlert-BVeAUwp6.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const D={key:0,class:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50"},K={class:"bg-white p-6 rounded-lg shadow-lg max-w-lg relative"},T={class:"grid grid-cols-2 gap-2"},G=["src","alt"],I={class:"flex flex-col justify-between"},L={class:"text-xl font-bold"},Q={class:"text-md mb-2"},R={class:"flex flex-col gap-2"},W={class:"text-lg font-semibold text-yellow-600"},Y={key:1,class:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50"},q={class:"absolute top-4 w-full flex justify-center z-[100]"},H={class:"bg-white p-6 rounded-lg shadow-lg w-[28rem] relative z-[60]"},J={__name:"BookModal",props:{show:Boolean,book:Object,user:{type:Object,default:null}},setup(o){var y,k,v;const{openAlert:u,clearAlert:g,alertState:i}=F(),b=w(!1),d=o,l=E({name:((y=d.user)==null?void 0:y.name)??"",email:((k=d.user)==null?void 0:k.email)??"",confirm_email:((v=d.user)==null?void 0:v.email)??"",price:"",phone:"",title:"",address:""});function _(){l.title=d.book.title,l.price=d.book.price,b.value=!0}function C(){l.post(route("buy.book"),{onSuccess:()=>{l.reset()},onError:h=>{const s=Object.values(h).flat().join(" ");u("danger",s,1e4)}})}return(h,s)=>(m(),p(V,null,[o.show?(m(),p("div",D,[e("div",K,[e("button",{onClick:s[0]||(s[0]=n=>h.$emit("close")),class:"absolute top-2 right-2 text-gray-600 hover:text-gray-900"}," ✕ "),e("div",T,[e("div",null,[e("img",{src:o.book.image,alt:o.book.title,class:"w-[15rem] h-[22rem] rounded-md"},null,8,G)]),e("div",I,[e("div",null,[e("h1",L,r(o.book.title),1),e("p",Q,r(o.book.description),1)]),e("div",R,[e("p",W,"Price: KES "+r(o.book.price),1),e("button",{onClick:_,class:"mt-4 bg-purple-600 text-white px-4 py-2 rounded-md text-sm hover:bg-purple-700 transition"}," Purchase ")])])])])])):x("",!0),b.value?(m(),p("div",Y,[e("div",q,[t(i)?(m(),B(z,{key:0,type:t(i).type,message:t(i).message,duration:t(i).duration,"auto-close":t(i).autoClose,onClose:t(g)},null,8,["type","message","duration","auto-close","onClose"])):x("",!0)]),e("div",H,[e("button",{onClick:s[1]||(s[1]=n=>b.value=!1),class:"absolute top-2 right-2 text-gray-600 hover:text-gray-900"}," ✕ "),s[8]||(s[8]=e("h2",{class:"text-lg font-bold text-purple-900 mb-4"},"Enter Details",-1)),e("form",{onSubmit:S(C,["prevent"])},[a(c,{label:"Name",placeholder:"Enter your name",modelValue:t(l).name,"onUpdate:modelValue":s[2]||(s[2]=n=>t(l).name=n)},null,8,["modelValue"]),a(c,{label:"Email",placeholder:"Enter your email",modelValue:t(l).email,"onUpdate:modelValue":s[3]||(s[3]=n=>t(l).email=n)},null,8,["modelValue"]),a(c,{label:"Confirm Email",placeholder:"Confirm your email",modelValue:t(l).confirm_email,"onUpdate:modelValue":s[4]||(s[4]=n=>t(l).confirm_email=n)},null,8,["modelValue"]),a(c,{label:"Address",placeholder:"Enter your address",modelValue:t(l).address,"onUpdate:modelValue":s[5]||(s[5]=n=>t(l).address=n)},null,8,["modelValue"]),a(c,{label:"Phone number",placeholder:"e.g., 0712345678 or +254712345678",modelValue:t(l).phone,"onUpdate:modelValue":s[6]||(s[6]=n=>t(l).phone=n),error:t(l).errors.phone},null,8,["modelValue","error"]),s[7]||(s[7]=e("p",{class:"text-xs text-gray-500 -mt-2"},"Enter a valid Kenyan phone number (e.g., 0712345678 or 0112345678)",-1)),M(e("p",{class:"font-bold text-sm text-green-500"},"We are sending you an MPESA STK Push to "+r(t(l).phone)+". Input your pin to continue",513),[[N,t(l).processing]]),a(A,{type:"submit",processing:t(l).processing},{default:P(()=>[O(r(t(l).processing?"Loading...":"Submit"),1)]),_:1},8,["processing"])],32)])])):x("",!0)],64))}},X={class:"bg-white md:w-[20rem] p-4 rounded-lg shadow-md text-center max-w-sm border"},Z=["src","alt"],ee={class:"mt-4 text-xl font-bold text-gray-900"},te={class:"text-gray-600 text-sm mt-2 line-clamp-2"},oe={class:"text-gray-900 font-semibold mt-2"},f={__name:"BookCard",props:{book:Object,user:{type:Object,default:null}},setup(o){const u=w(!1),g=()=>{u.value=!0},i=()=>{u.value=!1};return(b,d)=>(m(),p("div",X,[e("img",{src:o.book.image,alt:o.book.title,class:"md:h-[25rem] object-cover rounded-md"},null,8,Z),e("h2",ee,r(o.book.title),1),e("p",te,r(o.book.description),1),e("p",oe,"Price: Kshs "+r(o.book.price),1),e("button",{onClick:g,class:"mt-4 bg-purple-600 text-white px-4 py-2 rounded-md text-sm hover:bg-purple-700 transition"}," Get a Copy "),a(J,{show:u.value,book:o.book,onClose:i,user:o.user},null,8,["show","book","user"])]))}},se={class:"mt-12 p-16"},le={class:"flex flex-col flex-wrap md:flex-row items-center md:items-start justify-center gap-12"},me={__name:"Books",props:{user:{type:Object,default:null}},setup(o){return console.log("User: ",o.user),(g,i)=>(m(),p(V,null,[a(t(U),{title:"Books"}),a(j),e("div",se,[i[0]||(i[0]=e("h2",{class:"text-3xl mb-4 lg:text-4xl font-bold text-yellow-600"},"Books",-1)),e("div",le,[a(f,{book:{title:"Thrive",description:"Your ultimate guide to financial freedom. Clear, concise steps to wealth creation.",price:1500,image:"/images/books/thrive.webp"},user:o.user},null,8,["user"]),a(f,{book:{title:"Financial Goal Setting",description:"Unlock the path to realizing your financial deams with this insightful guide. Dive into the crucial art of goal setting, guided by the wheel of life, to pinpoint your aspirations",price:350,image:"/images/books/goal_setting.webp"},user:o.user},null,8,["user"]),a(f,{book:{title:"Transcend",description:"Navigating the Realities - Beyond the allure of Entrepreneurship",price:1800,image:"/images/books/transcend.jpg"},user:o.user},null,8,["user"]),a(f,{book:{title:"From Earning to Empowerment",description:"A guide to financial wellness",price:350,image:"/images/books/earning.png"},user:o.user},null,8,["user"])])]),a($)],64))}};export{me as default};
