import{r as u,p as k,b as r,o as d,a as s,t as c,e as _,g as f}from"./app-C0T2zDcd.js";import{_ as z}from"./_plugin-vue_export-helper-DlAUqK2U.js";const V={class:"flex flex-col mb-4"},B={class:"mb-2 font-medium text-purple-900"},F={key:0,class:"space-y-4"},S={key:0},C={key:1,class:"text-purple-600"},I={class:"font-medium"},L={class:"text-sm"},G={key:1,class:"space-y-4"},D={class:"bg-green-50 border border-green-200 rounded-lg p-4"},O={class:"flex items-center justify-between"},P={class:"flex items-center"},T={class:"text-sm text-green-600"},j={__name:"VideoUploader",props:{label:{type:String,default:"Upload Video"},modelValue:{type:File,default:null}},emits:["update:modelValue","video-selected"],setup(p,{emit:g}){const x=p,i=g,n=u(null),l=u(null),o=u(null);k(()=>x.modelValue,t=>{t?(l.value=t,o.value={name:t.name,size:t.size}):(l.value=null,o.value=null)},{immediate:!0});const h=()=>{n.value.click()},b=t=>{const e=t.target.files[0];e&&v(e)&&(l.value=e,o.value={name:e.name,size:e.size},i("update:modelValue",e),i("video-selected",e))},w=t=>{const e=t.dataTransfer.files[0];e&&v(e)&&(l.value=e,o.value={name:e.name,size:e.size},i("update:modelValue",e),i("video-selected",e))},v=t=>{if(!["video/mp4","video/webm","video/ogg","video/avi","video/quicktime"].includes(t.type))return alert("Please select a valid video file (MP4, WebM, OGG, AVI, or MOV)"),!1;if(t.size>209715200){const a=Math.round(t.size/1048576);return alert(`File size is ${a}MB, which exceeds the 200MB limit. Please compress your video or choose a smaller file.`),!1}if(t.size>40*1024*1024){const a=Math.round(t.size/1048576);if(!confirm(`This file is ${a}MB. Large files may fail to upload due to server limits. Continue anyway?`))return!1}return!0},y=t=>{if(t===0)return"0 Bytes";const e=1024,m=["Bytes","KB","MB","GB"],a=Math.floor(Math.log(t)/Math.log(e));return parseFloat((t/Math.pow(e,a)).toFixed(2))+" "+m[a]},M=()=>{o.value=null,l.value=null,i("update:modelValue",null),n.value&&(n.value.value="")};return(t,e)=>(d(),r("div",V,[s("label",B,c(p.label),1),o.value?(d(),r("div",G,[s("div",D,[s("div",O,[s("div",P,[e[4]||(e[4]=s("div",{class:"text-green-600 mr-2"},[s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[s("path",{d:"M2 6a2 2 0 012-2h6l2 2h6a2 2 0 012 2v6a2 2 0 01-2 2H4a2 2 0 01-2-2V6z"}),s("path",{stroke:"#fff","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 12l2 2 4-4"})])],-1)),s("div",null,[e[3]||(e[3]=s("p",{class:"font-medium text-green-800"}," Video file selected! ",-1)),s("p",T,c(o.value.name),1)])]),s("button",{onClick:M,class:"text-red-600 hover:text-red-700"},e[5]||(e[5]=[s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[s("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1)]))])])])):(d(),r("div",F,[s("div",{class:"border-2 border-dashed border-purple-900 rounded-lg p-6 text-center cursor-pointer hover:opacity-80 transition-opacity",onClick:h,onDragover:e[0]||(e[0]=f(()=>{},["prevent"])),onDrop:f(w,["prevent"])},[l.value?(d(),r("div",C,[s("p",I,c(l.value.name),1),s("p",L,c(y(l.value.size)),1),e[2]||(e[2]=s("p",{class:"text-sm text-green-600 mt-2"}," ✓ Video file selected ",-1))])):(d(),r("div",S,e[1]||(e[1]=[_('<div class="mx-auto mb-2 w-12 h-12 text-purple-900" data-v-c095b176><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-c095b176><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12" data-v-c095b176></path></svg></div><p class="text-gray-600" data-v-c095b176> Click to upload a video or drag and drop </p><p class="text-sm text-gray-500 mt-1" data-v-c095b176> MP4, WebM, OGG, AVI, MOV (max 200MB) </p><p class="text-xs text-amber-600 mt-1" data-v-c095b176> ⚠️ Large files may take time to upload. If upload fails, try reducing file size. </p>',4)])))],32),s("input",{type:"file",ref_key:"fileInput",ref:n,accept:"video/*,.mp4,.webm,.ogg,.avi,.mov",class:"hidden",onChange:b},null,544)]))]))}},N=z(j,[["__scopeId","data-v-c095b176"]]);export{N as V};
