import{A as S}from"./AuthenticatedLayout-C--CPrL5.js";import{b as n,o as i,a as e,k as A,d as a,u as l,m as P,w as x,P as f,h as u,t as r,F as g,i as h,f as d}from"./app-C0T2zDcd.js";import{_ as V,r as C}from"./Sidebar-DW41yPlz.js";import{_ as F}from"./DashboardBackButton-EoyCgRsl.js";import{r as T}from"./BuildingOfficeIcon-CC5PcEHM.js";import{r as b}from"./BanknotesIcon-DU-gZKIj.js";import{r as B}from"./UserGroupIcon-D4Z2UNmt.js";import{r as D}from"./CalendarIcon-D9XC-I1-.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css                                                */import"./EllipsisHorizontalIcon-BH06NiKP.js";import"./AcademicCapIcon-nQcFt5Tl.js";import"./UserIcon-DSbwyvP2.js";import"./ChartBarIcon-B7NRxKBh.js";import"./HomeIcon-BwvGyObO.js";function N(c,y){return i(),n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M10.125 2.25h-4.5c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125v-9M10.125 2.25h.375a9 9 0 0 1 9 9v.375M10.125 2.25A3.375 3.375 0 0 1 13.5 5.625v1.5c0 .621.504 1.125 1.125 1.125h1.5a3.375 3.375 0 0 1 3.375 3.375M9 15l2.25 2.25L15 12"})])}const L={class:"w-full text-gray-900"},R={class:"max-w-6xl mx-auto p-6"},$={class:"hidden md:flex items-center space-x-4 mb-8"},I={class:"grid gap-6 md:grid-cols-2"},M={class:"bg-white rounded-lg shadow-sm border p-6"},q={class:"flex items-center justify-between mb-4"},K={class:"flex items-center space-x-2"},G={class:"text-sm text-gray-600 mb-3"},O={class:"font-semibold text-gray-900"},U={class:"font-semibold text-gray-900"},z={key:0,class:"space-y-3 max-h-64 overflow-y-auto pr-1"},H={class:"font-medium text-gray-900"},J={class:"text-xs text-gray-500 mb-1"},Q={key:0,class:"text-xs text-gray-600"},W={class:"space-y-0.5"},X={class:"font-medium"},Y={key:1,class:"text-sm text-gray-500"},Z={class:"bg-white rounded-lg shadow-sm border p-6"},ee={class:"flex items-center justify-between mb-4"},te={class:"flex items-center space-x-2"},se={class:"text-sm text-gray-600 mb-3"},ne={class:"font-semibold text-gray-900"},ie={class:"font-semibold text-gray-900"},re={key:0,class:"space-y-3 max-h-64 overflow-y-auto pr-1"},oe={class:"font-medium text-gray-900"},ae={class:"text-xs text-gray-500 mb-1"},le={key:0,class:"text-xs text-gray-500"},de={key:1,class:"text-xs text-gray-500"},ue={key:1,class:"text-sm text-gray-500"},ce={class:"bg-white rounded-lg shadow-sm border p-6"},me={class:"flex items-center justify-between mb-4"},xe={class:"flex items-center space-x-2"},fe={class:"text-sm text-gray-600 mb-3"},ye={class:"font-semibold text-gray-900"},ge={key:0,class:"space-y-3 max-h-64 overflow-y-auto pr-1"},pe={class:"font-medium text-gray-900"},he={class:"text-xs text-gray-500"},ve={key:0},_e={key:1},be={key:2},we={key:0,class:"text-xs text-gray-500"},ke={key:0},Ae={key:1},Ne={key:1,class:"text-sm text-gray-500"},je={class:"bg-white rounded-lg shadow-sm border p-6"},Ee={class:"flex items-center justify-between mb-4"},Se={class:"flex items-center space-x-2"},Pe={class:"text-sm text-gray-600 mb-3"},Ve={class:"font-semibold text-gray-900"},Ce={key:0,class:"space-y-3 max-h-64 overflow-y-auto pr-1"},Fe={class:"font-medium text-gray-900"},Te={class:"text-xs text-gray-500"},Be={key:0},De={key:1},Le={key:0,class:"text-xs text-gray-500"},Re={key:0},$e={key:1},Ie={key:1,class:"text-sm text-gray-500"},Me={class:"bg-white rounded-lg shadow-sm border p-6"},qe={class:"flex items-center justify-between mb-4"},Ke={class:"flex items-center space-x-2"},Ge={class:"text-sm text-gray-600 mb-3"},Oe={class:"font-semibold text-gray-900"},Ue={key:0,class:"space-y-3 max-h-64 overflow-y-auto pr-1"},ze={class:"font-medium text-gray-900"},He={class:"text-xs text-gray-500"},Je={class:"text-xs text-gray-600 mt-1 space-y-1"},Qe={key:0},We={class:"flex items-center space-x-4"},Xe={key:0,class:"flex items-center space-x-1"},Ye={key:1,class:"flex items-center space-x-1"},Ze={key:2,class:"flex items-center space-x-1"},et={key:1},tt={key:1,class:"text-sm text-gray-500"},st={class:"flex justify-center pt-8 border-t mt-8"},nt=["action"],it=["value"],rt={type:"submit",class:"bg-purple-600 hover:bg-purple-700 text-white font-bold py-3 px-8 rounded-lg flex items-center transition-colors duration-200 text-lg"},bt={__name:"Review",props:{assets:{type:Array,default:()=>[]},investments:{type:Array,default:()=>[]},beneficiaries:{type:Array,default:()=>[]},fiduciaries:{type:[Object,Array,null],default:()=>null},insurances:{type:Array,default:()=>[]}},setup(c){var k;const y=c;function p(o){if(o==null||o==="")return"—";const s=Number(o)||0;return new Intl.NumberFormat("en-KE",{style:"currency",currency:"KES",minimumFractionDigits:0,maximumFractionDigits:0}).format(s)}function v(o){if(!o)return"Not specified";if(/^\d{4}-\d{2}-\d{2}$/.test(o)){const[s,t,m]=o.split("-").map(Number);return new Date(s,t-1,m).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}return new Date(o).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}function w(o){return(o.beneficiary_allocations||o.beneficiaryAllocations||[]).map(t=>{var m;return{id:t.id,beneficiary_name:(m=t.beneficiary)==null?void 0:m.full_name,percentage:t.percentage}}).filter(t=>t.beneficiary_name)}const j=A(()=>{const o=y.assets.reduce((t,m)=>t+(parseFloat(m.value)||0),0),s=y.investments.reduce((t,m)=>t+(parseFloat(m.value)||0),0);return o+s}),_=A(()=>Array.isArray(y.fiduciaries)?y.fiduciaries:y.fiduciaries?[y.fiduciaries]:[]),E=((k=document.querySelector('meta[name="csrf-token"]'))==null?void 0:k.getAttribute("content"))||"";return(o,s)=>(i(),n(g,null,[a(l(P),{title:"Review - Legacy & Estate Planning"}),a(S,null,{default:x(()=>[e("div",L,[a(V,null,{default:x(()=>[a(F),e("div",R,[s[30]||(s[30]=e("div",{class:"mb-8"},[e("h1",{class:"text-3xl font-bold text-gray-900 mb-2"},"Step 5: Review & Generate"),e("p",{class:"text-gray-600"},"Review your entries before generating your legacy pack.")],-1)),e("div",$,[a(l(f),{href:o.route("legacy.assets"),class:"flex items-center space-x-2"},{default:x(()=>s[0]||(s[0]=[e("div",{class:"w-8 h-8 bg-green-600 text-white rounded-full flex items-center justify-center text-sm font-medium"}," ✓",-1),e("span",{class:"text-green-600 font-medium"},"Assets",-1)])),_:1},8,["href"]),s[4]||(s[4]=e("div",{class:"w-12 h-px bg-green-600"},null,-1)),a(l(f),{href:o.route("legacy.beneficiaries"),class:"flex items-center space-x-2"},{default:x(()=>s[1]||(s[1]=[e("div",{class:"w-8 h-8 bg-green-600 text-white rounded-full flex items-center justify-center text-sm font-medium"}," ✓",-1),e("span",{class:"text-green-600 font-medium"},"Beneficiaries",-1)])),_:1},8,["href"]),s[5]||(s[5]=e("div",{class:"w-12 h-px bg-green-600"},null,-1)),a(l(f),{href:o.route("legacy.fiduciaries"),class:"flex items-center space-x-2"},{default:x(()=>s[2]||(s[2]=[e("div",{class:"w-8 h-8 bg-green-600 text-white rounded-full flex items-center justify-center text-sm font-medium"}," ✓",-1),e("span",{class:"text-green-600 font-medium"},"Fiduciaries",-1)])),_:1},8,["href"]),s[6]||(s[6]=e("div",{class:"w-12 h-px bg-green-600"},null,-1)),a(l(f),{href:o.route("legacy.insurance"),class:"flex items-center space-x-2"},{default:x(()=>s[3]||(s[3]=[e("div",{class:"w-8 h-8 bg-green-600 text-white rounded-full flex items-center justify-center text-sm font-medium"}," ✓",-1),e("span",{class:"text-green-600 font-medium"},"Insurance",-1)])),_:1},8,["href"]),s[7]||(s[7]=e("div",{class:"w-12 h-px bg-green-600"},null,-1)),s[8]||(s[8]=e("div",{class:"flex items-center space-x-2"},[e("div",{class:"bg-purple-500 w-8 h-8 text-white rounded-full flex items-center justify-center text-sm font-medium"}," 5"),e("span",{class:"text-purple-600 font-medium"},"Review")],-1))]),e("div",I,[e("section",M,[e("div",q,[e("div",K,[a(l(T),{class:"w-6 h-6 text-blue-600"}),s[9]||(s[9]=e("h2",{class:"text-lg font-semibold text-gray-900"},"Assets",-1))]),a(l(f),{href:o.route("legacy.assets"),class:"text-sm text-purple-700 hover:underline"},{default:x(()=>s[10]||(s[10]=[u(" Edit")])),_:1},8,["href"])]),e("div",G,[e("div",null,[s[11]||(s[11]=u("Total Asset Value: ")),e("span",O,r(p(j.value)),1)]),e("div",null,[s[12]||(s[12]=u("Assets Count: ")),e("span",U,r(c.assets.length),1)])]),c.assets.length?(i(),n("div",z,[(i(!0),n(g,null,h(c.assets,t=>(i(),n("div",{key:t.id,class:"border rounded p-3"},[e("div",H,r(t.name),1),e("div",J," Value: "+r(p(t.value))+" • Acquired: "+r(v(t.acquisition_date)),1),w(t).length?(i(),n("div",Q,[s[13]||(s[13]=e("div",{class:"font-semibold mb-1"},"Beneficiary Allocations",-1)),e("div",W,[(i(!0),n(g,null,h(w(t),m=>(i(),n("div",{key:m.id,class:"flex justify-between"},[e("span",null,r(m.beneficiary_name),1),e("span",X,r(m.percentage)+"%",1)]))),128))])])):d("",!0)]))),128))])):(i(),n("div",Y,"No assets added."))]),e("section",Z,[e("div",ee,[e("div",te,[a(l(b),{class:"w-6 h-6 text-green-600"}),s[14]||(s[14]=e("h2",{class:"text-lg font-semibold text-gray-900"},"Investments",-1))]),a(l(f),{href:o.route("legacy.assets"),class:"text-sm text-purple-700 hover:underline"},{default:x(()=>s[15]||(s[15]=[u(" Edit")])),_:1},8,["href"])]),e("div",se,[e("div",null,[s[16]||(s[16]=u("Total Investment Value: ")),e("span",ne,r(p(c.investments.reduce((t,m)=>t+(parseFloat(m.value)||0),0))),1)]),e("div",null,[s[17]||(s[17]=u("Investments Count: ")),e("span",ie,r(c.investments.length),1)])]),c.investments.length?(i(),n("div",re,[(i(!0),n(g,null,h(c.investments,t=>(i(),n("div",{key:t.id,class:"border rounded p-3"},[e("div",oe,r(t.name),1),e("div",ae," Value: "+r(p(t.value))+" • Type: "+r(t.type)+" • Started: "+r(v(t.start_date)),1),t.expected_return_rate?(i(),n("div",le," Expected Return: "+r(t.expected_return_rate)+"% ",1)):d("",!0),t.status?(i(),n("div",de," Status: "+r(t.status),1)):d("",!0)]))),128))])):(i(),n("div",ue,"No investments found."))]),e("section",ce,[e("div",me,[e("div",xe,[a(l(B),{class:"w-6 h-6 text-emerald-600"}),s[18]||(s[18]=e("h2",{class:"text-lg font-semibold text-gray-900"},"Beneficiaries",-1))]),a(l(f),{href:o.route("legacy.beneficiaries"),class:"text-sm text-purple-700 hover:underline"},{default:x(()=>s[19]||(s[19]=[u("Edit")])),_:1},8,["href"])]),e("div",fe,[e("div",null,[s[20]||(s[20]=u("Total Beneficiaries: ")),e("span",ye,r(c.beneficiaries.length),1)])]),c.beneficiaries.length?(i(),n("div",ge,[(i(!0),n(g,null,h(c.beneficiaries,t=>(i(),n("div",{key:t.id,class:"border rounded p-3"},[e("div",pe,r(t.full_name),1),e("div",he,[t.relationship?(i(),n("span",ve,"Relationship: "+r(t.relationship)+" • ",1)):d("",!0),t.is_minor?(i(),n("span",_e,"Minor")):(i(),n("span",be,"Adult"))]),t.email||t.phone_number?(i(),n("div",we,[t.email?(i(),n("span",ke,"Email: "+r(t.email)+" • ",1)):d("",!0),t.phone_number?(i(),n("span",Ae,"Phone: "+r(t.phone_number),1)):d("",!0)])):d("",!0)]))),128))])):(i(),n("div",Ne,"No beneficiaries added."))]),e("section",je,[e("div",Ee,[e("div",Se,[a(l(C),{class:"w-6 h-6 text-orange-600"}),s[21]||(s[21]=e("h2",{class:"text-lg font-semibold text-gray-900"},"Fiduciaries (Companies)",-1))]),a(l(f),{href:o.route("legacy.fiduciaries"),class:"text-sm text-purple-700 hover:underline"},{default:x(()=>s[22]||(s[22]=[u("Edit")])),_:1},8,["href"])]),e("div",Pe,[e("div",null,[s[23]||(s[23]=u("Total Companies: ")),e("span",Ve,r(_.value.length),1)])]),_.value.length?(i(),n("div",Ce,[(i(!0),n(g,null,h(_.value,t=>(i(),n("div",{key:t.id||t.institution_name,class:"border rounded p-3"},[e("div",Fe,r(t.institution_name),1),e("div",Te,[t.institution_type?(i(),n("span",Be,"Type: "+r(t.institution_type)+" • ",1)):d("",!0),t.contact_name?(i(),n("span",De,"Contact: "+r(t.contact_name),1)):d("",!0)]),t.email||t.phone?(i(),n("div",Le,[t.email?(i(),n("span",Re,"Email: "+r(t.email)+" • ",1)):d("",!0),t.phone?(i(),n("span",$e,"Phone: "+r(t.phone),1)):d("",!0)])):d("",!0)]))),128))])):(i(),n("div",Ie,"No fiduciary companies added."))]),e("section",Me,[e("div",qe,[e("div",Ke,[a(l(N),{class:"w-6 h-6 text-indigo-600"}),s[24]||(s[24]=e("h2",{class:"text-lg font-semibold text-gray-900"},"Insurance & Pensions",-1))]),a(l(f),{href:o.route("legacy.insurance"),class:"text-sm text-purple-700 hover:underline"},{default:x(()=>s[25]||(s[25]=[u(" Edit")])),_:1},8,["href"])]),e("div",Ge,[e("div",null,[s[26]||(s[26]=u("Total Policies: ")),e("span",Oe,r(c.insurances.length),1)])]),c.insurances.length?(i(),n("div",Ue,[(i(!0),n(g,null,h(c.insurances,t=>(i(),n("div",{key:t.id,class:"border rounded p-3"},[e("div",ze,[u(r(t.provider_name)+" ",1),e("span",He,"("+r(t.type)+")",1)]),e("div",Je,[t.policy_number?(i(),n("div",Qe,[s[27]||(s[27]=e("span",{class:"font-medium"},"Policy #:",-1)),u(" "+r(t.policy_number),1)])):d("",!0),e("div",We,[t.coverage_amount?(i(),n("div",Xe,[a(l(b),{class:"w-4 h-4"}),e("span",null,"Coverage: "+r(p(t.coverage_amount)),1)])):d("",!0),t.premium_amount?(i(),n("div",Ye,[a(l(b),{class:"w-4 h-4"}),e("span",null,"Premium: "+r(p(t.premium_amount)),1)])):d("",!0),t.renewal_date?(i(),n("div",Ze,[a(l(D),{class:"w-4 h-4"}),e("span",null,"Renews: "+r(v(t.renewal_date)),1)])):d("",!0)]),t.notes?(i(),n("div",et,[s[28]||(s[28]=e("span",{class:"font-medium"},"Notes:",-1)),u(" "+r(t.notes),1)])):d("",!0)])]))),128))])):(i(),n("div",tt,"No policies added."))])]),e("div",st,[e("form",{action:o.route("legacy.generate"),method:"POST",target:"_blank"},[e("input",{type:"hidden",name:"_token",value:l(E)},null,8,it),e("button",rt,[a(l(N),{class:"w-6 h-6 mr-3"}),s[29]||(s[29]=u(" Generate Legacy Pack "))])],8,nt)])])]),_:1})])]),_:1})],64))}};export{bt as default};
