import{r as m,i as u,y as A,b as s,o as a,a as e,j as B,H as N,f as v,F as y,k as b,t as i}from"./app-BW4vEmNN.js";const $={class:"p-6"},L={class:"mb-4"},S={class:"overflow-x-auto"},V={class:"min-w-full bg-white"},j={class:"bg-purple-900 text-white"},E={key:0,class:"px-6 py-3 text-left"},F={class:"break-words whitespace-normal max-w-[20rem]"},M={key:0},T={key:1},H={key:0,class:"px-6 py-4 w-[12rem]"},Q=["onClick"],U=["onClick"],q={key:0},z=["colspan"],G={class:"mt-4 flex justify-between items-center"},I=["disabled"],J={class:"text-purple-900"},K=["disabled"],x=10,R={__name:"AdminTable",props:{data:{type:Array,default:()=>[]},headers:{type:Array,default:()=>[]},editable:{type:Boolean,default:!1}},setup(r){const g=r,d=m(""),l=m(1),_=u(()=>[...g.data].sort((o,n)=>new Date(n.created_at)-new Date(o.created_at))),f=u(()=>d.value?_.value.filter(o=>g.headers.some(n=>{const t=o[n.key];return t&&t.toString().toLowerCase().includes(d.value.toLowerCase())})):_.value),h=u(()=>Math.ceil(f.value.length/x)),k=u(()=>{const o=(l.value-1)*x;return f.value.slice(o,o+x)}),C=()=>{l.value>1&&l.value--},D=()=>{l.value<h.value&&l.value++};return A(d,()=>{l.value=1}),(o,n)=>(a(),s("div",$,[e("div",L,[B(e("input",{type:"text","onUpdate:modelValue":n[0]||(n[0]=t=>d.value=t),placeholder:"Search...",class:"w-full px-4 py-2 border border-purple-900 rounded focus:outline-none focus:ring-2 focus:ring-yellow-500"},null,512),[[N,d.value]])]),e("div",S,[e("table",V,[e("thead",j,[e("tr",null,[(a(!0),s(y,null,b(r.headers,(t,p)=>(a(),s("th",{key:p,class:"px-6 py-3 text-left"},i(t.label),1))),128)),r.editable?(a(),s("th",E,"Actions")):v("",!0)])]),e("tbody",null,[(a(!0),s(y,null,b(k.value,(t,p)=>(a(),s("tr",{key:p,class:"border-b border-gray-200 hover:text-black hover:bg-slate-100 hover:text-black"},[(a(!0),s(y,null,b(r.headers,(c,P)=>{var w;return a(),s("td",{key:P,class:"px-6 py-4"},[e("div",F,[((w=t[c.key])==null?void 0:w.length)>100?(a(),s("span",M,i(t[c.key].slice(0,100))+"... ",1)):(a(),s("span",T,i(t[c.key]),1))])])}),128)),r.editable?(a(),s("td",H,[e("button",{onClick:c=>o.$emit("edit",t),class:"px-3 py-1 bg-yellow-500 text-white rounded hover:bg-yellow-600 mr-2"}," Edit ",8,Q),e("button",{onClick:c=>o.$emit("delete",t),class:"px-3 py-1 bg-red-500 text-white rounded hover:bg-red-600"}," Delete ",8,U)])):v("",!0)]))),128)),k.value.length===0?(a(),s("tr",q,[e("td",{colspan:r.editable?r.headers.length+1:r.headers.length,class:"px-6 py-4 text-center text-gray-500"}," No records found ",8,z)])):v("",!0)])])]),e("div",G,[e("button",{onClick:C,disabled:l.value===1,class:"px-4 py-2 bg-purple-900 text-white rounded disabled:opacity-50"}," Previous ",8,I),e("div",J," Page "+i(l.value)+" of "+i(h.value),1),e("button",{onClick:D,disabled:l.value===h.value,class:"px-4 py-2 bg-purple-900 text-white rounded disabled:opacity-50"}," Next ",8,K)])]))}};export{R as _};
