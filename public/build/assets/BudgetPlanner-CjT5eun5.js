import{r as g,p as j,C as G,n as he,l as _e,b as i,o as a,d as B,u as l,m as ke,w as oe,a as t,f as x,q as d,c as Se,t as r,Q as w,z as J,F as y,s as h,g as R,E as I,v as _,U as T}from"./app-B-GejVOE.js";import{A as Ce}from"./AuthenticatedLayout-CimAnSyk.js";import{_ as Ee}from"./Sidebar-D7o-5Ly5.js";import{_ as ne}from"./BudgetBarChart-Dy9tfRv5.js";import{u as Ie,_ as Me}from"./useAlert-bGlfQnuD.js";import{f as Ae}from"./useDateFormat-pjOuPPEs.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./useFormatCurrency-DPZVhC5N.js";const le=[{value:"rent",label:"Rent"},{value:"utilities",label:"Utilities"},{value:"groceries",label:"Groceries"},{value:"eatout",label:"Eating out"},{value:"transportation",label:"Transportation"},{value:"fuel",label:"Fuel"},{value:"insurance",label:"Insurance"},{value:"investment",label:"Investment Contribution"},{value:"debt",label:"Debt Payment"},{value:"goal",label:"Goal Contribution"},{value:"other",label:"Other"}],re=[{value:"salary",label:"Salary"},{value:"freelance",label:"Freelance"},{value:"business_income",label:"Business Income"},{value:"rental_income",label:"Rental Income"},{value:"investments",label:"Investments"},{value:"side_hustle",label:"Side Hustle"},{value:"bonus",label:"Bonus"},{value:"other",label:"Other"}],De={class:"w-full text-gray-900"},je={class:"py-6"},Te={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},Ve={class:"flex justify-between"},Ue={class:"text-2xl font-semibold text-gray-900"},Oe={class:"px-6"},$e={key:1,class:"mt-6 grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4"},qe={class:"bg-white overflow-hidden shadow rounded-lg"},Be={class:"px-4 py-5 sm:p-6"},Le={class:"mt-1 text-3xl font-semibold text-green-600"},Ne={class:"bg-white overflow-hidden shadow rounded-lg"},Ke={class:"px-4 py-5 sm:p-6"},Fe={class:"mt-1 text-3xl font-semibold text-red-500"},Ye={class:"bg-white overflow-hidden shadow rounded-lg"},Pe={class:"px-4 py-5 sm:p-6"},ze={class:"bg-white overflow-hidden shadow rounded-lg"},Ge={class:"px-4 py-5 sm:p-6 flex flex-col space-y-2"},Je={key:2,class:"mt-6 text-center"},Re={class:"mt-4 flex justify-center space-x-2"},He={class:"my-4 w-full flex justify-center"},Qe=["href"],We={key:3,class:"mt-8 grid grid-cols-1 gap-8 lg:grid-cols-2"},Xe={class:"mt-12"},Ze={class:"text-xl font-bold text-gray-900 text-center"},et={class:"mt-4 bg-white shadow rounded-lg"},tt={class:"divide-y divide-gray-200"},st={class:"flex items-center justify-between"},ot={class:"text-sm font-medium text-gray-900"},nt={class:"flex flex-col gap-2 md:flex-row md:gap-0 text-sm items-center space-x-2"},lt={class:"text-green-600 font-medium"},rt=["onClick"],at=["onClick"],it={class:"px-4 py-3 bg-gray-50"},dt={class:"flex items-center justify-between"},ut={class:"text-sm font-bold text-green-600"},ct={class:"mt-12"},mt={class:"text-xl font-bold text-gray-900 text-center"},bt={class:"mt-4 bg-white shadow rounded-lg"},pt={class:"divide-y divide-gray-200"},gt={class:"flex items-center justify-between"},ft={class:"text-sm font-medium text-gray-900"},vt={class:"flex flex-col gap-2 md:flex-row md:gap-0 text-sm items-center space-x-2"},xt={class:"text-red-600 font-medium"},yt={class:"px-4 py-3 bg-gray-50"},wt={class:"flex items-center justify-between"},ht={class:"text-sm font-bold text-red-600"},_t={class:"mt-12"},kt={class:"mt-4 bg-white shadow rounded-lg"},St={class:"divide-y divide-gray-200"},Ct={key:0,class:"px-4 py-6 text-center text-gray-500"},Et={class:"flex items-center justify-between"},It={class:"text-sm font-medium text-gray-900"},Mt={class:"text-sm text-gray-500"},At={class:"flex flex-col gap-2 md:flex-row md:gap-0 text-sm items-center space-x-2"},Dt=["onClick"],jt=["onClick"],Tt={class:"px-4 py-3 bg-gray-50 border-t border-gray-200"},Vt={class:"flex justify-between items-center"},Ut={class:"text-sm font-medium text-gray-700"},Ot={class:"text-right"},$t={class:"text-sm font-medium text-green-600"},qt={class:"text-sm font-medium text-red-600"},Bt={key:0,class:"fixed inset-0 overflow-y-auto z-10 flex items-center justify-center"},Lt={class:"relative bg-white rounded-lg max-w-sm w-full mx-2 p-4 shadow-lg"},Nt={class:"mb-3"},Kt=["value"],Ft={class:"mb-3"},Yt=["required"],Pt={class:"mb-3"},zt={class:"flex space-x-4"},Gt={class:"flex items-center text-sm"},Jt={class:"flex items-center text-sm"},Rt={class:"mb-3"},Ht={class:"mb-3"},Qt={class:"mb-4"},Wt={class:"flex justify-end space-x-2"},Xt={type:"submit",class:"px-3 py-1.5 border border-transparent rounded-md shadow-sm text-sm text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500"},Zt={key:1,class:"fixed inset-0 overflow-y-auto z-10 flex items-center justify-center"},es={class:"relative bg-white rounded-lg max-w-sm w-full mx-2 p-4 shadow-lg"},ts={class:"mb-3"},ss=["value"],os={class:"mb-3"},ns=["required"],ls={class:"mb-3"},rs={class:"flex space-x-4"},as={class:"flex items-center text-sm"},is={class:"flex items-center text-sm"},ds={class:"mb-4"},us=["value"],cs=["value"],ms=["value"],bs={class:"mb-3"},ps={class:"mb-3"},gs={class:"mb-4"},fs={class:"flex justify-end space-x-2"},vs={type:"submit",class:"px-3 py-1.5 border border-transparent rounded-md shadow-sm text-sm text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500"},xs={key:2,class:"fixed mr-16 sm:mr-0 inset-0 flex items-center justify-center bg-black bg-opacity-50"},ys={class:"bg-white rounded-lg shadow-lg p-4 sm:p-6 w-full max-w-xs sm:max-w-sm md:max-w-md"},ws={class:"mb-4"},hs=["value"],_s=["value"],ks=["value"],Ss=["value"],Cs={class:"mb-3"},Es={class:"flex space-x-4"},Is={class:"flex items-center text-sm"},Ms=["checked"],As={class:"flex items-center text-sm"},Ds=["checked"],js={class:"mb-4"},Ts={class:"mb-4"},Vs={class:"mb-4"},Us={class:"flex justify-end space-x-2"},Os={key:3,class:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50"},$s={class:"bg-white rounded-lg shadow-lg p-4 sm:p-6 w-full max-w-xs sm:max-w-sm md:max-w-md"},qs={class:"flex justify-end space-x-2"},Bs={key:4,class:"fixed inset-0 overflow-y-auto z-10 flex items-center justify-center"},Ls={class:"relative bg-purple-900 text-white rounded-lg max-w-md w-full mx-4 p-4 shadow-xl border-2 border-yellow-500"},Ns={class:"space-y-2"},Ks={class:"flex justify-between items-center"},Fs={class:"text-xs font-medium text-white"},Ys={class:"text-xs font-semibold text-yellow-500"},Ps={class:"bg-purple-900 border border-yellow-500 rounded-lg p-2 mt-2"},zs={class:"flex justify-between items-center"},Gs={class:"text-sm font-semibold text-yellow-500"},Js={class:"mt-3 flex justify-end space-x-2"},so={__name:"BudgetPlanner",props:{data:Object,today:String},setup(V){const{alertState:U,openAlert:f,clearAlert:ae}=Ie(),b=V,L=g(!1),O=g(!1),u=g(null),ie=g(null),de=g(null),H=g(b.data.incomes||[]),F=g(b.data.expenses||[]),ue=j(()=>{const s=H.value.reduce((c,m)=>{const v=m.category;return c[v]||(c[v]={totalAmount:0,incomes:[]}),c[v].totalAmount+=parseFloat(m.amount),c[v].incomes.push(m),c},{});return Object.entries(s).map(([c,{totalAmount:m}])=>({label:c,amount:Math.round(m)})).sort((c,m)=>m.amount-c.amount).slice(0,3)}),ce=j(()=>{const s=F.value.reduce((m,v)=>{const E=v.category;return m[E]||(m[E]=[]),m[E].push(v),m},{});return Object.entries(s).map(([m,v])=>({category:m,totalAmount:v.reduce((E,we)=>E+parseFloat(we.amount),0),expenses:v})).sort((m,v)=>v.totalAmount-m.totalAmount).slice(0,3).map(m=>({label:m.category,amount:Math.round(m.totalAmount),expenses:m.expenses}))}),Q=j(()=>F.value?F.value.reduce((o,e)=>{const s=e.category;return o[s]||(o[s]=0),o[s]+=parseFloat(e.amount),o},{}):{}),W=o=>{u.value={...o,transaction_date:o.transaction_date?new Date(o.transaction_date).toISOString().split("T")[0]:""},ie.value=b.data.incomeCategories,de.value=b.data.expenseCategories,L.value=!0},X=o=>{u.value=o,O.value=!0},S=G({category:"",description:"",amount:"",transaction_date:"",is_recurring:!1}),Z=()=>{const o=u.value;S.category=o.category,S.description=o.description,S.amount=o.amount,S.is_recurring=o.is_recurring,S.transaction_date=o.transaction_date;const e=o.type=="income"?"income.edit":"expense.edit";S.put(route(e,o.id),{onSuccess:()=>{L.value=!1,f("success","Transaction Updated Succesfully",5e3),window.location.reload()},onError:s=>{f("danger",s,5e3),console.error("Error editing transaction:",s)}})},ee=()=>{const o=u.value,e=o.type=="income"?"income.destroy":"expense.destroy";S.delete(route(e,o.id),{onSuccess:()=>{f("warning","Transaction Deleted Succesfully",5e3),O.value=!1},onError:s=>{f("danger","Error Deleting Transaction",5e3)}}),O.value=!1},C=j(()=>b.data&&(b.data.incomes&&b.data.incomes.length||b.data.expenses&&b.data.expenses.length||b.data.goals&&b.data.goals.length||b.data.debts&&b.data.debts.length||b.data.investments&&b.data.investments.length)),M=g(!1),k=g(!1),N=g(!1),Y=j(()=>n.category==="debt"||n.category==="investment"||n.category==="goal"),p=G({category:"",otherCategory:"",amount:"",description:"",income_date:"",is_recurring:!0}),n=G({category:"",otherCategory:"",amount:"",description:"",expense_date:"",is_recurring:!0});he(()=>[n.category,n.debtId,n.goalId,n.investmentId],()=>{if(n.category==="debt"){const o=b.data.debts.find(e=>e.id==n.debtId);n.description=o?o.description:""}else if(n.category==="goal"){const o=b.data.goals.find(e=>e.id==n.goalId);n.description=o?o.description:""}else if(n.category==="investment"){const o=b.data.investments.find(e=>e.id==n.investmentId);n.description=o?o.details_of_investment:""}else n.description=""});const me=()=>{p.post(route("income.store"),{onSuccess:()=>{M.value=!1,z(),p.reset(),f("success","Income added successfully",5e3)},onError:o=>{const e=Object.values(o).flat().join(" ");f("danger",e,5e3)}})},be=()=>{n.category==="debt"?ge():n.category==="investment"?fe():n.category==="goal"?ve():pe()},pe=()=>{n.post(route("expense.store"),{onSuccess:()=>{k.value=!1,z(),n.reset(),f("success","Expense added successfully",5e3),window.location.reload()},onError:o=>{const e=Object.values(o).flat().join(" ");f("danger",e,5e3)}})},ge=()=>{n.put(route("debt.contribute",n.debtId),{onSuccess:()=>{k.value=!1,n.reset(),f("success","Contribution Made Succesfully.",5e3),window.location.reload()},onError:o=>{const e=Object.values(o).flat().join(" ");f("danger",e,5e3)}})},fe=()=>{n.put(route("invest.contribute",n.investmentId),{onSuccess:()=>{k.value=!1,n.reset(),f("success","Contribution Made Succesfully.",5e3),window.location.reload()},onError:o=>{const e=Object.values(o).flat().join(" ");f("danger",e,5e3)}})},ve=()=>{n.put(route("goal.contribute",n.goalId),{onSuccess:()=>{k.value=!1,n.reset(),f("success","Contribution Made Succesfully.",5e3),window.location.reload()},onError:o=>{const e=Object.values(o).flat().join(" ");f("danger",e,5e3)}})},A=g(null),P=g([]),$=g(0),D=g(0),q=g(0),K=j(()=>A.value?b.data.transactions.filter(o=>{const e=new Date(o.transaction_date);return te(e)===A.value}):b.data.transactions);_e(()=>{xe()});function xe(){const o={};b.data.transactions.forEach(e=>{const s=new Date(e.transaction_date),c=te(s);o[c]=!0}),P.value=Object.keys(o).sort((e,s)=>{const[c,m]=e.split(" "),[v,E]=s.split(" ");return E-m||se(v)-se(c)}),P.value.length>0&&ye(P.value[0])}function te(o){return`${["January","February","March","April","May","June","July","August","September","October","November","December"][o.getMonth()]} ${o.getFullYear()}`}function se(o){return["January","February","March","April","May","June","July","August","September","October","November","December"].indexOf(o.split(" ")[0])}function ye(o){A.value=o,z()}function z(){$.value=K.value.filter(o=>o.type==="income").reduce((o,e)=>o+parseFloat(e.amount),0),D.value=K.value.filter(o=>o.type!=="income").reduce((o,e)=>o+parseFloat(e.amount),0),q.value=$.value-D.value}return(o,e)=>(a(),i(y,null,[B(l(ke),{title:"Budget Planner"}),B(Ce,null,{default:oe(()=>[t("div",De,[B(Ee,null,{default:oe(()=>[t("div",je,[t("div",Te,[d(t("div",Ve,[t("div",null,[t("h1",Ue,r(V.today)+"'s Budget",1)]),t("div",Oe,[t("button",{onClick:e[0]||(e[0]=s=>N.value=!0),class:"w-full py-2 px-4 bg-purple-600 hover:bg-purple-700 text-white font-medium rounded-md transition duration-150"}," View Budget ")])],512),[[w,C.value]]),l(U)?(a(),Se(Me,{key:0,type:l(U).type,message:l(U).message,duration:l(U).duration,"auto-close":l(U).autoClose,onClose:l(ae)},null,8,["type","message","duration","auto-close","onClose"])):x("",!0),C.value?(a(),i("div",$e,[t("div",qe,[t("div",Be,[e[37]||(e[37]=t("dt",{class:"text-sm font-medium text-gray-500 truncate"},"Total Income",-1)),t("dd",Le,"KES "+r($.value.toLocaleString()),1)])]),t("div",Ne,[t("div",Ke,[e[38]||(e[38]=t("dt",{class:"text-sm font-medium text-gray-500 truncate"},"Total Expenses",-1)),t("dd",Fe,"KES "+r(D.value.toLocaleString()),1)])]),t("div",Ye,[t("div",Pe,[e[39]||(e[39]=t("dt",{class:"text-sm font-medium text-gray-500 truncate"},"Balance",-1)),t("dd",{class:J(["mt-1 text-3xl font-semibold",q.value>=0?"text-green-600":"text-red-600"])}," KES "+r(q.value.toLocaleString()),3)])]),t("div",ze,[t("div",Ge,[t("button",{onClick:e[1]||(e[1]=s=>M.value=!0),class:"w-full py-2 px-4 bg-green-600 hover:bg-green-700 text-white font-medium rounded-md transition duration-150"}," Add Income "),t("button",{onClick:e[2]||(e[2]=s=>k.value=!0),class:"w-full py-2 px-4 bg-red-600 hover:bg-red-700 text-white font-medium rounded-md transition duration-150"}," Add Expense ")])])])):x("",!0),C.value?x("",!0):(a(),i("div",Je,[e[40]||(e[40]=t("p",{class:"text-lg text-gray-600"},"You have no data available for this month.",-1)),t("div",Re,[t("button",{onClick:e[3]||(e[3]=s=>M.value=!0),class:"py-2 px-4 bg-green-600 hover:bg-green-700 text-white font-medium rounded-md transition duration-150"}," Add Income "),t("button",{onClick:e[4]||(e[4]=s=>k.value=!0),class:"py-2 px-4 bg-red-600 hover:bg-red-700 text-white font-medium rounded-md transition duration-150"}," Add Expense ")])])),t("div",He,[t("a",{target:"_blank",href:o.route("budget.budgets"),class:"bg-purple-500 px-4 py-2 rounded-md text-white hover:bg-purple-600"},"View Previous Budgets",8,Qe)]),C.value?(a(),i("div",We,[B(ne,{title:"Top Income Sources",items:ue.value,type:"income",class:"bg-white shadow rounded-lg"},null,8,["items"]),B(ne,{title:"Top Expenses",items:ce.value,type:"expense",class:"bg-white shadow rounded-lg"},null,8,["items"])])):x("",!0),d(t("div",Xe,[t("h2",Ze,"Your Income - "+r(A.value),1),t("div",et,[t("ul",tt,[(a(!0),i(y,null,h(H.value,s=>(a(),i("li",{key:s.id,class:"px-4 py-3"},[t("div",st,[t("div",null,[t("p",ot,r(s.category)+" - "+r(s.description),1)]),t("div",nt,[t("div",lt," + KES "+r(Math.round(parseFloat(s.amount)).toLocaleString()),1),t("button",{onClick:c=>W(s),class:"bg-blue-500 hover:bg-blue-600 text-white px-3 py-1 rounded"}," Edit ",8,rt),t("button",{onClick:c=>X(s),class:"bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded"}," Delete ",8,at)])])]))),128)),t("li",it,[t("div",dt,[e[41]||(e[41]=t("div",null,[t("p",{class:"text-sm font-bold text-gray-900"}," TOTAL INCOME ")],-1)),t("div",ut," KES "+r($.value.toLocaleString()),1)])])])])],512),[[w,C.value]]),d(t("div",ct,[t("h2",mt,"Your Budget - "+r(A.value),1),t("div",bt,[t("ul",pt,[(a(!0),i(y,null,h(Q.value,(s,c)=>(a(),i("li",{key:c,class:"px-4 py-3"},[t("div",gt,[t("div",null,[t("p",ft,r(c),1)]),t("div",vt,[t("div",xt," - KES "+r(Math.round(parseFloat(s)).toLocaleString()),1)])])]))),128)),t("li",yt,[t("div",wt,[e[42]||(e[42]=t("div",null,[t("p",{class:"text-sm font-bold text-gray-900"}," TOTAL MONTHLY BUDGET ")],-1)),t("div",ht," KES "+r(D.value.toLocaleString()),1)])])])])],512),[[w,C.value]]),d(t("div",_t,[e[43]||(e[43]=t("h2",{class:"text-xl font-bold text-center text-gray-900"},"All Transactions",-1)),t("div",kt,[t("ul",St,[K.value.length===0?(a(),i("li",Ct," No transactions right now. Add the first transaction. ")):x("",!0),(a(!0),i(y,null,h(K.value,s=>(a(),i("li",{key:s.id,class:"px-4 py-3"},[t("div",Et,[t("div",null,[t("p",It,r(s.description),1),t("p",Mt,r(l(Ae)(s.transaction_date)),1)]),t("div",At,[t("div",{class:J([s.type==="income"?"text-green-600":"text-red-600","font-medium"])},r(s.type==="income"?"+":"-")+" KES "+r(Math.round(s.amount).toLocaleString()),3),t("button",{onClick:c=>W(s),class:"bg-blue-500 hover:bg-blue-600 text-white px-3 py-1 rounded"}," Edit ",8,Dt),t("button",{onClick:c=>X(s),class:"bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded"}," Delete ",8,jt)])])]))),128))]),t("div",Tt,[t("div",Vt,[t("span",Ut,r(A.value)+" Summary:",1),t("div",Ot,[t("p",$t,"Income: KES "+r($.value.toLocaleString()),1),t("p",qt,"Expenses: KES "+r(D.value.toLocaleString()),1),t("p",{class:J(["text-sm font-bold",q.value>=0?"text-green-600":"text-red-600"])}," Balance: KES "+r(q.value.toLocaleString()),3)])])])])],512),[[w,C.value]])])]),M.value?(a(),i("div",Bt,[t("div",{class:"fixed inset-0 bg-black bg-opacity-50",onClick:e[5]||(e[5]=s=>M.value=!1)}),t("div",Lt,[e[53]||(e[53]=t("h3",{class:"text-base font-semibold text-gray-900 mb-3"},"Add Income",-1)),t("form",{onSubmit:R(me,["prevent"])},[t("div",Nt,[e[45]||(e[45]=t("label",{for:"incomeCategory",class:"block text-sm font-medium text-gray-700 mb-1"},"Income Type",-1)),d(t("select",{id:"incomeCategory","onUpdate:modelValue":e[6]||(e[6]=s=>l(p).category=s),class:"w-full px-2 py-1.5 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:""},[e[44]||(e[44]=t("option",{value:""},"Select Income Category",-1)),(a(!0),i(y,null,h(l(re),s=>(a(),i("option",{key:s.value,value:s.label},r(s.label),9,Kt))),128))],512),[[I,l(p).category]])]),d(t("div",Ft,[e[46]||(e[46]=t("label",{for:"incomeCategory",class:"block text-sm font-medium text-gray-700 mb-1"},"Specify Income",-1)),d(t("input",{type:"text",id:"incomeCategory","onUpdate:modelValue":e[7]||(e[7]=s=>l(p).otherCategory=s),class:"w-full px-2 py-1.5 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:l(p).value==="other"},null,8,Yt),[[_,l(p).otherCategory]])],512),[[w,l(p).category==="Other"]]),t("div",Pt,[e[49]||(e[49]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Is Recurrent?",-1)),t("div",zt,[t("label",Gt,[d(t("input",{type:"radio",id:"yes",name:"is_recurring",value:"1","onUpdate:modelValue":e[8]||(e[8]=s=>l(p).is_recurring=s),checked:""},null,512),[[T,l(p).is_recurring]]),e[47]||(e[47]=t("span",{class:"ml-1"},"Yes",-1))]),t("label",Jt,[d(t("input",{type:"radio",id:"no",name:"is_recurring",value:"0","onUpdate:modelValue":e[9]||(e[9]=s=>l(p).is_recurring=s)},null,512),[[T,l(p).is_recurring]]),e[48]||(e[48]=t("span",{class:"ml-1"},"No",-1))])])]),t("div",Rt,[e[50]||(e[50]=t("label",{for:"incomeDescription",class:"block text-sm font-medium text-gray-700 mb-1"},"Description",-1)),d(t("textarea",{id:"incomeDescription","onUpdate:modelValue":e[10]||(e[10]=s=>l(p).description=s),class:"w-full px-2 py-1.5 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:""},null,512),[[_,l(p).description]])]),t("div",Ht,[e[51]||(e[51]=t("label",{for:"incomeAmount",class:"block text-sm font-medium text-gray-700 mb-1"},"Amount (KES)",-1)),d(t("input",{type:"number",id:"incomeAmount","onUpdate:modelValue":e[11]||(e[11]=s=>l(p).amount=s),class:"w-full px-2 py-1.5 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",min:"0",step:"0.01",required:""},null,512),[[_,l(p).amount]])]),t("div",Qt,[e[52]||(e[52]=t("label",{for:"incomeDate",class:"block text-sm font-medium text-gray-700 mb-1"},"Date",-1)),d(t("input",{type:"date",id:"incomeDate","onUpdate:modelValue":e[12]||(e[12]=s=>l(p).income_date=s),class:"w-full px-2 py-1.5 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:""},null,512),[[_,l(p).income_date]])]),t("div",Wt,[t("button",{type:"button",onClick:e[13]||(e[13]=s=>M.value=!1),class:"px-3 py-1.5 border border-gray-300 rounded-md shadow-sm text-sm text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"}," Cancel "),t("button",Xt,r(l(p).processing?"Saving...":"Save Income"),1)])],32)])])):x("",!0),k.value?(a(),i("div",Zt,[t("div",{class:"fixed inset-0 bg-black bg-opacity-50",onClick:e[14]||(e[14]=s=>k.value=!1)}),t("div",es,[e[67]||(e[67]=t("h3",{class:"text-base font-semibold text-gray-900 mb-3"},"Add Expense",-1)),t("form",{onSubmit:R(be,["prevent"])},[t("div",ts,[e[55]||(e[55]=t("label",{for:"expenseCategory",class:"block text-sm font-medium text-gray-700 mb-1"},"Expense Type",-1)),d(t("select",{id:"expenseCategory","onUpdate:modelValue":e[15]||(e[15]=s=>l(n).category=s),class:"w-full px-2 py-1.5 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:""},[e[54]||(e[54]=t("option",{value:""},"Select Expense Type",-1)),(a(!0),i(y,null,h(l(le),s=>(a(),i("option",{value:s.value,key:s.value},r(s.label),9,ss))),128))],512),[[I,l(n).category]])]),d(t("div",os,[e[56]||(e[56]=t("label",{for:"incomeCategory",class:"block text-sm font-medium text-gray-700 mb-1"},"Specify Expense",-1)),d(t("input",{type:"text",id:"incomeCategory","onUpdate:modelValue":e[16]||(e[16]=s=>l(n).otherCategory=s),class:"w-full px-2 py-1.5 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:l(n).value==="other"},null,8,ns),[[_,l(n).otherCategory]])],512),[[w,l(n).category==="Other"]]),d(t("div",ls,[e[59]||(e[59]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Is Recurrent?",-1)),t("div",rs,[t("label",as,[d(t("input",{type:"radio",id:"yes",name:"is_recurring",value:"1","onUpdate:modelValue":e[17]||(e[17]=s=>l(n).is_recurring=s),checked:""},null,512),[[T,l(n).is_recurring]]),e[57]||(e[57]=t("span",{class:"ml-1"},"Yes",-1))]),t("label",is,[d(t("input",{type:"radio",id:"no",name:"is_recurring",value:"0","onUpdate:modelValue":e[18]||(e[18]=s=>l(n).is_recurring=s)},null,512),[[T,l(n).is_recurring]]),e[58]||(e[58]=t("span",{class:"ml-1"},"No",-1))])])],512),[[w,!Y.value]]),d(t("div",ds,[e[63]||(e[63]=t("label",{for:"contributionType",class:"block text-sm font-medium text-gray-700 mb-1"},"Specify the contribution",-1)),l(n).category==="debt"?d((a(),i("select",{key:0,id:"contributionType","onUpdate:modelValue":e[19]||(e[19]=s=>l(n).debtId=s),class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:""},[e[60]||(e[60]=t("option",{value:""},"Select Contribution",-1)),(a(!0),i(y,null,h(V.data.debts,s=>(a(),i("option",{key:s.id,value:s.id},r(s.name),9,us))),128))],512)),[[I,l(n).debtId]]):x("",!0),l(n).category==="goal"?d((a(),i("select",{key:1,id:"contributionType","onUpdate:modelValue":e[20]||(e[20]=s=>l(n).goalId=s),class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:""},[e[61]||(e[61]=t("option",{value:""},"Select Contribution",-1)),(a(!0),i(y,null,h(V.data.goals,s=>(a(),i("option",{key:s.id,value:s.id},r(s.name),9,cs))),128))],512)),[[I,l(n).goalId]]):x("",!0),l(n).category==="investment"?d((a(),i("select",{key:2,id:"contributionType","onUpdate:modelValue":e[21]||(e[21]=s=>l(n).investmentId=s),class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:""},[e[62]||(e[62]=t("option",{value:""},"Select Contribution",-1)),(a(!0),i(y,null,h(V.data.investments,s=>(a(),i("option",{key:s.id,value:s.id},r(s.details_of_investment),9,ms))),128))],512)),[[I,l(n).investmentId]]):x("",!0)],512),[[w,Y.value]]),t("div",bs,[e[64]||(e[64]=t("label",{for:"expenseAmount",class:"block text-sm font-medium text-gray-700 mb-1"},"Amount (KES)",-1)),d(t("input",{type:"number",id:"expenseAmount","onUpdate:modelValue":e[22]||(e[22]=s=>l(n).amount=s),class:"w-full px-2 py-1.5 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",min:"0",step:"0.01",required:""},null,512),[[_,l(n).amount]])]),t("div",ps,[e[65]||(e[65]=t("label",{for:"expenseDescription",class:"block text-sm font-medium text-gray-700 mb-1"},"Description",-1)),d(t("textarea",{id:"expenseDescription","onUpdate:modelValue":e[23]||(e[23]=s=>l(n).description=s),rows:"2",class:"w-full px-2 py-1.5 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:""},null,512),[[_,l(n).description]])]),d(t("div",gs,[e[66]||(e[66]=t("label",{for:"expenseDate",class:"block text-sm font-medium text-gray-700 mb-1"},"Date",-1)),d(t("input",{type:"date",id:"expenseDate","onUpdate:modelValue":e[24]||(e[24]=s=>l(n).expense_date=s),class:"w-full px-2 py-1.5 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"},null,512),[[_,l(n).expense_date]])],512),[[w,!Y.value]]),t("div",fs,[t("button",{type:"button",onClick:e[25]||(e[25]=s=>k.value=!1),class:"px-3 py-1.5 border border-gray-300 rounded-md shadow-sm text-sm text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"}," Cancel "),t("button",vs,r(l(n).processing?"Saving...":"Save Expense"),1)])],32)])])):x("",!0),L.value?(a(),i("div",xs,[t("div",ys,[e[75]||(e[75]=t("h3",{class:"text-lg font-bold mb-4"},"Edit Transaction",-1)),t("form",{onSubmit:R(Z,["prevent"])},[t("div",ws,[e[68]||(e[68]=t("label",{for:"transactionType",class:"block text-sm font-medium text-gray-700 mb-1"},"Category",-1)),d(t("select",{"onUpdate:modelValue":e[26]||(e[26]=s=>u.value.category=s),class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:""},[t("option",{value:u.value.category},r(u.value.category),9,hs),(a(!0),i(y,null,h(l(le),s=>(a(),i("option",{key:s.value,value:s.label},r(s.label),9,_s))),128))],512),[[w,u.value.type==="expense"],[I,u.value.category]]),d(t("select",{"onUpdate:modelValue":e[27]||(e[27]=s=>u.value.category=s),class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:""},[t("option",{value:u.value.category},r(u.value.category),9,ks),(a(!0),i(y,null,h(l(re),s=>(a(),i("option",{key:s.value,value:s.label},r(s.label),9,Ss))),128))],512),[[w,u.value.type==="income"],[I,u.value.category]])]),t("div",Cs,[e[71]||(e[71]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Is Recurrent?",-1)),t("div",Es,[t("label",Is,[d(t("input",{type:"radio",id:"yes",name:"is_recurring",value:!0,"onUpdate:modelValue":e[28]||(e[28]=s=>u.value.is_recurring=s),checked:u.value.is_recurring==!0},null,8,Ms),[[T,u.value.is_recurring]]),e[69]||(e[69]=t("span",{class:"ml-1"},"Yes",-1))]),t("label",As,[d(t("input",{type:"radio",id:"no",name:"is_recurring",value:!1,"onUpdate:modelValue":e[29]||(e[29]=s=>u.value.is_recurring=s),checked:u.value.is_recurring==!1},null,8,Ds),[[T,u.value.is_recurring]]),e[70]||(e[70]=t("span",{class:"ml-1"},"No",-1))])])]),t("div",js,[e[72]||(e[72]=t("label",{for:"incomeAmount",class:"block text-sm font-medium text-gray-700 mb-1"},"Amount (KES)",-1)),d(t("input",{type:"number",id:"incomeAmount",name:"amount","onUpdate:modelValue":e[30]||(e[30]=s=>u.value.amount=s),class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",min:"0",step:"0.01",required:""},null,512),[[_,u.value.amount]])]),t("div",Ts,[e[73]||(e[73]=t("label",{for:"transactionAmount",class:"block text-sm font-medium text-gray-700 mb-1"},"Description",-1)),d(t("input",{type:"text",id:"transactionAmount",name:"description","onUpdate:modelValue":e[31]||(e[31]=s=>u.value.description=s),class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:""},null,512),[[_,u.value.description]])]),t("div",Vs,[e[74]||(e[74]=t("label",{for:"transactionDate",class:"block text-sm font-medium text-gray-700 mb-1"},"Date",-1)),d(t("input",{type:"date",id:"transactionDate",name:"transaction_date","onUpdate:modelValue":e[32]||(e[32]=s=>u.value.transaction_date=s),class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:""},null,512),[[_,u.value.transaction_date]])]),t("div",Us,[t("button",{onClick:Z,class:"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded"},r(l(S).processing?"Saving...":"Submit"),1),t("button",{onClick:e[33]||(e[33]=s=>L.value=!1),class:"bg-gray-300 hover:bg-gray-400 text-gray-700 px-4 py-2 rounded"},"Cancel")])],32)])])):x("",!0),O.value?(a(),i("div",Os,[t("div",$s,[e[76]||(e[76]=t("h3",{class:"text-lg font-bold mb-4"},"Confirm Delete",-1)),e[77]||(e[77]=t("p",{class:"mb-4"},"Are you sure you want to delete this transaction?",-1)),t("div",qs,[t("button",{onClick:ee,class:"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded"},r(ee.processing?"Deleting...":"Delete"),1),t("button",{onClick:e[34]||(e[34]=s=>O.value=!1),class:"bg-gray-300 hover:bg-gray-400 text-gray-700 px-4 py-2 rounded"},"Cancel")])])])):x("",!0),N.value?(a(),i("div",Bs,[t("div",{class:"fixed inset-0 bg-black bg-opacity-50",onClick:e[35]||(e[35]=s=>N.value=!1)}),t("div",Ls,[e[79]||(e[79]=t("h3",{class:"text-base font-semibold text-yellow-500 mb-3"},"Monthly Budget Overview",-1)),t("div",Ns,[(a(!0),i(y,null,h(Q.value,(s,c)=>(a(),i("div",{key:c,class:"bg-purple-900 border border-purple-700 rounded-lg p-2 hover:bg-purple-800 transition-colors"},[t("div",Ks,[t("h4",Fs,r(c),1),t("span",Ys," KES "+r(s.toLocaleString()),1)])]))),128))]),t("div",Ps,[t("div",zs,[e[78]||(e[78]=t("h4",{class:"text-sm font-medium text-white"},"TOTAL: ",-1)),t("span",Gs," KES "+r(D.value.toLocaleString()),1)])]),t("div",Js,[t("button",{onClick:e[36]||(e[36]=s=>N.value=!1),class:"px-3 py-1 border border-yellow-500 rounded-md shadow-sm text-xs font-medium text-purple-900 bg-yellow-500 hover:bg-yellow-400 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-900"}," Close ")])])])):x("",!0)]),_:1})])]),_:1})],64))}};export{so as default};
