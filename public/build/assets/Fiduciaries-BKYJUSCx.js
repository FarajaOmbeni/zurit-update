import{A as L}from"./AuthenticatedLayout-ueg2KzGX.js";import{r as V,C as R,b as d,o as i,d as a,u as s,m as G,w as $,a as e,c as D,f as b,h as U,F as v,i as C,t as z}from"./app-Beo4ItwT.js";import{_ as M,r as q}from"./Sidebar-BLYFEQMp.js";import{_ as H}from"./DashboardBackButton-DXe3P3lP.js";import{_ as K,r as k,a as A}from"./LegacyProgress-a6BMIr8V.js";import{_ as n}from"./Input-CTEBI7vO.js";import{_ as O}from"./Select-BFzLsqnA.js";import{_ as Q}from"./Alert-D4vUwmIe.js";import{u as W}from"./useAlert-BXHLJ6Ln.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css                                                */import"./EllipsisHorizontalIcon-CXhkN-_T.js";import"./AcademicCapIcon-BxSvzwyG.js";import"./UserIcon-CImU51LK.js";import"./ChartBarIcon-CkJeh_d0.js";import"./HomeIcon-CdmROl8M.js";const X={class:"w-full text-gray-900"},Y={class:"max-w-6xl mx-auto p-6"},Z={class:"bg-white rounded-lg shadow-sm border p-6 mb-6"},ee={class:"flex items-center justify-between mb-4"},te={key:0,class:"text-sm text-gray-500"},le={class:"space-y-4"},ae={class:"grid md:grid-cols-3 gap-4"},oe={class:"grid md:grid-cols-3 gap-4 mt-3"},se={class:"flex items-end justify-end"},ne=["onClick"],ie={class:"bg-white rounded-lg shadow-sm border p-6 mb-6"},de={class:"flex items-center justify-between mb-4"},ue={key:0,class:"text-sm text-gray-500"},re={class:"space-y-4"},me={class:"grid md:grid-cols-3 gap-4"},ce={class:"grid md:grid-cols-3 gap-4 mt-3"},pe={class:"flex items-end justify-end"},_e=["onClick"],ge={class:"bg-white rounded-lg shadow-sm border p-6 mb-8"},xe={class:"flex items-center justify-between mb-4"},be={key:0,class:"text-sm text-gray-500"},ve={class:"space-y-4"},ye={class:"grid md:grid-cols-3 gap-4"},he={class:"grid md:grid-cols-3 gap-4 mt-3"},fe={class:"flex items-end justify-end"},Ve=["onClick"],Ue={class:"flex items-center justify-between pt-6 border-t"},Ce={class:"text-sm text-gray-500 flex items-center space-x-2"},ke={class:"space-x-3"},Ae=["disabled"],De={__name:"Fiduciaries",props:{fiduciaries:{type:Object,default:()=>null}},setup(j){var F,S,T;const r=j,{openAlert:N,clearAlert:E,alertState:g}=W(),y=[{value:"law_firm",label:"Law Firm"},{value:"bank_trust",label:"Bank Trust Department"},{value:"trust_company",label:"Professional Trust Company"},{value:"attorney",label:"Attorney"},{value:"accountant",label:"Accountant"},{value:"religious_org",label:"Religious Organization"},{value:"family_company",label:"Family Company/Entity"},{value:"other",label:"Other Institution"}],m=V(Array.isArray((F=r.fiduciaries)==null?void 0:F.executors)?JSON.parse(JSON.stringify(r.fiduciaries.executors)):[]),c=V(Array.isArray((S=r.fiduciaries)==null?void 0:S.trustees)?JSON.parse(JSON.stringify(r.fiduciaries.trustees)):[]),p=V(Array.isArray((T=r.fiduciaries)==null?void 0:T.guardians)?JSON.parse(JSON.stringify(r.fiduciaries.guardians)):[]);function h(){return{institution_type:"",institution_name:"",contact_name:"",email:"",phone:""}}function P(){m.value.push(h())}function I(){c.value.push(h())}function J(){p.value.push(h())}function f(x,o){x.splice(o,1)}const _=R({executors:m.value,trustees:c.value,guardians:p.value});function B(){_.executors=m.value,_.trustees=c.value,_.guardians=p.value}function w(){B(),_.post(route("legacy.fiduciaries.save"),{preserveScroll:!0,onSuccess:()=>{N("success","Fiduciaries saved successfully!",5e3)},onError:x=>{const o=Object.values(x).flat().join(" ");N("danger",o||"Failed to save fiduciaries.",1e4)}})}return(x,o)=>(i(),d(v,null,[a(s(G),{title:"Fiduciaries - Legacy & Estate Planning"}),a(L,null,{default:$(()=>[e("div",X,[a(M,null,{default:$(()=>[a(H),e("div",Y,[s(g)?(i(),D(Q,{key:0,type:s(g).type,message:s(g).message,duration:s(g).duration,"auto-close":s(g).autoClose,onClose:s(E)},null,8,["type","message","duration","auto-close","onClose"])):b("",!0),o[7]||(o[7]=e("div",{class:"mb-8"},[e("h1",{class:"text-3xl font-bold text-gray-900 mb-2"},"Step 3: Fiduciaries"),e("p",{class:"text-gray-600"},"Appoint executors, trustees, and guardians. Use institutions for professional management.")],-1)),a(K,{current:3}),e("div",Z,[e("div",ee,[o[1]||(o[1]=e("h3",{class:"text-lg font-semibold text-gray-900"},"Executors",-1)),e("button",{onClick:P,type:"button",class:"bg-purple-600 hover:bg-purple-700 text-white font-semibold py-2 px-3 rounded-lg flex items-center"},[a(s(k),{class:"w-5 h-5 mr-2"}),o[0]||(o[0]=U(" Add Executor "))])]),m.value.length===0?(i(),d("div",te,"No executors added yet.")):b("",!0),e("div",le,[(i(!0),d(v,null,C(m.value,(t,u)=>(i(),d("div",{key:u,class:"border rounded-lg p-4"},[e("div",ae,[a(O,{modelValue:t.institution_type,"onUpdate:modelValue":l=>t.institution_type=l,label:"Institution Type",options:y,error:""},null,8,["modelValue","onUpdate:modelValue"]),a(n,{modelValue:t.institution_name,"onUpdate:modelValue":l=>t.institution_name=l,label:"Institution Name",placeholder:"e.g., Acme Trust Co."},null,8,["modelValue","onUpdate:modelValue"]),a(n,{modelValue:t.contact_name,"onUpdate:modelValue":l=>t.contact_name=l,label:"Contact Person (Optional)",placeholder:"Full name"},null,8,["modelValue","onUpdate:modelValue"])]),e("div",oe,[a(n,{modelValue:t.email,"onUpdate:modelValue":l=>t.email=l,type:"email",label:"Email (Optional)",placeholder:"email@example.com"},null,8,["modelValue","onUpdate:modelValue"]),a(n,{modelValue:t.phone,"onUpdate:modelValue":l=>t.phone=l,label:"Phone (Optional)",placeholder:"07xx xxx xxx"},null,8,["modelValue","onUpdate:modelValue"]),e("div",se,[e("button",{onClick:l=>f(m.value.value,u),type:"button",class:"p-2 text-red-600 hover:text-red-700 hover:bg-red-50 rounded-lg"},[a(s(A),{class:"w-5 h-5"})],8,ne)])])]))),128))])]),e("div",ie,[e("div",de,[o[3]||(o[3]=e("h3",{class:"text-lg font-semibold text-gray-900"},"Trustees",-1)),e("button",{onClick:I,type:"button",class:"bg-purple-600 hover:bg-purple-700 text-white font-semibold py-2 px-3 rounded-lg flex items-center"},[a(s(k),{class:"w-5 h-5 mr-2"}),o[2]||(o[2]=U(" Add Trustee "))])]),c.value.length===0?(i(),d("div",ue,"No trustees added yet.")):b("",!0),e("div",re,[(i(!0),d(v,null,C(c.value,(t,u)=>(i(),d("div",{key:u,class:"border rounded-lg p-4"},[e("div",me,[a(O,{modelValue:t.institution_type,"onUpdate:modelValue":l=>t.institution_type=l,label:"Institution Type",options:y,error:""},null,8,["modelValue","onUpdate:modelValue"]),a(n,{modelValue:t.institution_name,"onUpdate:modelValue":l=>t.institution_name=l,label:"Institution Name",placeholder:"e.g., Acme Trust Co."},null,8,["modelValue","onUpdate:modelValue"]),a(n,{modelValue:t.contact_name,"onUpdate:modelValue":l=>t.contact_name=l,label:"Contact Person (Optional)",placeholder:"Full name"},null,8,["modelValue","onUpdate:modelValue"])]),e("div",ce,[a(n,{modelValue:t.email,"onUpdate:modelValue":l=>t.email=l,type:"email",label:"Email (Optional)",placeholder:"email@example.com"},null,8,["modelValue","onUpdate:modelValue"]),a(n,{modelValue:t.phone,"onUpdate:modelValue":l=>t.phone=l,label:"Phone (Optional)",placeholder:"07xx xxx xxx"},null,8,["modelValue","onUpdate:modelValue"]),e("div",pe,[e("button",{onClick:l=>f(c.value.value,u),type:"button",class:"p-2 text-red-600 hover:text-red-700 hover:bg-red-50 rounded-lg"},[a(s(A),{class:"w-5 h-5"})],8,_e)])])]))),128))])]),e("div",ge,[e("div",xe,[o[5]||(o[5]=e("h3",{class:"text-lg font-semibold text-gray-900"},"Guardians",-1)),e("button",{onClick:J,type:"button",class:"bg-purple-600 hover:bg-purple-700 text-white font-semibold py-2 px-3 rounded-lg flex items-center"},[a(s(k),{class:"w-5 h-5 mr-2"}),o[4]||(o[4]=U(" Add Guardian "))])]),p.value.length===0?(i(),d("div",be,"No guardians added yet.")):b("",!0),e("div",ve,[(i(!0),d(v,null,C(p.value,(t,u)=>(i(),d("div",{key:u,class:"border rounded-lg p-4"},[e("div",ye,[a(O,{modelValue:t.institution_type,"onUpdate:modelValue":l=>t.institution_type=l,label:"Institution Type",options:y,error:""},null,8,["modelValue","onUpdate:modelValue"]),a(n,{modelValue:t.institution_name,"onUpdate:modelValue":l=>t.institution_name=l,label:"Institution Name",placeholder:"e.g., Acme Trust Co."},null,8,["modelValue","onUpdate:modelValue"]),a(n,{modelValue:t.contact_name,"onUpdate:modelValue":l=>t.contact_name=l,label:"Contact Person (Optional)",placeholder:"Full name"},null,8,["modelValue","onUpdate:modelValue"])]),e("div",he,[a(n,{modelValue:t.email,"onUpdate:modelValue":l=>t.email=l,type:"email",label:"Email (Optional)",placeholder:"email@example.com"},null,8,["modelValue","onUpdate:modelValue"]),a(n,{modelValue:t.phone,"onUpdate:modelValue":l=>t.phone=l,label:"Phone (Optional)",placeholder:"07xx xxx xxx"},null,8,["modelValue","onUpdate:modelValue"]),e("div",fe,[e("button",{onClick:l=>f(p.value.value,u),type:"button",class:"p-2 text-red-600 hover:text-red-700 hover:bg-red-50 rounded-lg"},[a(s(A),{class:"w-5 h-5"})],8,Ve)])])]))),128))])]),e("div",Ue,[e("div",Ce,[a(s(q),{class:"w-5 h-5 text-gray-400"}),o[6]||(o[6]=e("span",null,"Review and save your fiduciaries.",-1))]),e("div",ke,[e("button",{onClick:w,disabled:s(_).processing,class:"bg-purple-600 hover:bg-purple-700 text-white font-bold py-2 px-4 rounded-lg"},z(s(_).processing?"Saving...":"Save Changes"),9,Ae)])])])]),_:1})])]),_:1})],64))}};export{De as default};
