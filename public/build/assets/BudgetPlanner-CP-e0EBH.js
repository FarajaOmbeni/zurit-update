import{i as j,b as i,o as r,a as e,f as h,t as l,F as _,k as S,u as n,U as he,L as F,r as x,C as H,q as _e,d as N,m as ke,w as re,j as a,c as Se,O as A,v as I,g as J,H as k,V as B}from"./app-DKFtR5jf.js";import{A as Ce}from"./AuthenticatedLayout-BQGjP1mX.js";import{_ as Ee}from"./Sidebar-DSlTtGJA.js";import{f as De}from"./useFormatCurrency-DPZVhC5N.js";import{u as Me,_ as Ae}from"./useAlert-yE-xuASw.js";import{f as Ie}from"./useDateFormat-pjOuPPEs.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const je={class:"text-xl font-bold text-center mb-4"},Te={key:0,class:"grid grid-cols-3 gap-4"},$e={class:"relative w-full mb-2 flex justify-center"},Ve={class:"text-sm font-medium text-blue-600"},Ue={class:"w-full bg-gray-200 rounded-sm"},Oe={class:"mt-2 line-clamp-1 text-sm font-medium text-gray-700"},ie={__name:"BudgetBarChart",props:{title:{type:String,default:"Budget Data"},items:{type:Array,required:!0,validator:v=>v.every(y=>typeof y.amount=="number"&&typeof y.label=="string"&&typeof y.currency=="string")},type:{type:String,default:"expense",validator:v=>["income","expense"].includes(v)},maxHeight:{type:Number,default:200}},setup(v){const y=v,f=j(()=>y.items.length===0?1:Math.max(...y.items.map(c=>c.amount))),R=c=>{const T=c/f.value*y.maxHeight;return Math.max(T,20)};return(c,T)=>(r(),i("div",{class:F(["w-full max-w-lg p-4 bg-white rounded-lg shadow-md border-2",{hidden:!y}])},[e("h2",je,l(v.title),1),v.items?(r(),i("div",Te,[(r(!0),i(_,null,S(v.items,(C,d)=>(r(),i("div",{key:d,class:"flex flex-col items-center justify-end"},[e("div",$e,[e("div",Ve,l(n(De)(C.amount)),1)]),e("div",Ue,[e("div",{class:F(["rounded-sm flex justify-center items-end pt-1",v.type==="income"?"bg-green-500":"bg-red-500"]),style:he(`height: ${R(C.amount)}px`)},null,6)]),e("div",Oe,l(C.label),1)]))),128))])):h("",!0)],2))}},ae=[{value:"rent",label:"Rent"},{value:"mortgage",label:"Mortgage"},{value:"utilities",label:"Utilities"},{value:"groceries",label:"Groceries"},{value:"eatout",label:"Eating out"},{value:"transportation",label:"Transportation"},{value:"fuel",label:"Fuel"},{value:"insurance",label:"Insurance"},{value:"other",label:"Other"}],de=[{value:"salary",label:"Salary"},{value:"freelance",label:"Freelance"},{value:"business_income",label:"Business Income"},{value:"rental_income",label:"Rental Income"},{value:"investments",label:"Investments"},{value:"side_hustle",label:"Side Hustle"},{value:"bonus",label:"Bonus"},{value:"other",label:"Other"}],qe={class:"w-full text-gray-900"},Be={class:"py-6"},Le={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},Ke={class:"flex justify-between"},Ne={class:"text-2xl font-semibold text-gray-900"},Fe={class:"px-6"},Ye={key:1,class:"mt-6 grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4"},ze={class:"bg-white overflow-hidden shadow rounded-lg"},Ge={class:"px-4 py-5 sm:p-6"},He={class:"mt-1 text-3xl font-semibold text-green-600"},Je={class:"bg-white overflow-hidden shadow rounded-lg"},Re={class:"px-4 py-5 sm:p-6"},Pe={class:"mt-1 text-3xl font-semibold text-red-500"},Qe={class:"bg-white overflow-hidden shadow rounded-lg"},We={class:"px-4 py-5 sm:p-6"},Xe={class:"bg-white overflow-hidden shadow rounded-lg"},Ze={class:"px-4 py-5 sm:p-6 flex flex-col space-y-2"},et={key:2,class:"mt-6 text-center"},tt={class:"mt-4 flex justify-center space-x-2"},st={class:"my-4 w-[50%] flex flex-col items-center justify-center mx-auto"},ot=["value"],nt={key:3,class:"mt-8 grid grid-cols-1 gap-8 lg:grid-cols-2"},lt={class:"mt-12"},rt={class:"text-xl font-bold text-gray-900 text-center"},it={class:"mt-4 bg-white shadow rounded-lg"},at={class:"divide-y divide-gray-200"},dt={class:"flex items-center justify-between"},ut={class:"text-sm font-medium text-gray-900"},mt={class:"flex flex-col gap-2 md:flex-row md:gap-0 text-sm items-center space-x-2"},ct={class:"text-green-600 font-medium"},bt=["onClick"],pt=["onClick"],gt={class:"px-4 py-3 bg-gray-50"},ft={class:"flex items-center justify-between"},xt={class:"text-sm font-bold text-green-600"},vt={class:"mt-12"},yt={class:"text-xl font-bold text-gray-900 text-center"},wt={class:"mt-4 bg-white shadow rounded-lg"},ht={class:"divide-y divide-gray-200"},_t={class:"flex items-center justify-between"},kt={class:"text-sm font-medium text-gray-900"},St={class:"flex flex-col gap-2 md:flex-row md:gap-0 text-sm items-center space-x-2"},Ct={class:"text-red-600 font-medium"},Et={class:"px-4 py-3 bg-gray-50"},Dt={class:"flex items-center justify-between"},Mt={class:"text-sm font-bold text-red-600"},At={class:"mt-12"},It={class:"mt-4 bg-white shadow rounded-lg"},jt={class:"divide-y divide-gray-200"},Tt={key:0,class:"px-4 py-6 text-center text-gray-500"},$t={class:"flex items-center justify-between"},Vt={class:"text-sm font-medium text-gray-900"},Ut={class:"text-sm text-gray-500"},Ot={class:"flex flex-col gap-2 md:flex-row md:gap-0 text-sm items-center space-x-2"},qt=["onClick"],Bt=["onClick"],Lt={class:"px-4 py-3 bg-gray-50 border-t border-gray-200"},Kt={class:"flex justify-between items-center"},Nt={class:"text-sm font-medium text-gray-700"},Ft={class:"text-right"},Yt={class:"text-sm font-medium text-green-600"},zt={class:"text-sm font-medium text-red-600"},Gt={key:0,class:"fixed inset-0 overflow-y-auto z-10 flex items-center justify-center"},Ht={class:"relative bg-white rounded-lg max-w-sm w-full mx-2 p-4 shadow-lg"},Jt={class:"mb-3"},Rt=["value"],Pt={class:"mb-3"},Qt=["required"],Wt={class:"mb-3"},Xt={class:"flex space-x-4"},Zt={class:"flex items-center text-sm"},es={class:"flex items-center text-sm"},ts={class:"mb-3"},ss={class:"mb-3"},os={class:"mb-4"},ns={class:"flex justify-end space-x-2"},ls={type:"submit",class:"px-3 py-1.5 border border-transparent rounded-md shadow-sm text-sm text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500"},rs={key:1,class:"fixed inset-0 overflow-y-auto z-10 flex items-center justify-center"},is={class:"relative bg-white rounded-lg max-w-sm w-full mx-2 p-4 shadow-lg"},as={class:"mb-3"},ds=["value"],us={class:"mb-3"},ms=["required"],cs={class:"mb-3"},bs={class:"flex space-x-4"},ps={class:"flex items-center text-sm"},gs={class:"flex items-center text-sm"},fs={class:"mb-3"},xs={class:"mb-3"},vs={class:"mb-4"},ys={class:"flex justify-end space-x-2"},ws={type:"submit",class:"px-3 py-1.5 border border-transparent rounded-md shadow-sm text-sm text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500"},hs={key:2,class:"fixed mr-16 sm:mr-0 inset-0 overflow-y-auto z-10 flex items-center justify-center"},_s={class:"relative bg-white rounded-lg max-w-md w-full mx-4 p-6 shadow-xl"},ks={class:"mb-4"},Ss={class:"mb-4"},Cs=["value"],Es=["value"],Ds={class:"mb-4"},Ms={class:"mb-4"},As=["value"],Is={class:"flex justify-end space-x-3"},js={type:"submit",class:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500"},Ts={key:3,class:"fixed mr-16 sm:mr-0 inset-0 flex items-center justify-center bg-black bg-opacity-50"},$s={class:"bg-white rounded-lg shadow-lg p-4 sm:p-6 w-full max-w-xs sm:max-w-sm md:max-w-md"},Vs={class:"mb-4"},Us=["value"],Os=["value"],qs=["value"],Bs=["value"],Ls={class:"mb-3"},Ks={class:"flex space-x-4"},Ns={class:"flex items-center text-sm"},Fs=["checked"],Ys={class:"flex items-center text-sm"},zs=["checked"],Gs={class:"mb-4"},Hs={class:"mb-4"},Js={class:"mb-4"},Rs={class:"flex justify-end space-x-2"},Ps={key:4,class:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50"},Qs={class:"bg-white rounded-lg shadow-lg p-4 sm:p-6 w-full max-w-xs sm:max-w-sm md:max-w-md"},Ws={class:"flex justify-end space-x-2"},Xs={key:5,class:"fixed inset-0 overflow-y-auto z-10 flex items-center justify-center"},Zs={class:"relative bg-purple-900 text-white rounded-lg max-w-md w-full mx-4 p-4 shadow-xl border-2 border-yellow-500"},eo={class:"space-y-2"},to={class:"flex justify-between items-center"},so={class:"text-xs font-medium text-white"},oo={class:"text-xs font-semibold text-yellow-500"},no={class:"bg-purple-900 border border-yellow-500 rounded-lg p-2 mt-2"},lo={class:"flex justify-between items-center"},ro={class:"text-sm font-semibold text-yellow-500"},io={class:"mt-3 flex justify-end space-x-2"},fo={__name:"BudgetPlanner",props:{data:Object,today:String},setup(v){const{alertState:y,openAlert:f,clearAlert:R}=Me(),c=v,T=x(!1),C=x(!1),d=x(null),ue=x(null),me=x(null),W=x(c.data.incomes||[]),P=x(c.data.expenses||[]),ce=j(()=>{const s=W.value.reduce((m,b)=>{const w=b.category;return m[w]||(m[w]={totalAmount:0,incomes:[]}),m[w].totalAmount+=parseFloat(b.amount),m[w].incomes.push(b),m},{});return Object.entries(s).map(([m,{totalAmount:b}])=>({label:m,amount:Math.round(b)})).sort((m,b)=>b.amount-m.amount).slice(0,3)}),be=j(()=>{const s=P.value.reduce((b,w)=>{const U=w.category;return b[U]||(b[U]=[]),b[U].push(w),b},{});return Object.entries(s).map(([b,w])=>({category:b,totalAmount:w.reduce((U,we)=>U+parseFloat(we.amount),0),expenses:w})).sort((b,w)=>w.totalAmount-b.totalAmount).slice(0,3).map(b=>({label:b.category,amount:Math.round(b.totalAmount),expenses:b.expenses}))}),X=j(()=>P.value?P.value.reduce((o,t)=>{const s=t.category;return o[s]||(o[s]=0),o[s]+=parseFloat(t.amount),o},{}):{}),Z=o=>{d.value={...o,transaction_date:o.transaction_date?new Date(o.transaction_date).toISOString().split("T")[0]:""},ue.value=c.data.incomeCategories,me.value=c.data.expenseCategories,T.value=!0},ee=o=>{d.value=o,C.value=!0},M=H({category:"",description:"",amount:"",transaction_date:"",is_recurring:!1}),te=()=>{const o=d.value;M.category=o.category,M.description=o.description,M.amount=o.amount,M.is_recurring=o.is_recurring,M.transaction_date=o.transaction_date;const t=o.type=="income"?"income.edit":"expense.edit";M.put(route(t,o.id),{onSuccess:()=>{T.value=!1,f("success","Transaction Updated Succesfully",5e3)},onError:s=>{f("danger",s,5e3),console.error("Error editing transaction:",s)}})},se=()=>{const o=d.value,t=o.type=="income"?"income.destroy":"expense.destroy";M.delete(route(t,o.id),{onSuccess:()=>{f("warning","Transaction Deleted Succesfully",5e3),C.value=!1},onError:s=>{f("danger","Error Deleting Transaction",5e3)}}),C.value=!1},$=j(()=>c.data&&(c.data.incomes&&c.data.incomes.length||c.data.expenses&&c.data.expenses.length||c.data.goals&&c.data.goals.length||c.data.debts&&c.data.debts.length||c.data.investments&&c.data.investments.length)),O=x(!1),E=x(!1),V=x(!1),Y=x(!1),pe=j(()=>{if(u.category==="debt"&&u.debtId){const o=c.data.debts.find(t=>t.id==u.debtId);return o?o.description:""}return""}),ge=j(()=>{if(u.category==="goal"&&u.goalId){const o=c.data.goals.find(t=>t.id==u.goalId);return o?o.description:""}return""}),u=H({amount:""}),fe=()=>{u.category=="debt"?u.put(route("debt.contribute",u.debtId),{onSuccess:()=>{V.value=!1,E.value=!1,u.reset(),f("success","Contribution Made Succesfully.",5e3)},onError:o=>{const t=Object.values(o).flat().join(" ");f("danger",t,5e3)}}):u.category=="goal"?u.put(route("goal.contribute",u.goalId),{onSuccess:()=>{V.value=!1,E.value=!1,u.reset(),f("success","Contribution Made Succesfully.",5e3)},onError:o=>{const t=Object.values(o).flat().join(" ");f("danger",t,5e3)}}):u.put(route("invest.contribute",u.investmentId),{onSuccess:()=>{V.value=!1,E.value=!1,u.reset(),f("success","Contribution Made Succesfully.",5e3)},onError:o=>{const t=Object.values(o).flat().join(" ");f("danger",t,5e3)}})},p=H({category:"",otherCategory:"",amount:"",description:"",income_date:"",is_recurring:!0}),g=H({category:"",otherCategory:"",amount:"",description:"",expense_date:"",is_recurring:!0}),xe=()=>{p.post(route("income.store"),{onSuccess:()=>{O.value=!1,Q(),p.reset(),f("success","Income added successfully",5e3)},onError:o=>{const t=Object.values(o).flat().join(" ");f("danger",t,5e3)}})},ve=()=>{g.post(route("expense.store"),{onSuccess:()=>{E.value=!1,Q(),g.reset(),f("success","Expense added successfully",5e3)},onError:o=>{const t=Object.values(o).flat().join(" ");f("danger",t,5e3)}})},D=x(null),z=x([]),L=x(0),q=x(0),K=x(0),G=j(()=>D.value?c.data.transactions.filter(o=>{const t=new Date(o.transaction_date);return oe(t)===D.value}):c.data.transactions);_e(()=>{ye()});function ye(){const o={};c.data.transactions.forEach(t=>{const s=new Date(t.transaction_date),m=oe(s);o[m]=!0}),z.value=Object.keys(o).sort((t,s)=>{const[m,b]=t.split(" "),[w,U]=s.split(" ");return U-b||ne(w)-ne(m)}),z.value.length>0&&le(z.value[0])}function oe(o){return`${["January","February","March","April","May","June","July","August","September","October","November","December"][o.getMonth()]} ${o.getFullYear()}`}function ne(o){return["January","February","March","April","May","June","July","August","September","October","November","December"].indexOf(o.split(" ")[0])}function le(o){D.value=o,Q()}function Q(){L.value=G.value.filter(o=>o.type==="income").reduce((o,t)=>o+parseFloat(t.amount),0),q.value=G.value.filter(o=>o.type!=="income").reduce((o,t)=>o+parseFloat(t.amount),0),K.value=L.value-q.value}return(o,t)=>(r(),i(_,null,[N(n(ke),{title:"Dashboard"}),N(Ce,null,{default:re(()=>[e("div",qe,[N(Ee,null,{default:re(()=>[e("div",Be,[e("div",Le,[a(e("div",Ke,[e("div",null,[e("h1",Ne,l(v.today)+"'s Budget",1)]),e("div",Fe,[e("button",{onClick:t[0]||(t[0]=s=>Y.value=!0),class:"w-full py-2 px-4 bg-purple-600 hover:bg-purple-700 text-white font-medium rounded-md transition duration-150"}," View Budget ")])],512),[[A,$.value]]),n(y)?(r(),Se(Ae,{key:0,type:n(y).type,message:n(y).message,duration:n(y).duration,"auto-close":n(y).autoClose,onClose:n(R)},null,8,["type","message","duration","auto-close","onClose"])):h("",!0),$.value?(r(),i("div",Ye,[e("div",ze,[e("div",Ge,[t[43]||(t[43]=e("dt",{class:"text-sm font-medium text-gray-500 truncate"},"Total Income",-1)),e("dd",He,"KES "+l(L.value.toLocaleString()),1)])]),e("div",Je,[e("div",Re,[t[44]||(t[44]=e("dt",{class:"text-sm font-medium text-gray-500 truncate"},"Total Expenses",-1)),e("dd",Pe,"KES "+l(q.value.toLocaleString()),1)])]),e("div",Qe,[e("div",We,[t[45]||(t[45]=e("dt",{class:"text-sm font-medium text-gray-500 truncate"},"Balance",-1)),e("dd",{class:F(["mt-1 text-3xl font-semibold",K.value>=0?"text-green-600":"text-red-600"])}," KES "+l(K.value.toLocaleString()),3)])]),e("div",Xe,[e("div",Ze,[e("button",{onClick:t[1]||(t[1]=s=>O.value=!0),class:"w-full py-2 px-4 bg-green-600 hover:bg-green-700 text-white font-medium rounded-md transition duration-150"}," Add Income "),e("button",{onClick:t[2]||(t[2]=s=>E.value=!0),class:"w-full py-2 px-4 bg-red-600 hover:bg-red-700 text-white font-medium rounded-md transition duration-150"}," Add Expense ")])])])):h("",!0),$.value?h("",!0):(r(),i("div",et,[t[46]||(t[46]=e("p",{class:"text-lg text-gray-600"},"You have no data available for this month.",-1)),e("div",tt,[e("button",{onClick:t[3]||(t[3]=s=>O.value=!0),class:"py-2 px-4 bg-green-600 hover:bg-green-700 text-white font-medium rounded-md transition duration-150"}," Add Income "),e("button",{onClick:t[4]||(t[4]=s=>E.value=!0),class:"py-2 px-4 bg-red-600 hover:bg-red-700 text-white font-medium rounded-md transition duration-150"}," Add Expense ")])])),e("div",st,[t[47]||(t[47]=e("label",{for:"monthSelect",class:"block text-sm font-medium text-gray-700 mb-1"},"Select Month",-1)),a(e("select",{id:"monthSelect","onUpdate:modelValue":t[5]||(t[5]=s=>D.value=s),onChange:t[6]||(t[6]=s=>le(D.value)),class:"block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"},[(r(!0),i(_,null,S(z.value,(s,m)=>(r(),i("option",{key:m,value:s},l(s),9,ot))),128))],544),[[I,D.value]])]),$.value?(r(),i("div",nt,[N(ie,{title:"Top Income Sources",items:ce.value,type:"income",class:"bg-white shadow rounded-lg"},null,8,["items"]),N(ie,{title:"Top Expenses",items:be.value,type:"expense",class:"bg-white shadow rounded-lg"},null,8,["items"])])):h("",!0),a(e("div",lt,[e("h2",rt,"Your Income - "+l(D.value),1),e("div",it,[e("ul",at,[(r(!0),i(_,null,S(W.value,s=>(r(),i("li",{key:s.id,class:"px-4 py-3"},[e("div",dt,[e("div",null,[e("p",ut,l(s.category)+" - "+l(s.description),1)]),e("div",mt,[e("div",ct," + KES "+l(Math.round(parseFloat(s.amount)).toLocaleString()),1),e("button",{onClick:m=>Z(s),class:"bg-blue-500 hover:bg-blue-600 text-white px-3 py-1 rounded"}," Edit ",8,bt),e("button",{onClick:m=>ee(s),class:"bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded"}," Delete ",8,pt)])])]))),128)),e("li",gt,[e("div",ft,[t[48]||(t[48]=e("div",null,[e("p",{class:"text-sm font-bold text-gray-900"}," TOTAL INCOME ")],-1)),e("div",xt," KES "+l(L.value.toLocaleString()),1)])])])])],512),[[A,$.value]]),a(e("div",vt,[e("h2",yt,"Your Budget - "+l(D.value),1),e("div",wt,[e("ul",ht,[(r(!0),i(_,null,S(X.value,(s,m)=>(r(),i("li",{key:m,class:"px-4 py-3"},[e("div",_t,[e("div",null,[e("p",kt,l(m),1)]),e("div",St,[e("div",Ct," - KES "+l(Math.round(parseFloat(s)).toLocaleString()),1)])])]))),128)),e("li",Et,[e("div",Dt,[t[49]||(t[49]=e("div",null,[e("p",{class:"text-sm font-bold text-gray-900"}," TOTAL MONTHLY BUDGET ")],-1)),e("div",Mt," KES "+l(q.value.toLocaleString()),1)])])])])],512),[[A,$.value]]),a(e("div",At,[t[50]||(t[50]=e("h2",{class:"text-xl font-bold text-center text-gray-900"},"All Transactions",-1)),e("div",It,[e("ul",jt,[G.value.length===0?(r(),i("li",Tt," No transactions right now. Add the first transaction. ")):h("",!0),(r(!0),i(_,null,S(G.value,s=>(r(),i("li",{key:s.id,class:"px-4 py-3"},[e("div",$t,[e("div",null,[e("p",Vt,l(s.description),1),e("p",Ut,l(n(Ie)(s.transaction_date)),1)]),e("div",Ot,[e("div",{class:F([s.type==="income"?"text-green-600":"text-red-600","font-medium"])},l(s.type==="income"?"+":"-")+" KES "+l(Math.round(s.amount).toLocaleString()),3),e("button",{onClick:m=>Z(s),class:"bg-blue-500 hover:bg-blue-600 text-white px-3 py-1 rounded"}," Edit ",8,qt),e("button",{onClick:m=>ee(s),class:"bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded"}," Delete ",8,Bt)])])]))),128))]),e("div",Lt,[e("div",Kt,[e("span",Nt,l(D.value)+" Summary:",1),e("div",Ft,[e("p",Yt,"Income: KES "+l(L.value.toLocaleString()),1),e("p",zt,"Expenses: KES "+l(q.value.toLocaleString()),1),e("p",{class:F(["text-sm font-bold",K.value>=0?"text-green-600":"text-red-600"])}," Balance: KES "+l(K.value.toLocaleString()),3)])])])])],512),[[A,$.value]])])]),O.value?(r(),i("div",Gt,[e("div",{class:"fixed inset-0 bg-black bg-opacity-50",onClick:t[7]||(t[7]=s=>O.value=!1)}),e("div",Ht,[t[60]||(t[60]=e("h3",{class:"text-base font-semibold text-gray-900 mb-3"},"Add Income",-1)),e("form",{onSubmit:J(xe,["prevent"])},[e("div",Jt,[t[52]||(t[52]=e("label",{for:"incomeCategory",class:"block text-sm font-medium text-gray-700 mb-1"},"Income Type",-1)),a(e("select",{id:"incomeCategory","onUpdate:modelValue":t[8]||(t[8]=s=>n(p).category=s),class:"w-full px-2 py-1.5 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:""},[t[51]||(t[51]=e("option",{value:""},"Select Income Category",-1)),(r(!0),i(_,null,S(n(de),s=>(r(),i("option",{key:s.value,value:s.label},l(s.label),9,Rt))),128))],512),[[I,n(p).category]])]),a(e("div",Pt,[t[53]||(t[53]=e("label",{for:"incomeCategory",class:"block text-sm font-medium text-gray-700 mb-1"},"Specify Income",-1)),a(e("input",{type:"text",id:"incomeCategory","onUpdate:modelValue":t[9]||(t[9]=s=>n(p).otherCategory=s),class:"w-full px-2 py-1.5 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:n(p).value==="other"},null,8,Qt),[[k,n(p).otherCategory]])],512),[[A,n(p).category==="Other"]]),e("div",Wt,[t[56]||(t[56]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Is Recurrent?",-1)),e("div",Xt,[e("label",Zt,[a(e("input",{type:"radio",id:"yes",name:"is_recurring",value:"1","onUpdate:modelValue":t[10]||(t[10]=s=>n(p).is_recurring=s),checked:""},null,512),[[B,n(p).is_recurring]]),t[54]||(t[54]=e("span",{class:"ml-1"},"Yes",-1))]),e("label",es,[a(e("input",{type:"radio",id:"no",name:"is_recurring",value:"0","onUpdate:modelValue":t[11]||(t[11]=s=>n(p).is_recurring=s)},null,512),[[B,n(p).is_recurring]]),t[55]||(t[55]=e("span",{class:"ml-1"},"No",-1))])])]),e("div",ts,[t[57]||(t[57]=e("label",{for:"incomeDescription",class:"block text-sm font-medium text-gray-700 mb-1"},"Description",-1)),a(e("textarea",{id:"incomeDescription","onUpdate:modelValue":t[12]||(t[12]=s=>n(p).description=s),class:"w-full px-2 py-1.5 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:""},null,512),[[k,n(p).description]])]),e("div",ss,[t[58]||(t[58]=e("label",{for:"incomeAmount",class:"block text-sm font-medium text-gray-700 mb-1"},"Amount (KES)",-1)),a(e("input",{type:"number",id:"incomeAmount","onUpdate:modelValue":t[13]||(t[13]=s=>n(p).amount=s),class:"w-full px-2 py-1.5 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",min:"0",step:"0.01",required:""},null,512),[[k,n(p).amount]])]),e("div",os,[t[59]||(t[59]=e("label",{for:"incomeDate",class:"block text-sm font-medium text-gray-700 mb-1"},"Date",-1)),a(e("input",{type:"date",id:"incomeDate","onUpdate:modelValue":t[14]||(t[14]=s=>n(p).income_date=s),class:"w-full px-2 py-1.5 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:""},null,512),[[k,n(p).income_date]])]),e("div",ns,[e("button",{type:"button",onClick:t[15]||(t[15]=s=>O.value=!1),class:"px-3 py-1.5 border border-gray-300 rounded-md shadow-sm text-sm text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"}," Cancel "),e("button",ls,l(n(p).processing?"Saving...":"Save Income"),1)])],32)])])):h("",!0),E.value?(r(),i("div",rs,[e("div",{class:"fixed inset-0 bg-black bg-opacity-50",onClick:t[16]||(t[16]=s=>E.value=!1)}),e("div",is,[t[70]||(t[70]=e("h3",{class:"text-base font-semibold text-gray-900 mb-3"},"Add Expense",-1)),e("form",{onSubmit:J(ve,["prevent"])},[e("div",as,[t[62]||(t[62]=e("label",{for:"expenseCategory",class:"block text-sm font-medium text-gray-700 mb-1"},"Expense Type",-1)),a(e("select",{id:"expenseCategory","onUpdate:modelValue":t[17]||(t[17]=s=>n(g).category=s),class:"w-full px-2 py-1.5 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:""},[t[61]||(t[61]=e("option",{value:""},"Select Expense Type",-1)),(r(!0),i(_,null,S(n(ae),s=>(r(),i("option",{value:s.label,key:s.value},l(s.label),9,ds))),128))],512),[[I,n(g).category]])]),a(e("div",us,[t[63]||(t[63]=e("label",{for:"incomeCategory",class:"block text-sm font-medium text-gray-700 mb-1"},"Specify Expense",-1)),a(e("input",{type:"text",id:"incomeCategory","onUpdate:modelValue":t[18]||(t[18]=s=>n(g).otherCategory=s),class:"w-full px-2 py-1.5 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:n(g).value==="other"},null,8,ms),[[k,n(g).otherCategory]])],512),[[A,n(g).category==="Other"]]),e("div",cs,[t[66]||(t[66]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Is Recurrent?",-1)),e("div",bs,[e("label",ps,[a(e("input",{type:"radio",id:"yes",name:"is_recurring",value:"1","onUpdate:modelValue":t[19]||(t[19]=s=>n(g).is_recurring=s),checked:""},null,512),[[B,n(g).is_recurring]]),t[64]||(t[64]=e("span",{class:"ml-1"},"Yes",-1))]),e("label",gs,[a(e("input",{type:"radio",id:"no",name:"is_recurring",value:"0","onUpdate:modelValue":t[20]||(t[20]=s=>n(g).is_recurring=s)},null,512),[[B,n(g).is_recurring]]),t[65]||(t[65]=e("span",{class:"ml-1"},"No",-1))])])]),e("div",fs,[t[67]||(t[67]=e("label",{for:"expenseAmount",class:"block text-sm font-medium text-gray-700 mb-1"},"Amount (KES)",-1)),a(e("input",{type:"number",id:"expenseAmount","onUpdate:modelValue":t[21]||(t[21]=s=>n(g).amount=s),class:"w-full px-2 py-1.5 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",min:"0",step:"0.01",required:""},null,512),[[k,n(g).amount]])]),e("div",xs,[t[68]||(t[68]=e("label",{for:"expenseDescription",class:"block text-sm font-medium text-gray-700 mb-1"},"Description",-1)),a(e("textarea",{id:"expenseDescription","onUpdate:modelValue":t[22]||(t[22]=s=>n(g).description=s),rows:"2",class:"w-full px-2 py-1.5 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:""},null,512),[[k,n(g).description]])]),e("div",vs,[t[69]||(t[69]=e("label",{for:"expenseDate",class:"block text-sm font-medium text-gray-700 mb-1"},"Date",-1)),a(e("input",{type:"date",id:"expenseDate","onUpdate:modelValue":t[23]||(t[23]=s=>n(g).expense_date=s),class:"w-full px-2 py-1.5 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:""},null,512),[[k,n(g).expense_date]])]),e("div",ys,[e("button",{type:"button",onClick:t[24]||(t[24]=s=>V.value=!0),class:"px-3 py-1.5 border border-yellow-300 rounded-md shadow-sm text-sm text-yellow-700 bg-white hover:bg-yellow-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-yellow-400"}," Contribute "),e("button",{type:"button",onClick:t[25]||(t[25]=s=>E.value=!1),class:"px-3 py-1.5 border border-gray-300 rounded-md shadow-sm text-sm text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"}," Cancel "),e("button",ws,l(n(g).processing?"Saving...":"Save Expense"),1)])],32)])])):h("",!0),V.value?(r(),i("div",hs,[e("div",{class:"fixed inset-0 bg-black bg-opacity-50",onClick:t[26]||(t[26]=s=>V.value=!1)}),e("div",_s,[t[78]||(t[78]=e("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Contribute",-1)),e("form",{onSubmit:J(fe,["prevent"])},[e("div",ks,[t[72]||(t[72]=e("label",{for:"contributeType",class:"block text-sm font-medium text-gray-700 mb-1"},"Contribute to",-1)),a(e("select",{id:"contributeType",class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500","onUpdate:modelValue":t[27]||(t[27]=s=>n(u).category=s),required:""},t[71]||(t[71]=[e("option",{value:""},"Select Contribution",-1),e("option",{value:"goal"},"Goal",-1),e("option",{value:"debt"},"Debt",-1),e("option",{value:"investment"},"Investment",-1)]),512),[[I,n(u).category]])]),e("div",Ss,[t[75]||(t[75]=e("label",{for:"contributionType",class:"block text-sm font-medium text-gray-700 mb-1"},"Specify the contribution",-1)),n(u).category==="debt"?a((r(),i("select",{key:0,id:"contributionType","onUpdate:modelValue":t[28]||(t[28]=s=>n(u).debtId=s),class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:""},[t[73]||(t[73]=e("option",{value:""},"Select Contribution",-1)),(r(!0),i(_,null,S(v.data.debts,s=>(r(),i("option",{key:s.id,value:s.id},l(s.name),9,Cs))),128))],512)),[[I,n(u).debtId]]):h("",!0),n(u).category==="goal"?a((r(),i("select",{key:1,id:"contributionType","onUpdate:modelValue":t[29]||(t[29]=s=>n(u).goalId=s),class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:""},[t[74]||(t[74]=e("option",{value:""},"Select Contribution",-1)),(r(!0),i(_,null,S(v.data.goals,s=>(r(),i("option",{key:s.id,value:s.id},l(s.name),9,Es))),128))],512)),[[I,n(u).goalId]]):h("",!0)]),e("div",Ds,[t[76]||(t[76]=e("label",{for:"contribution_amount",class:"block text-sm font-medium text-gray-700 mb-1"},"Amount (KES)",-1)),a(e("input",{type:"number",id:"contribution_amount","onUpdate:modelValue":t[30]||(t[30]=s=>n(u).amount=s),class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",min:"0",step:"0.01",required:""},null,512),[[k,n(u).amount]])]),e("div",Ms,[t[77]||(t[77]=e("label",{for:"expenseDescription",class:"block text-sm font-medium text-gray-700 mb-1"},"Description",-1)),e("textarea",{id:"expenseDescription",rows:"2",class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",readonly:"",value:pe.value||ge.value},null,8,As)]),e("div",Is,[e("button",{type:"button",onClick:t[31]||(t[31]=s=>V.value=!1),class:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"}," Cancel "),e("button",js,l(n(u).processing?"Contributing...":"Contribute"),1)])],32)])])):h("",!0),T.value?(r(),i("div",Ts,[e("div",$s,[t[86]||(t[86]=e("h3",{class:"text-lg font-bold mb-4"},"Edit Transaction",-1)),e("form",{onSubmit:J(te,["prevent"])},[e("div",Vs,[t[79]||(t[79]=e("label",{for:"transactionType",class:"block text-sm font-medium text-gray-700 mb-1"},"Category",-1)),a(e("select",{"onUpdate:modelValue":t[32]||(t[32]=s=>d.value.category=s),class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:""},[e("option",{value:d.value.category},l(d.value.category),9,Us),(r(!0),i(_,null,S(n(ae),s=>(r(),i("option",{key:s.value,value:s.label},l(s.label),9,Os))),128))],512),[[A,d.value.type==="expense"],[I,d.value.category]]),a(e("select",{"onUpdate:modelValue":t[33]||(t[33]=s=>d.value.category=s),class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:""},[e("option",{value:d.value.category},l(d.value.category),9,qs),(r(!0),i(_,null,S(n(de),s=>(r(),i("option",{key:s.value,value:s.label},l(s.label),9,Bs))),128))],512),[[A,d.value.type==="income"],[I,d.value.category]])]),e("div",Ls,[t[82]||(t[82]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Is Recurrent?",-1)),e("div",Ks,[e("label",Ns,[a(e("input",{type:"radio",id:"yes",name:"is_recurring",value:!0,"onUpdate:modelValue":t[34]||(t[34]=s=>d.value.is_recurring=s),checked:d.value.is_recurring==!0},null,8,Fs),[[B,d.value.is_recurring]]),t[80]||(t[80]=e("span",{class:"ml-1"},"Yes",-1))]),e("label",Ys,[a(e("input",{type:"radio",id:"no",name:"is_recurring",value:!1,"onUpdate:modelValue":t[35]||(t[35]=s=>d.value.is_recurring=s),checked:d.value.is_recurring==!1},null,8,zs),[[B,d.value.is_recurring]]),t[81]||(t[81]=e("span",{class:"ml-1"},"No",-1))])])]),e("div",Gs,[t[83]||(t[83]=e("label",{for:"incomeAmount",class:"block text-sm font-medium text-gray-700 mb-1"},"Amount (KES)",-1)),a(e("input",{type:"number",id:"incomeAmount",name:"amount","onUpdate:modelValue":t[36]||(t[36]=s=>d.value.amount=s),class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",min:"0",step:"0.01",required:""},null,512),[[k,d.value.amount]])]),e("div",Hs,[t[84]||(t[84]=e("label",{for:"transactionAmount",class:"block text-sm font-medium text-gray-700 mb-1"},"Description",-1)),a(e("input",{type:"text",id:"transactionAmount",name:"description","onUpdate:modelValue":t[37]||(t[37]=s=>d.value.description=s),class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:""},null,512),[[k,d.value.description]])]),e("div",Js,[t[85]||(t[85]=e("label",{for:"transactionDate",class:"block text-sm font-medium text-gray-700 mb-1"},"Date",-1)),a(e("input",{type:"date",id:"transactionDate",name:"transaction_date","onUpdate:modelValue":t[38]||(t[38]=s=>d.value.transaction_date=s),class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:""},null,512),[[k,d.value.transaction_date]])]),e("div",Rs,[e("button",{onClick:te,class:"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded"},l(n(M).processing?"Saving...":"Submit"),1),e("button",{onClick:t[39]||(t[39]=s=>T.value=!1),class:"bg-gray-300 hover:bg-gray-400 text-gray-700 px-4 py-2 rounded"},"Cancel")])],32)])])):h("",!0),C.value?(r(),i("div",Ps,[e("div",Qs,[t[87]||(t[87]=e("h3",{class:"text-lg font-bold mb-4"},"Confirm Delete",-1)),t[88]||(t[88]=e("p",{class:"mb-4"},"Are you sure you want to delete this transaction?",-1)),e("div",Ws,[e("button",{onClick:se,class:"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded"},l(se.processing?"Deleting...":"Delete"),1),e("button",{onClick:t[40]||(t[40]=s=>C.value=!1),class:"bg-gray-300 hover:bg-gray-400 text-gray-700 px-4 py-2 rounded"},"Cancel")])])])):h("",!0),Y.value?(r(),i("div",Xs,[e("div",{class:"fixed inset-0 bg-black bg-opacity-50",onClick:t[41]||(t[41]=s=>Y.value=!1)}),e("div",Zs,[t[90]||(t[90]=e("h3",{class:"text-base font-semibold text-yellow-500 mb-3"},"Monthly Budget Overview",-1)),e("div",eo,[(r(!0),i(_,null,S(X.value,(s,m)=>(r(),i("div",{key:m,class:"bg-purple-900 border border-purple-700 rounded-lg p-2 hover:bg-purple-800 transition-colors"},[e("div",to,[e("h4",so,l(m),1),e("span",oo," KES "+l(s.toLocaleString()),1)])]))),128))]),e("div",no,[e("div",lo,[t[89]||(t[89]=e("h4",{class:"text-sm font-medium text-white"},"TOTAL: ",-1)),e("span",ro," KES "+l(q.value.toLocaleString()),1)])]),e("div",io,[e("button",{onClick:t[42]||(t[42]=s=>Y.value=!1),class:"px-3 py-1 border border-yellow-500 rounded-md shadow-sm text-xs font-medium text-purple-900 bg-yellow-500 hover:bg-yellow-400 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-900"}," Close ")])])])):h("",!0)]),_:1})])]),_:1})],64))}};export{fo as default};
